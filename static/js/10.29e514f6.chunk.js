"use strict";(self.webpackChunkownrecipes_web=self.webpackChunkownrecipes_web||[]).push([[10],{9634:function(e,n,t){t.d(n,{Z:function(){return h}});var r=t(1413),i=t(557),s=t(2791),a=t(1694),o=t.n(a),l=t(3504),c=t(5139),u=t(184),d=["linkFor","className"],h=(0,s.forwardRef)((function(e,n){var t=e.linkFor,s=e.className,a=(0,i.Z)(e,d);return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(l.rU,(0,r.Z)((0,r.Z)({className:o()("headerlink",s),to:"#".concat(t),title:"Permalink to this headline"},a),{},{ref:n,children:"\xb6"})),(0,u.jsx)(c.Z,{uriFragmentId:t})]})}))},9377:function(e,n,t){var r=t(1413),i=t(885),s=t(557),a=t(2791),o=t(184),l=["src","placeholder","alt","onError"],c=(0,a.forwardRef)((function(e,n){var t=e.src,c=e.placeholder,u=e.alt,d=e.onError,h=(0,s.Z)(e,l),f=(0,a.useState)(!1),p=(0,i.Z)(f,2),g=p[0],m=p[1];(0,a.useEffect)((function(){m(!1)}),[t]);var v=(0,a.useCallback)((function(){m(!0),null===d||void 0===d||d()}),[d]);return(0,o.jsx)("img",(0,r.Z)((0,r.Z)({src:g?c:t,alt:u,onError:v},h),{},{ref:n}))}));n.Z=c},6569:function(e,n,t){t.d(n,{Z:function(){return v}});var r=t(1413),i=t(557),s=t(5671),a=t(3144),o=t(136),l=t(2269),c=t(2791),u=t(9795),d=t(6944),h=t(4858),f=t(9276),p=t(78),g=t(184),m=["value","onChange","name","style","tooltip","label","className","helpText","errors","meta"],v=function(e){(0,o.Z)(t,e);var n=(0,l.Z)(t);function t(){var e;(0,s.Z)(this,t);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return(e=n.call.apply(n,[this].concat(i))).ref=(0,c.createRef)(),e.handleChange=function(){var n,t;e.props.readOnly||e.props.disabled||null===(n=(t=e.props).onChange)||void 0===n||n.call(t,e.props.name,!e.props.value)},e}return(0,a.Z)(t,[{key:"focus",value:function(){return!(null==this.ref||!this.ref.current)&&(this.ref.current.focus(),!0)}},{key:"getLabel",value:function(){return null==this.props.label?null:this.props.tooltip?(0,g.jsxs)(g.Fragment,{children:[this.props.label,"\xa0",(0,g.jsx)(p.Z,{icon:"info-circle",className:"tooltip-icon"})]}):this.props.label}},{key:"render",value:function(){var e=this.props,n=e.value,t=(e.onChange,e.name),s=e.style,a=e.tooltip,o=(e.label,e.className,e.helpText,e.errors,e.meta,(0,i.Z)(e,m));return(0,g.jsx)(u.Z.Group,(0,r.Z)((0,r.Z)({},this.getGroupProps()),{},{controlId:t,className:this.getFormGroupClassNames(),style:s,children:(0,g.jsxs)(f.Z,{condition:null!=a,render:function(e){return(0,g.jsx)(h.Z,{id:"".concat(t,"-tooltip"),tooltip:a,children:e})},children:[this.getHelpText(),this.getErrorMessage(),(0,g.jsx)(u.Z.Check,(0,r.Z)((0,r.Z)({name:t,checked:n,label:this.getLabel(),className:"form-check",onChange:this.handleChange},o),{},{ref:this.ref}))]})}))}}]),t}(d.Z)},6844:function(e,n,t){t.d(n,{a:function(){return _},P:function(){return x}});var r=t(2982),i=t(1413),s=t(557),a=t(5671),o=t(3144),l=t(136),c=t(2269),u=t(2791),d=t(9795),h=t(8622),f=t(6999),p=t(6944),g=t(9276),m=t(4858),v=t(184),Z=["value","data","onChange","name","style","tooltip","readOnly","disabled","label","className","helpText","errors","meta"],b=["value","data","onChange","name","style","tooltip","readOnly","disabled","label","className","helpText","errors","meta"],x=function(e){(0,l.Z)(t,e);var n=(0,c.Z)(t);function t(){var e;(0,a.Z)(this,t);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return(e=n.call.apply(n,[this].concat(i))).ref=(0,u.createRef)(),e.handleChange=function(n){var t,r;e.setState({value:n}),null===(t=(r=e.props).onChange)||void 0===t||t.call(r,e.props.name,null===n||void 0===n?void 0:n.value)},e}return(0,o.Z)(t,[{key:"focus",value:function(){return!(null==this.ref||!this.ref.current)&&(this.ref.current.focus(),!0)}},{key:"render",value:function(){var e=this.props,n=e.value,t=e.data,r=(e.onChange,e.name),a=e.style,o=e.tooltip,l=e.readOnly,c=e.disabled,u=(e.label,e.className,e.helpText,e.errors,e.meta,(0,s.Z)(e,Z)),f=null===t||void 0===t?void 0:t.find((function(e){return e.value===n}));return(0,v.jsx)(d.Z.Group,(0,i.Z)((0,i.Z)({},this.getGroupProps()),{},{className:this.getFormGroupClassNames(),style:a,children:(0,v.jsxs)(g.Z,{condition:null!=o,render:function(e){return(0,v.jsx)(m.Z,{id:"".concat(r,"-tooltip"),tooltip:o,children:e})},children:[this.getLabel({htmlFor:"".concat(r,"-input")}),this.getHelpText(),this.getErrorMessage(),(0,v.jsx)(h.ZP,(0,i.Z)((0,i.Z)({inputId:"".concat(r,"-input"),name:r,value:f,options:t,isDisabled:l||c,onChange:this.handleChange,className:"react-select-container",classNamePrefix:"creatable-select",placeholder:""},u),{},{ref:this.ref}))]})}))}}]),t}(p.Z),y=function(e){return!!e};function j(e,n){return Array.isArray(n)?e.filter((function(e){return n.includes(e.value)})):null!==(t=e.find((function(e){return e.value===n})))&&void 0!==t?t:"";var t}var _=function(e){(0,l.Z)(t,e);var n=(0,c.Z)(t);function t(e){var i;return(0,a.Z)(this,t),(i=n.call(this,e)).ref=(0,u.createRef)(),i.handleChange=function(e){if(i.props.onChange){var n=null!=e&&Array.isArray(e)?e.map((function(e){return e.value})):null===e||void 0===e?void 0:e.value;i.props.onChange(i.props.name,n)}},i.handleCreate=function(e){var n={value:e,label:e};i.setState((function(e){return{options:[].concat((0,r.Z)(e.options),[n])}}),(function(){if(i.props.isMulti){var t,s,a=j((null!==(t=i.props.data)&&void 0!==t?t:[]).concat(i.state.options),[].concat((0,r.Z)(null!==(s=i.props.value)&&void 0!==s?s:[]),[e]));i.handleChange(a)}else i.handleChange(n)}))},i.state={options:[]},i}return(0,o.Z)(t,[{key:"focus",value:function(){return!(null==this.ref||!this.ref.current)&&(this.ref.current.focus(),!0)}},{key:"render",value:function(){var e=this.props,n=e.value,t=e.data,r=(e.onChange,e.name),a=e.style,o=e.tooltip,l=e.readOnly,c=e.disabled,u=(e.label,e.className,e.helpText,e.errors,e.meta,(0,s.Z)(e,b)),h=(null!==t&&void 0!==t?t:[]).concat(this.state.options),p=j(h,n);return(0,v.jsx)(d.Z.Group,(0,i.Z)((0,i.Z)({},this.getGroupProps()),{},{className:this.getFormGroupClassNames(),style:a,children:(0,v.jsxs)(g.Z,{condition:null!=o,render:function(e){return(0,v.jsx)(m.Z,{id:"".concat(r,"-tooltip"),tooltip:o,children:e})},children:[this.getLabel({htmlFor:"".concat(r,"-input")}),this.getHelpText(),this.getErrorMessage(),(0,v.jsx)(f.Z,(0,i.Z)((0,i.Z)({inputId:"".concat(r,"-input"),onChange:this.handleChange,isValidNewOption:y,onCreateOption:this.handleCreate,isClearable:!0,value:p,isDisabled:l||c,className:"react-select-container",classNamePrefix:"creatable-select",options:h,placeholder:""},u),{},{ref:this.ref}))]})}))}}],[{key:"getDerivedStateFromProps",value:function(e,n){if(null==e.data||0===e.data.length||0===n.options.length)return n;for(var t=e.data.map((function(e){return e.value})),s=(0,r.Z)(n.options),a=s.length-1;a>=0;--a)t.includes(s[a].value)&&s.splice(a,1);return n.options.length===s.length?n:(0,i.Z)((0,i.Z)({},n),{},{options:s})}}]),t}(p.Z)},3976:function(e,n,t){var r=t(2791),i=t(7022),s=t(6871),a=t(5694),o=t(1884),l=t(2605),c=t(184);function u(e){var n,t,r=e.startsWith(null!==(n=(0,o.dU)("PUBLIC_URL"))&&void 0!==n?n:"")?e.substring((null!==(t=(0,o.dU)("PUBLIC_URL"))&&void 0!==t?t:"").length):e,i=r.startsWith("/"),s=r.endsWith("/");return r.substring(i?1:0,s?r.length-1:void 0)}n.Z=function(e){var n=e.title,t=e.id,d=e.state,h=e.children,f=(0,s.s0)(),p=(0,s.TH)(),g=null===d||void 0===d?void 0:d.meta.error,m=(0,r.useContext)(a.Z);return(0,r.useEffect)((function(){document.title="".concat(null!=n&&n.length>0?"".concat(n," | "):"","OwnRecipes")}),[n]),(0,r.useEffect)((function(){if(g&&null==t){var e=(0,o.qC)("/NotFound");f(e)}}),[t,g]),(0,c.jsx)(i.Z,{id:"main-container",as:"main",className:u(p.pathname),style:{marginTop:"".concat(m.toolbarHeight,"px")},children:(0,c.jsx)(l.Z,{verbose:!0,printStack:!0,children:h})})}},6623:function(e,n,t){var r=t(1413),i=t(557),s=t(2791),a=t(3720),o=t(3539),l=t(6699),c=t(6569),u=t(184),d=["name","required","format","parse","onChange","onFocus","onBlur"],h=(0,s.forwardRef)((function(e,n){var t=e.name,s=e.required,h=e.format,f=e.parse,p=e.onChange,g=e.onFocus,m=e.onBlur,v=(0,i.Z)(e,d),Z=(0,o.Z)();return(0,u.jsx)(a.gN,{name:t,validate:s?l.np:void 0,validateFields:[],format:h,parse:f,children:function(e){return(0,u.jsx)(c.Z,(0,r.Z)((0,r.Z)({},v),{},{required:s,name:e.input.name,value:e.input.value,errors:(0,l.fr)(Z,e.meta.error||(e.meta.dirtySinceLastSubmit?void 0:e.meta.submitError)),meta:e.meta,onChange:function(n,t){e.input.onChange(t),null===p||void 0===p||p(n,t)},onFocus:function(n){e.input.onFocus(n),null===g||void 0===g||g(n)},onBlur:function(n){e.input.onBlur(n),null===m||void 0===m||m(n)},ref:n}))}})}));n.Z=h},2265:function(e,n,t){t.d(n,{Z:function(){return C}});var r=t(3720),i=t(885),s=t(2982),a=t(2791),o=t(6221),l=t(3539),c=t(4774),u=t(7480),d=t(1413),h=t(6871);function f(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],t=(0,a.useContext)(h.Us).navigator;(0,a.useEffect)((function(){if(n){var r=t.block((function(n){var t=(0,d.Z)((0,d.Z)({},n),{},{retry:function(){r(),n.retry()}});e(t)}));return r}}),[t,e,n])}((0,a.useCallback)((function(n){window.confirm(e)&&n.retry()}),[e]),n)}var p=t(184),g=(0,o.vU)({navigation_warning:{id:"navigationprompt.warning",description:"Prompt displayed when navigating on a dirty page (unsaved changes).",defaultMessage:"You have unsaved changed. If you continue, those change may be lost."}}),m=function(e){var n=e.isDirty,t=(0,l.Z)().formatMessage,r=(0,a.useMemo)((function(){return t(g.navigation_warning)}),[t]),i=f(r,n);return(0,p.jsxs)(p.Fragment,{children:[n&&(0,p.jsx)(u.S,{onBeforeunload:function(){return r}}),i]})},v=t(1127),Z=t(3847),b=(0,o.vU)({form_errors_title:{id:"status.form_errors_title",description:"Title for the form error box.",defaultMessage:"The form contains an error."},form_errors_alert:{id:"status.form_errors_alert",description:"Alert text for the form error box.",defaultMessage:"Please fix the described error(s) and continue."},form_errors_table_heading_error:{id:"status.form_errors_table_heading_error",description:"The form-errors will be displayed as table, with an error column. This is the column's title.",defaultMessage:"Error"},form_errors_table_heading_message:{id:"status.form_errors_table_heading_message",description:"The form-errors will be displayed as table, with a message column. This is the column's title.",defaultMessage:"Message"},save_success:{id:"status.save_success",description:"Toast for successfully saved form.",defaultMessage:"Changes saved."}}),x=function(e){var n,t,r=e.name,i=e.err,a=null!==(n=null===(t=document.querySelector('[data-api-field="'.concat(r,'"] > label')))||void 0===t?void 0:t.textContent)&&void 0!==n?n:r,o=[];return Array.isArray(i)?o.push.apply(o,(0,s.Z)(i.map((function(e){return e.message})))):o.push(i.message),(0,p.jsxs)("tr",{children:[(0,p.jsx)("td",{children:a}),(0,p.jsx)("td",{children:o.join(". ")})]})};var y=function(e){var n=e.errors,t=(0,l.Z)().formatMessage,r=(0,a.useMemo)((function(){return null!=n?function(e){var n=Object.entries(e).filter((function(e){return!(0,i.Z)(e,1)[0].startsWith("_")}));return Object.fromEntries(n)}(n):void 0}),[n]),s=(0,a.useMemo)((function(){if(null==r||0===Object.keys(r).length)return[];var e=[];return Object.keys(r).forEach((function(n){var t=r[n];e.push((0,p.jsx)(x,{name:n,err:t},n))})),e}),[r]);if(null==r||0===Object.keys(r).length)return null;var o=(0,p.jsxs)("table",{children:[(0,p.jsx)("thead",{children:(0,p.jsxs)("tr",{children:[(0,p.jsx)("th",{children:t(b.form_errors_table_heading_error)}),(0,p.jsx)("th",{children:t(b.form_errors_table_heading_message)})]})}),(0,p.jsx)("tbody",{children:s})]});return(0,p.jsxs)(c.Z,{severity:"danger",className:"form-errors",title:t(b.form_errors_title),children:[o,(0,p.jsx)(v.Z,{className:"alert-post-message",children:t(b.form_errors_alert)})]})},j=function(e){var n=e.dirty,t=e.submitting,r=e.errors,s=e.onSubmitSuccess,o=(0,l.Z)().formatMessage,c=(0,a.useRef)(!1),u=(0,a.useState)(!1),d=(0,i.Z)(u,2),h=d[0],f=d[1];(0,a.useEffect)((function(){!0===c.current&&!1===t&&null==r&&(f(!0),null===s||void 0===s||s()),c.current=t}),[t]),(0,a.useEffect)((function(){n&&h&&f(!1)}),[n]);var g=(0,a.useCallback)((function(){f(!1)}),[]);return(0,p.jsx)(Z.Z,{show:h,variant:"success",anchorOrigin:{horizontal:"center",vertical:"bottom"},onClose:g,children:o(b.save_success)})},_=function(e){var n=e.dirty,t=e.submitting,r=e.errors,i=e.onSubmitSuccess;return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(m,{isDirty:n}),(0,p.jsx)(y,{errors:r}),(0,p.jsx)(j,{dirty:n,submitting:t,onSubmitSuccess:i,errors:r})]})},C=function(e){var n=e.onSubmitSuccess;return(0,p.jsx)(r.lP,{subscription:{dirty:!0,submitting:!0,submitErrors:!0},children:function(e){var t=e.dirty,r=e.submitting,i=e.submitErrors;return(0,p.jsx)(_,{dirty:t,submitting:r,errors:i,onSubmitSuccess:n})}})}},9854:function(e,n,t){var r=t(2791);n.Z=function(e){var n=e.form,t=e.initialValues;return(0,r.useEffect)((function(){n&&null!=n.restart&&n.restart(t)}),[t]),null}},3847:function(e,n,t){t.d(n,{Z:function(){return f}});var r=t(1413),i=t(557),s=t(2791),a=t(6657),o=t(1694),l=t.n(o),c=t(78),u=t(184),d=["show","autoHide","variant","anchorOrigin","onClose","children","className"];function h(e){return 0===e.length?"":1===e.length?e.toUpperCase():e.charAt(0).toUpperCase()+e.slice(1)}var f=(0,s.forwardRef)((function(e,n){var t=e.show,s=e.autoHide,o=void 0===s?6e3:s,f=e.variant,p=e.anchorOrigin,g=e.onClose,m=e.children,v=e.className,Z=(0,i.Z)(e,d),b=null!=p?"Toast-anchorOrigin".concat(h(p.vertical)).concat(h(p.horizontal)):void 0;return(0,u.jsx)(a.Z,(0,r.Z)((0,r.Z)({show:t,delay:o,autohide:o>0,className:l()("simple-toast",v,b,{success:"success"===f}),onClose:g},Z),{},{ref:n,children:(0,u.jsx)(a.Z.Header,{closeButton:null!=g,children:(0,u.jsxs)(u.Fragment,{children:["success"===f&&(0,u.jsx)("div",{className:"toast-icon",children:(0,u.jsx)(c.Z,{icon:"check",variant:"light",size:"2x"})}),(0,u.jsx)("span",{className:"toast-title",children:m})]})})}))}))},6956:function(e,n,t){t.d(n,{Z:function(){return u}});var r=t(1413),i=t(557),s=t(2791),a=t(1694),o=t.n(a),l=t(184),c=["height","width","children","className","style"],u=(0,s.forwardRef)((function(e,n){var t=e.height,s=e.width,a=e.children,u=e.className,d=e.style,h=(0,i.Z)(e,c);return(0,l.jsx)("div",(0,r.Z)((0,r.Z)({style:(0,r.Z)({paddingTop:"".concat(t,"%"),width:"".concat(s,"%"),position:"relative"},d),className:o()("width-height-ratio",u)},h),{},{ref:n,children:a}))}))},9024:function(e,n,t){var r=t(2982),i=t(2791),s=t(1694),a=t.n(s),o=(t(4786),t(9634)),l=t(4421),c=t(1884),u=t(184);function d(e,n,t,r){if(0!==t.length){var i=function(e,n){var t=n.findIndex((function(n){return n.title===e}));if(t>=0)return n.splice(t,1)[0]}(n,r);e.push({heading:n,directions:t,ingredients:i?[i]:void 0})}}function h(e,n){var t=(0,r.Z)(n),i=e.includes("\n"),s=[],a=[],o="";return i?(e.split("\n").filter((function(e){return e.length>0})).forEach((function(e){e.endsWith(":")?(d(s,o,a,t),o=e.substring(0,e.length-1),a=[]):a.push(e)})),d(s,o,a,t)):d(s,"",[e],t),function(e,n){if(0!==n.length){var t,i=e.find((function(e){return!e.heading}));i?i.ingredients?(t=i.ingredients).push.apply(t,(0,r.Z)(n)):i.ingredients=(0,r.Z)(n):e.unshift({directions:[],ingredients:(0,r.Z)(n)}),n.splice(0,n.length)}}(s,t),s}n.Z=function(e){var n=e.directions,t=e.ingredients,r=(0,i.useMemo)((function(){return h(n,t)}),[n,t]),s=(0,i.useMemo)((function(){return(e=r).filter((function(e){return e.directions.length>0||null!=e.ingredients&&e.ingredients.length>0})).map((function(n){var t,r;1===n.directions.length?r=(0,u.jsx)("div",{className:"direction",children:n.directions[0]}):n.directions.length>1&&(r=(0,u.jsx)("ol",{className:"directions",children:n.directions.map((function(e){return(0,u.jsx)("li",{className:"direction",children:e},e)}))}));var i=!n.heading,s=(0,c.lV)(null!==(t=n.heading)&&void 0!==t?t:"");return(0,u.jsxs)("div",{className:a()("subgroup",s),children:[n.heading&&(0,u.jsxs)("h3",{id:"direction-".concat(s),children:["".concat(n.heading,":"),(0,u.jsx)(o.Z,{linkFor:"direction-".concat(s)})]}),n.ingredients&&n.ingredients.length>0&&(0,u.jsx)("div",{className:"ingredients",children:(0,u.jsx)(l.Z,{groups:n.ingredients,hasSubrecipes:i&&e.length>1})}),r]},s)}));var e}),[r]);return(0,u.jsx)(u.Fragment,{children:s})}},4421:function(e,n,t){t(1420);var r=t(7812),i=t(184);n.Z=function(e){var n=e.groups,t=e.hasSubrecipes,s=e.withHeaderLink,a=e.selectable,o=t||null!=n&&n.length>1,l=null===n||void 0===n?void 0:n.filter((function(e){return e.title||e.ingredients.length>0})).map((function(e){return(0,i.jsx)("div",{className:"subgroup ingredient-group",children:(0,i.jsx)(r.Z,{showCaptions:o,group:e,withHeaderLink:s,data:e.ingredients,selectable:a})},e.slug||e.title)}));return(0,i.jsx)(i.Fragment,{children:l})}},7812:function(e,n,t){t.d(n,{Z:function(){return p},Q:function(){return f}});var r=t(2791),i=t(2591),s=t(6221),a=t(3539),o=t(7847),l=t(9634),c=t(1884),u=t(6623),d=t(184),h=(0,s.vU)({quantity:{id:"ingredients.table.quantity",description:"Ingredients table quantity header",defaultMessage:"Quantity"},ingredient:{id:"ingredients.table.ingredient",description:"Ingredients table ingredient header",defaultMessage:"Ingredient"}});function f(e,n,t,r){var i;if(null!=t){var s=n.formatter[n.parser[t]];i=null!=s?(0,c.kT)(e,"measurement.",s,{itemCount:r}):t}else i="";return i}var p=function(e){var n=e.showCaptions,t=e.group,s=e.data,p=e.withHeaderLink,g=e.selectable,m=(0,a.Z)(),v=m.formatMessage,Z=(0,r.useContext)(o.Z),b=n&&t.title?t.title:void 0,x=(0,c.lV)(null!==b&&void 0!==b?b:""),y=s.map((function(e,n){var r,i=e.quantity,s=f(m,Z,e.measurement,e.quantity),a=e.title,o=[i,s,a].join(" "),l=Boolean(i)||Boolean(s);return(0,d.jsxs)("tr",{className:"ingredient",children:[g&&(0,d.jsx)("td",{className:"selection",children:(0,d.jsx)(u.Z,{label:o,className:"label-sr-only",name:"ingredients.".concat(t.slug,".cb-").concat(e.id)})}),(0,d.jsx)("td",{className:"quantity",children:l&&(0,d.jsxs)("span",{children:[i,null!=i&&i.length>0&&s.length>0&&" ",s]})}),(0,d.jsx)("td",{className:"ingredient",children:(0,d.jsx)("span",{children:a})})]},(null!==(r=e.id)&&void 0!==r?r:n).toString())}));return(0,d.jsxs)(i.Z,{striped:!0,size:"sm",className:"table ingredients-table",children:[b&&(0,d.jsxs)("caption",{id:p?"ingredients-".concat(x):void 0,className:"subheading h3",children:["".concat(b,":"),p&&(0,d.jsx)(l.Z,{linkFor:"ingredients-".concat(x)})]}),(0,d.jsx)("thead",{className:"hideme",children:(0,d.jsxs)("tr",{children:[g&&(0,d.jsx)("th",{children:(0,d.jsx)("span",{children:"Selection"})}),(0,d.jsx)("th",{children:(0,d.jsx)("span",{children:v(h.quantity)})}),(0,d.jsx)("th",{children:(0,d.jsx)("span",{children:v(h.ingredient)})})]})}),(0,d.jsx)("tbody",{children:y})]})}},4349:function(e,n,t){var r=t(1694),i=t.n(r),s=t(2591),a=t(6221),o=t(3539),l=t(3504),c=t(9634),u=t(6623),d=t(1884),h=t(184),f=(0,a.vU)({subrecipes:{id:"subrecipes.subrecipes heading",description:"Subrecipes header",defaultMessage:"Subrecipes"},quantity:{id:"subrecipes.table.quantity",description:"Subrecipes table quantity header",defaultMessage:"Quantity"},subrecipe:{id:"subrecipes.table.subrecipe",description:"Subrecipes table ingredient header",defaultMessage:"Subrecipe"}});n.Z=function(e){var n=e.subRecipes,t=e.withHeaderLink,r=e.selectable,a=(0,o.Z)(),p=null==n||n.filter((function(e){return null!=e.quantity&&e.quantity.length>0&&"0"!==e.quantity||null!=e.measurement&&e.measurement.length>0})).length>0,g=null===n||void 0===n?void 0:n.map((function(e,n){var t,s=null!=e.quantity&&e.quantity.length>0&&"0"!==e.quantity?e.quantity:"",o=null!=e.measurement?(0,d.kT)(a,"measurement.",e.measurement,{itemCount:e.quantity}):"",c=e.title,f=[s,o,c].join(" ");return(0,h.jsxs)("tr",{className:"ingredient",children:[r&&(0,h.jsx)("td",{className:"selection",children:(0,h.jsx)(u.Z,{label:f,className:"label-sr-only",name:"subrecipes.cb-".concat(e.child_recipe_id)})}),p&&(0,h.jsx)("td",{className:"quantity first-col",children:(0,h.jsxs)("span",{children:[s,null!=s&&s.length>0&&o.length>0&&" ",o]})}),(0,h.jsx)("td",{className:i()("ingredient last-col",{"first-col":p}),children:(0,h.jsx)("span",{children:(0,h.jsx)(l.rU,{to:(0,d.qC)("/recipe/".concat(e.slug)),className:"title",children:c})})})]},(null!==(t=e.child_recipe_id)&&void 0!==t?t:n).toString())}));return null==g||0===g.length?null:(0,h.jsx)("div",{className:"subgroup ingredient-group",children:(0,h.jsxs)(s.Z,{striped:!0,size:"sm",className:"table ingredients-table",children:[(0,h.jsxs)("caption",{id:t?"subrecipes":void 0,className:"subheading h3",children:["".concat(a.formatMessage(f.subrecipes),":"),t&&(0,h.jsx)(c.Z,{linkFor:"subrecipes"})]}),(0,h.jsx)("thead",{className:"hideme",children:(0,h.jsxs)("tr",{children:[r&&(0,h.jsx)("th",{children:(0,h.jsx)("span",{children:"Selection"})}),p&&(0,h.jsx)("th",{children:(0,h.jsx)("span",{children:a.formatMessage(f.quantity)})}),(0,h.jsx)("th",{children:(0,h.jsx)("span",{children:a.formatMessage(f.subrecipe)})})]})}),(0,h.jsx)("tbody",{children:g})]})})}},297:function(e,n,t){t.d(n,{MA:function(){return f},eI:function(){return d},ln:function(){return h},mc:function(){return p},y7:function(){return c},zD:function(){return u}});var r=t(1413),i=t(7572),s=t(8263),a=t(6879),o=t(7728),l=t(9656),c=function(e){return(0,r.Z)((0,r.Z)({},(0,l.s_)(a.yW,o.o.GET_SUCCESS)),{},{payload:e})},u=function(e){return function(n){n((0,r.Z)({},(0,l.s_)(a.yW,o.o.GET_START))),(0,i.WY)().get("".concat(s.m.recipe).concat(e,"/")).then((function(e){n(c((0,a.gl)(e.body)))})).catch((function(e){return n((0,i.S3)(e,a.yW))}))}},d=function(e,n){return function(t){t((0,r.Z)({},(0,l.s_)(a.yW,o.o.DELETE_START))),(0,i.WY)().delete("".concat(s.m.recipe).concat(n,"/")).then((function(){t((0,r.Z)((0,r.Z)({},(0,l.s_)(a.yW,a.M9.RECIPE_DELETE)),{},{payload:{id:e}}))})).catch((function(e){return t((0,i.S3)(e,a.yW))}))}},h=function(e,n){return function(t){t((0,r.Z)((0,r.Z)({},(0,l.s_)(a.yW,a.M9.RECIPE_INGREDIENT_SERVINGS_UPDATE)),{},{payload:{recipeSlug:e,customServings:n}}))}},f=function(e){return function(n){n((0,r.Z)((0,r.Z)({},(0,l.s_)(a.yW,o.o.PRELOAD)),{},{payload:e}))}},p=function(){return function(e){e((0,r.Z)({},(0,l.s_)(a.yW,o.o.RESET)))}}},5208:function(e,n,t){t.r(n),t.d(n,{fetchRecipeList:function(){return b},invalidateCreatableLists:function(){return Z},load:function(){return p},preload:function(){return g},reset:function(){return m},save:function(){return v}});var r=t(4165),i=t(5861),s=t(1413),a=t(7572),o=t(8263),l=t(7728),c=t(6879),u=t(1220),d=t(9656),h=t(2020),f=t(297),p=function(e){return function(n){n((0,s.Z)({},(0,d.s_)(h.z,l.o.GET_START))),(0,a.WY)().get("".concat(o.m.recipe).concat(e,"/")).then((function(e){var t=(0,c.gl)(e.body);n((0,s.Z)((0,s.Z)({},(0,d.s_)(h.z,l.o.GET_SUCCESS)),{},{payload:t})),n((0,f.y7)(t))})).catch((function(e){return n((0,a.S3)(e,h.z))}))}},g=function(e){return function(n){n((0,s.Z)((0,s.Z)({},(0,d.s_)(h.z,l.o.PRELOAD)),{},{payload:e}))}},m=function(){return function(e){e((0,s.Z)({},(0,d.s_)(h.z,l.o.RESET)))}},v=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(n,t){var i,u,p,g;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i="object"===typeof t.photo?t.photo:void 0,u=!t.id,p=u?(0,a.WY)().post(o.m.recipe):(0,a.WY)().patch("".concat(o.m.recipe).concat(t.slug,"/")),n((0,s.Z)({},(0,d.s_)(h.z,u?l.o.CREATE_START:l.o.UPDATE_START))),g=(0,c.cH)(t),e.abrupt("return",p.send(g).then((function(e){if(i)return(0,a.WY)().patch("".concat(o.m.recipe).concat(e.body.slug,"/")).attach("photo",i).then((function(e){var r=(0,c.gl)(e.body);n((0,s.Z)((0,s.Z)({},(0,d.s_)(h.z,u?l.o.CREATE_SUCCESS:l.o.UPDATE_SUCCESS)),{},{oldId:t.id,payload:r})),n((0,f.y7)(r))})).catch((function(e){return(0,a.Hn)(n,e,h.z)}));var r=(0,c.gl)(e.body);return n((0,s.Z)((0,s.Z)({},(0,d.s_)(h.z,u?l.o.CREATE_SUCCESS:l.o.UPDATE_SUCCESS)),{},{oldId:u?null:t.id,payload:r})),n((0,f.y7)(r)),n(Z(t,(0,c.gl)(e.body))),null})).catch((function(e){return(0,a.Hn)(n,e,h.z)})));case 6:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),Z=function(e,n){return function(t){var r,i,a,o,c,h;(null===(r=e.course)||void 0===r?void 0:r.id)!==(null===(i=n.course)||void 0===i?void 0:i.id)&&t((0,s.Z)({},(0,d.s_)(u.pq,l.o.RESET))),(null===(a=e.cuisine)||void 0===a?void 0:a.id)!==(null===(o=n.cuisine)||void 0===o?void 0:o.id)&&t((0,s.Z)({},(0,d.s_)(u.xv,l.o.RESET))),(null===(c=e.tags)||void 0===c?void 0:c.map((function(e){return e.id})).join("/"))!==(null===(h=n.tags)||void 0===h?void 0:h.map((function(e){return e.id})).join("/"))&&t((0,s.Z)({},(0,d.s_)(u.ic,l.o.RESET)))}},b=function(e){return(0,a.WY)().get("".concat(o.m.recipe,"?fields=id,title,slug&limit=5&search=").concat(e)).then((function(e){return e.body.results.map((function(e){return{key:e.slug,name:e.slug,char:e.title}}))})).catch((function(){return[]}))}},4786:function(){},1420:function(){},3541:function(){}}]);
//# sourceMappingURL=10.29e514f6.chunk.js.map