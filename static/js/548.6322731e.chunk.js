"use strict";(self.webpackChunkownrecipes_web=self.webpackChunkownrecipes_web||[]).push([[548],{9548:function(e,n,r){r.r(n),r.d(n,{default:function(){return _}});var t=r(4165),o=r(5861),i=r(2791),a=r(3539),s=r(5316),l=r(1694),c=r.n(l),u=(r(7493),r(1122)),d=r(9656),f=r(9511),m=r(3976),p=r(9795),h=r(3360),g=r(6221),v=r(3720),b=r(78),Z=r(9854),x=r(7547),y=r(6623),w=r(4774),j=r(184),N=function(e){var n=e.submitError,r=(0,a.Z)().formatMessage,t=(0,g.vU)({errorTitle:{id:"login.alert.error_title",description:"Fail to login header",defaultMessage:"Login failed"},errorMessage:{id:"login.alert.incorrect_credentials",description:"Fail to login message",defaultMessage:"Incorrect username or password."}});return n?(0,j.jsx)(w.Z,{severity:"danger",title:r(t.errorTitle),children:r(t.errorMessage)}):null},C=function(e){var n=e.onSubmit,r=(0,a.Z)().formatMessage,s=(0,g.vU)({please_sign_in:{id:"login.please_sign_in",description:"Please sign in header",defaultMessage:"Sign In"},username:{id:"login.username",description:"Username placeholder",defaultMessage:"Username"},password:{id:"login.password",description:"Password placeholder",defaultMessage:"Password"},remember:{id:"login.remember",description:"Remember checkbox",defaultMessage:"Remember me for 14 days"},sign_in:{id:"login.sign_in",description:"Sign in button",defaultMessage:"Sign in"}}),l=(0,i.useCallback)(function(){var e=(0,o.Z)((0,t.Z)().mark((function e(r){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n(r.username,r.password,r.remember));case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),[n]),c=(0,i.useMemo)((function(){return{remember:!0}}),[]);return(0,j.jsx)(v.l0,{initialValues:c,onSubmit:l,subscription:{},render:function(e){var n=e.form,t=e.handleSubmit;return(0,j.jsxs)(p.Z,{className:"form-signin",onSubmit:t,children:[(0,j.jsx)(Z.Z,{form:n,initialValues:c}),(0,j.jsx)(v.lP,{subscription:{submitError:!0},children:function(e){var n=e.submitError;return(0,j.jsx)(N,{submitError:n})}}),(0,j.jsx)("h2",{className:"form-signin-heading",children:r(s.please_sign_in)}),(0,j.jsx)(x.Z,{name:"username",placeholder:r(s.username),autoComplete:"username",required:!0,inputAdornmentStart:(0,j.jsx)(b.Z,{icon:"person",size:"2x"})}),(0,j.jsx)(x.Z,{name:"password",type:"password",placeholder:r(s.password),autoComplete:"password",required:!0,inputAdornmentStart:(0,j.jsx)(b.Z,{icon:"key",size:"2x"})}),(0,j.jsx)(y.Z,{name:"remember",label:r(s.remember)}),(0,j.jsx)(v.lP,{subscription:{submitting:!0},children:function(e){var n=e.submitting;return(0,j.jsx)(h.Z,{variant:"primary",type:"submit",disabled:n,children:r(s.sign_in)})}})]})}})},E=r(1127),k=function(){var e=(0,a.Z)().formatMessage,n=(0,g.vU)({sign_up_info:{id:"login.sign_up_info",description:"Info that the sign up is handled by the admin.",defaultMessage:"Not signed up, yet? OwnRecipes is a private instance. Kindly ask the administrator to sign up an account for you."}});return(0,j.jsx)(E.Z,{variant:"body2",children:e(n.sign_up_info)})},F=r(3016),_=function(){var e=(0,a.Z)(),n=(0,d.I0)(),r=(0,d.v9)((function(e){return e.account.meta})),l=(0,i.useCallback)(function(){var e=(0,o.Z)((0,t.Z)().mark((function e(r,o,i){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",u.LP(n,r,o,i));case 1:case"end":return e.stop()}}),e)})));return function(n,r,t){return e.apply(this,arguments)}}(),[n]);return(0,j.jsx)(m.Z,{title:e.messages["nav.login.title"],children:(0,j.jsxs)(s.Z.Dialog,{className:"form-signin",children:[(0,j.jsx)(s.Z.Header,{className:"form-header",children:(0,j.jsx)("h1",{children:"OwnRecipes"})}),(0,j.jsx)(s.Z.Body,{children:(0,j.jsxs)(j.Fragment,{children:[(0,j.jsxs)("div",{className:c()("login-form-wrapper",{autologin:[f.V.LOADING].includes(r.pending)}),children:[(0,j.jsx)(C,{onSubmit:l}),(0,j.jsx)("hr",{}),(0,j.jsx)(k,{})]}),[f.V.LOADING].includes(r.pending)&&(0,j.jsx)(F.Z,{})]})})]})})}},6569:function(e,n,r){r.d(n,{Z:function(){return v}});var t=r(1413),o=r(557),i=r(5671),a=r(3144),s=r(136),l=r(2269),c=r(2791),u=r(9795),d=r(6944),f=r(4858),m=r(9276),p=r(78),h=r(184),g=["value","onChange","name","style","tooltip","label","className","helpText","errors","meta"],v=function(e){(0,s.Z)(r,e);var n=(0,l.Z)(r);function r(){var e;(0,i.Z)(this,r);for(var t=arguments.length,o=new Array(t),a=0;a<t;a++)o[a]=arguments[a];return(e=n.call.apply(n,[this].concat(o))).ref=(0,c.createRef)(),e.handleChange=function(){var n,r;e.props.readOnly||e.props.disabled||null===(n=(r=e.props).onChange)||void 0===n||n.call(r,e.props.name,!e.props.value)},e}return(0,a.Z)(r,[{key:"focus",value:function(){return!(null==this.ref||!this.ref.current)&&(this.ref.current.focus(),!0)}},{key:"getLabel",value:function(){return null==this.props.label?null:this.props.tooltip?(0,h.jsxs)(h.Fragment,{children:[this.props.label,"\xa0",(0,h.jsx)(p.Z,{icon:"info-circle",className:"tooltip-icon"})]}):this.props.label}},{key:"render",value:function(){var e=this.props,n=e.value,r=(e.onChange,e.name),i=e.style,a=e.tooltip,s=(e.label,e.className,e.helpText,e.errors,e.meta,(0,o.Z)(e,g));return(0,h.jsx)(u.Z.Group,(0,t.Z)((0,t.Z)({},this.getGroupProps()),{},{controlId:r,className:this.getFormGroupClassNames(),style:i,children:(0,h.jsxs)(m.Z,{condition:null!=a,render:function(e){return(0,h.jsx)(f.Z,{id:"".concat(r,"-tooltip"),tooltip:a,children:e})},children:[this.getHelpText(),this.getErrorMessage(),(0,h.jsx)(u.Z.Check,(0,t.Z)((0,t.Z)({name:r,checked:n,label:this.getLabel(),className:"form-check",onChange:this.handleChange},s),{},{ref:this.ref}))]})}))}}]),r}(d.Z)},3976:function(e,n,r){var t=r(2791),o=r(7022),i=r(6871),a=r(5694),s=r(1884),l=r(2605),c=r(184);function u(e){var n,r,t=e.startsWith(null!==(n=(0,s.dU)("PUBLIC_URL"))&&void 0!==n?n:"")?e.substring((null!==(r=(0,s.dU)("PUBLIC_URL"))&&void 0!==r?r:"").length):e,o=t.startsWith("/"),i=t.endsWith("/");return t.substring(o?1:0,i?t.length-1:void 0)}n.Z=function(e){var n=e.title,r=e.id,d=e.state,f=e.children,m=(0,i.s0)(),p=(0,i.TH)(),h=null===d||void 0===d?void 0:d.meta.error,g=(0,t.useContext)(a.Z);return(0,t.useEffect)((function(){document.title="".concat(null!=n&&n.length>0?"".concat(n," | "):"","OwnRecipes")}),[n]),(0,t.useEffect)((function(){if(h&&null==r){var e=(0,s.qC)("/NotFound");m(e)}}),[r,h]),(0,c.jsx)(o.Z,{id:"main-container",as:"main",className:u(p.pathname),style:{marginTop:"".concat(g.toolbarHeight,"px")},children:(0,c.jsx)(l.Z,{verbose:!0,printStack:!0,children:f})})}},6623:function(e,n,r){var t=r(1413),o=r(557),i=r(2791),a=r(3720),s=r(3539),l=r(6699),c=r(6569),u=r(184),d=["name","required","format","parse","onChange","onFocus","onBlur"],f=(0,i.forwardRef)((function(e,n){var r=e.name,i=e.required,f=e.format,m=e.parse,p=e.onChange,h=e.onFocus,g=e.onBlur,v=(0,o.Z)(e,d),b=(0,s.Z)();return(0,u.jsx)(a.gN,{name:r,validate:i?l.np:void 0,validateFields:[],format:f,parse:m,children:function(e){return(0,u.jsx)(c.Z,(0,t.Z)((0,t.Z)({},v),{},{required:i,name:e.input.name,value:e.input.value,errors:(0,l.fr)(b,e.meta.error||(e.meta.dirtySinceLastSubmit?void 0:e.meta.submitError)),meta:e.meta,onChange:function(n,r){e.input.onChange(r),null===p||void 0===p||p(n,r)},onFocus:function(n){e.input.onFocus(n),null===h||void 0===h||h(n)},onBlur:function(n){e.input.onBlur(n),null===g||void 0===g||g(n)},ref:n}))}})}));n.Z=f},9854:function(e,n,r){var t=r(2791);n.Z=function(e){var n=e.form,r=e.initialValues;return(0,t.useEffect)((function(){n&&null!=n.restart&&n.restart(r)}),[r]),null}},5316:function(e,n,r){r.d(n,{Z:function(){return H}});var t,o=r(885),i=r(557),a=r(1413),s=r(1694),l=r.n(s),c=r(3070),u=r(7357),d=r(8376),f=r(6382);function m(e){if((!t&&0!==t||e)&&u.Z){var n=document.createElement("div");n.style.position="absolute",n.style.top="-9999px",n.style.width="50px",n.style.height="50px",n.style.overflow="scroll",document.body.appendChild(n),t=n.offsetWidth-n.clientWidth,document.body.removeChild(n)}return t}var p=r(7731),h=r(9007),g=r(3201),v=r(1683),b=r(3690),Z=r(2791),x=r(7246),y=r(729),w=r(2709),j=r(6543),N=(0,j.Z)("modal-body"),C=r(9820),E=r(162),k=r(184),F=["bsPrefix","className","contentClassName","centered","size","fullscreen","children","scrollable"],_=Z.forwardRef((function(e,n){var r=e.bsPrefix,t=e.className,o=e.contentClassName,s=e.centered,c=e.size,u=e.fullscreen,d=e.children,f=e.scrollable,m=(0,i.Z)(e,F);r=(0,E.vE)(r,"modal");var p="".concat(r,"-dialog"),h="string"===typeof u?"".concat(r,"-fullscreen-").concat(u):"".concat(r,"-fullscreen");return(0,k.jsx)("div",(0,a.Z)((0,a.Z)({},m),{},{ref:n,className:l()(p,t,c&&"".concat(r,"-").concat(c),s&&"".concat(p,"-centered"),f&&"".concat(p,"-scrollable"),u&&h),children:(0,k.jsx)("div",{className:l()("".concat(r,"-content"),o),children:d})}))}));_.displayName="ModalDialog";var R=_,S=(0,j.Z)("modal-footer"),M=r(2086),P=["bsPrefix","className","closeLabel","closeButton"],T=Z.forwardRef((function(e,n){var r=e.bsPrefix,t=e.className,o=e.closeLabel,s=void 0===o?"Close":o,c=e.closeButton,u=void 0!==c&&c,d=(0,i.Z)(e,P);return r=(0,E.vE)(r,"modal-header"),(0,k.jsx)(M.Z,(0,a.Z)((0,a.Z)({ref:n},d),{},{className:l()(t,r),closeLabel:s,closeButton:u}))}));T.displayName="ModalHeader";var L=T,I=(0,r(7472).Z)("h4"),O=(0,j.Z)("modal-title",{Component:I}),D=["bsPrefix","className","style","dialogClassName","contentClassName","children","dialogAs","aria-labelledby","aria-describedby","aria-label","show","animation","backdrop","keyboard","onEscapeKeyDown","onShow","onHide","container","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","onEntered","onExit","onExiting","onEnter","onEntering","onExited","backdropClassName","manager"];function U(e){return(0,k.jsx)(w.Z,(0,a.Z)((0,a.Z)({},e),{},{timeout:null}))}function B(e){return(0,k.jsx)(w.Z,(0,a.Z)((0,a.Z)({},e),{},{timeout:null}))}var A=Z.forwardRef((function(e,n){var r=e.bsPrefix,t=e.className,s=e.style,w=e.dialogClassName,j=e.contentClassName,N=e.children,F=e.dialogAs,_=void 0===F?R:F,S=e["aria-labelledby"],M=e["aria-describedby"],P=e["aria-label"],T=e.show,L=void 0!==T&&T,I=e.animation,O=void 0===I||I,A=e.backdrop,H=void 0===A||A,z=e.keyboard,q=void 0===z||z,W=e.onEscapeKeyDown,G=e.onShow,K=e.onHide,V=e.container,J=e.autoFocus,Q=void 0===J||J,X=e.enforceFocus,Y=void 0===X||X,$=e.restoreFocus,ee=void 0===$||$,ne=e.restoreFocusOptions,re=e.onEntered,te=e.onExit,oe=e.onExiting,ie=e.onEnter,ae=e.onEntering,se=e.onExited,le=e.backdropClassName,ce=e.manager,ue=(0,i.Z)(e,D),de=(0,Z.useState)({}),fe=(0,o.Z)(de,2),me=fe[0],pe=fe[1],he=(0,Z.useState)(!1),ge=(0,o.Z)(he,2),ve=ge[0],be=ge[1],Ze=(0,Z.useRef)(!1),xe=(0,Z.useRef)(!1),ye=(0,Z.useRef)(null),we=(0,p.Z)(),je=(0,o.Z)(we,2),Ne=je[0],Ce=je[1],Ee=(0,g.Z)(n,Ce),ke=(0,h.Z)(K),Fe=(0,E.SC)();r=(0,E.vE)(r,"modal");var _e=(0,Z.useMemo)((function(){return{onHide:ke}}),[ke]);function Re(){return ce||(0,y.t)({isRTL:Fe})}function Se(e){if(u.Z){var n=Re().getScrollbarWidth()>0,r=e.scrollHeight>(0,d.Z)(e).documentElement.clientHeight;pe({paddingRight:n&&!r?m():void 0,paddingLeft:!n&&r?m():void 0})}}var Me=(0,h.Z)((function(){Ne&&Se(Ne.dialog)}));(0,v.Z)((function(){(0,f.Z)(window,"resize",Me),null==ye.current||ye.current()}));var Pe=function(){Ze.current=!0},Te=function(e){Ze.current&&Ne&&e.target===Ne.dialog&&(xe.current=!0),Ze.current=!1},Le=function(){be(!0),ye.current=(0,b.Z)(Ne.dialog,(function(){be(!1)}))},Ie=function(e){"static"!==H?xe.current||e.target!==e.currentTarget?xe.current=!1:null==K||K():function(e){e.target===e.currentTarget&&Le()}(e)},Oe=(0,Z.useCallback)((function(e){return(0,k.jsx)("div",(0,a.Z)((0,a.Z)({},e),{},{className:l()("".concat(r,"-backdrop"),le,!O&&"show")}))}),[O,le,r]),De=(0,a.Z)((0,a.Z)({},s),me);De.display="block";return(0,k.jsx)(C.Z.Provider,{value:_e,children:(0,k.jsx)(x.Z,{show:L,ref:Ee,backdrop:H,container:V,keyboard:!0,autoFocus:Q,enforceFocus:Y,restoreFocus:ee,restoreFocusOptions:ne,onEscapeKeyDown:function(e){q?null==W||W(e):(e.preventDefault(),"static"===H&&Le())},onShow:G,onHide:K,onEnter:function(e,n){e&&Se(e),null==ie||ie(e,n)},onEntering:function(e,n){null==ae||ae(e,n),(0,c.ZP)(window,"resize",Me)},onEntered:re,onExit:function(e){null==ye.current||ye.current(),null==te||te(e)},onExiting:oe,onExited:function(e){e&&(e.style.display=""),null==se||se(e),(0,f.Z)(window,"resize",Me)},manager:Re(),transition:O?U:void 0,backdropTransition:O?B:void 0,renderBackdrop:Oe,renderDialog:function(e){return(0,k.jsx)("div",(0,a.Z)((0,a.Z)({role:"dialog"},e),{},{style:De,className:l()(t,r,ve&&"".concat(r,"-static"),!O&&"show"),onClick:H?Ie:void 0,onMouseUp:Te,"aria-label":P,"aria-labelledby":S,"aria-describedby":M,children:(0,k.jsx)(_,(0,a.Z)((0,a.Z)({},ue),{},{onMouseDown:Pe,className:w,contentClassName:j,children:N}))}))}})})}));A.displayName="Modal";var H=Object.assign(A,{Body:N,Header:L,Title:O,Footer:S,Dialog:R,TRANSITION_DURATION:300,BACKDROP_TRANSITION_DURATION:150})},7493:function(){}}]);
//# sourceMappingURL=548.6322731e.chunk.js.map