"use strict";(self.webpackChunkownrecipes_web=self.webpackChunkownrecipes_web||[]).push([[219],{8437:function(e,t,r){r.d(t,{Z:function(){return p}});var n=r(2791),i=r(3504),s=r(2677),l=r(9140),a=r(9743),o=r(1694),u=r.n(o),c=r(92),d=r(1884),f=r(2153),h=r(184),p=function(e){var t=e.data,r=e.onOpenRecipe,o=(0,n.useMemo)((function(){return(0,d.uS)()}),[]),p=function(e){if(e.photoThumbnail)return e.photoThumbnail;var t=["fish","fried-eggs","pizza","soup","steak"];return(0,d.xb)("/images/".concat(t[Math.floor(Math.random()*t.length)],".jpg"))},g=null===t||void 0===t?void 0:t.map((function(e){var t=(0,d.xb)("/recipe/".concat(e.slug));return(0,h.jsx)(s.Z,{children:(0,h.jsx)(l.Z,{className:u()("recipe","print-hidden"),children:(0,h.jsxs)(i.rU,{to:t,onClick:function(){return r(e)},children:[(0,h.jsx)(l.Z.Img,{variant:"top",src:p(e),alt:"",placeholder:o}),(0,h.jsx)(f.Z,{id:e.slug,tooltip:e.title,placement:"bottom",className:"card-title-tooltip",children:(0,h.jsx)(l.Z.Title,{as:"h3",children:e.title})}),(0,h.jsx)("div",{children:(0,h.jsx)(c.Z,{stars:e.rating})}),(0,h.jsx)(l.Z.Text,{children:e.info})]})})},e.id)}));return(0,h.jsx)(a.Z,{xs:1,sm:2,lg:4,className:"g-4 recipes-list",children:g})}},9096:function(e,t,r){var n=r(9743),i=r(2677),s=r(9551),l=r(184);t.Z=function(){return(0,l.jsx)(n.Z,{children:(0,l.jsx)(i.Z,{xs:12,children:(0,l.jsx)(n.Z,{id:"browse",children:(0,l.jsx)("div",{className:"spinner",children:(0,l.jsx)(s.Z,{})})})})})}},2567:function(e,t){t.Z={limit:12,ordering:"-pub_date"}},1219:function(e,t,r){r.r(t),r.d(t,{buildSearchString:function(){return J},buildSearchUrl:function(){return z},default:function(){return B},mergeDefaultFilters:function(){return H}});var n=r(885),i=r(2791),s=r(3539),l=r(6871),a=r(2296),o=r(5534),u=(r(4658),r(9743)),c=r(2677),d=r(2896),f=r(1413),h=r(7572),p=r(8263),g=r(7728),v=r(9648),m=r(1884),x=r(9656),b=function(e){var t={};return Object.keys(e).forEach((function(r){["limit","offset"].includes(r)||(t[r]=e[r])})),t},_=r(3504),Z=r(1694),j=r.n(Z),y=r(6221),S=r(3360),M=r(9140),U=r(8949),N=r(78),E=r(2153),C=r(9276),T=r(184),w=function(e){var t=e.title,r=e.qsTitle,n=e.data,l=e.qs,a=e.multiSelect,o=e.cssClass,u=e.buildUrl,c=e.sort,d=(0,s.Z)(),h=(0,i.useMemo)((function(){var e,t=(null!==(e=null===n||void 0===n?void 0:n.map((function(e){var t=!1;if(l[r]&&l[r].split(",").includes(e.slug)&&(t=!0),t||null!=e.total&&0!==e.total)return(0,f.Z)((0,f.Z)({},e),{},{label:(0,m.kT)(d,"".concat(r,"."),e.title),active:t})})))&&void 0!==e?e:[]).filter((function(e){return null!=e}));return null!=c&&"on"!==c||(t=t.sort(m.hF)),t}),[n,l,r]),p=(0,i.useMemo)((function(){var e;return null!==(e=h.map((function(e){return(0,T.jsx)("li",{children:(0,T.jsx)(C.Z,{condition:e.label.length>10,render:function(t){return(0,T.jsx)(E.Z,{id:e.title,tooltip:e.label,placement:"bottom",className:"filter-title-tooltip",children:t})},children:(0,T.jsxs)(_.rU,{to:u(r,e.slug,a),className:j()("list-group-item list-group-item-action",{active:e.active}),children:[(0,T.jsx)("div",{className:"name",children:e.label}),(0,T.jsx)("span",{className:"count",children:"(".concat(e.total,")")}),e.active&&(0,T.jsx)(N.Z,{icon:"x-square",variant:"light"})]})})},e.slug)})))&&void 0!==e?e:[]}),[h,r,a,u]);return null!=n&&0===p.length?null:(0,T.jsxs)(U.Z.Item,{eventKey:r,className:j()("filter-group",o),children:[(0,T.jsx)(U.Z.Header,{as:"h3",className:"list-group-title",children:t}),(0,T.jsx)(U.Z.Body,{as:"ul",className:"filter-list",children:p})]})},k=function(e){var t=e.qs,r=e.courses,l=e.cuisines,a=e.ratings,o=e.tags,u=e.hasActiveFilter,c=e.resetFilterUrl,d=e.openFilters,f=e.setOpenFilters,h=e.buildUrl,p=(0,s.Z)(),g=(0,y.vU)({reset:{id:"filter.reset",description:"Filter reset",defaultMessage:"Reset"},filter_course:{id:"filter.filter_course",description:"Filter field course",defaultMessage:"Courses"},filter_cuisine:{id:"filter.filter_cuisine",description:"Filter field cuisine",defaultMessage:"Cuisines"},filter_rating:{id:"filter.filter_rating",description:"Filter field rating",defaultMessage:"Ratings"},filter_tag:{id:"filter.filter_tag",description:"Filter field tag",defaultMessage:"Tags"},title:{id:"filter.title",description:"Title",defaultMessage:"Title"},rating:{id:"filter.rating",description:"rating",defaultMessage:"Rating"},pub_date:{id:"filter.pub_date",description:"pub_date",defaultMessage:"Created Date"},filters:{id:"filter.filters",description:"Filters",defaultMessage:"Filters"},show_filters:{id:"filter.show_filters",description:"Show Filters",defaultMessage:"Show Filters"},hide_filters:{id:"filter.hide_filters",description:"Hide Filters",defaultMessage:"Hide Filters"},reset_filters:{id:"filter.reset_filters",description:"Reset Filters",defaultMessage:"Reset Filters"},filter_ordering:{id:"filter.filter_ordering",description:"Filter field ordering",defaultMessage:"Ordering"},x_stars:{id:"filter.x_stars",description:"X Stars",defaultMessage:"{rating, number} stars"}}),v=(0,i.useState)(!1),m=(0,n.Z)(v,2),x=m[0],b=m[1],Z=(0,T.jsxs)("div",{className:"sidebar-header",children:[(0,T.jsxs)(S.Z,{type:"button",variant:"transparent",className:"filter-header",onClick:function(){b((function(e){return!e}))},children:[x?p.formatMessage(g.hide_filters):p.formatMessage(g.show_filters),(0,T.jsx)(N.Z,{icon:x?"chevron-up":"chevron-down",variant:"light",className:j()({"reset-margin":u})})]}),u&&(0,T.jsx)("div",{className:"filter-header-clear",children:(0,T.jsx)(_.rU,{className:"clear-filter-mobile btn btn-transparent",to:c,children:p.formatMessage(g.reset)})})]});return(0,T.jsxs)(M.Z,{children:[(0,T.jsx)(M.Z.Header,{className:"visible-xs",children:Z}),(0,T.jsxs)(M.Z.Header,{className:"hidden-xs filter-title",children:[p.formatMessage(g.filters),u&&(0,T.jsx)(E.Z,{id:"clear-tooltip",tooltip:p.formatMessage(g.reset_filters),placement:"bottom",children:(0,T.jsx)(_.rU,{className:"clear-filter-desktop btn btn-transparent",to:c,children:(0,T.jsx)(N.Z,{icon:"arrow-counterclockwise",variant:"light"})})})]}),(0,T.jsxs)(M.Z.Text,{as:"div",className:j()("sidebar",{"hidden-xs":!x}),children:[(0,T.jsxs)(U.Z,{activeKey:d,flush:!0,alwaysOpen:!0,className:"filter-group-list",onSelect:function(e){var t=Array.isArray(e)?e:[null!==e&&void 0!==e?e:""];f(t)},children:[(0,T.jsx)(w,{title:p.formatMessage(g.filter_course),qsTitle:"course",data:r,qs:t,multiSelect:!0,buildUrl:h}),(0,T.jsx)(w,{title:p.formatMessage(g.filter_cuisine),qsTitle:"cuisine",data:l,qs:t,multiSelect:!0,buildUrl:h}),(0,T.jsx)(w,{title:p.formatMessage(g.filter_rating),qsTitle:"rating",data:null===a||void 0===a?void 0:a.map((function(e){return{id:e.rating,rating:e.rating,total:e.total,slug:String(e.rating),title:p.formatMessage(g.x_stars,{rating:e.rating})}})),qs:t,multiSelect:!0,buildUrl:h,sort:"off"}),(0,T.jsx)(w,{title:p.formatMessage(g.filter_tag),qsTitle:"tag",data:o,qs:t,multiSelect:!0,buildUrl:h})]}),u&&(0,T.jsx)("div",{className:"row reset-search-row hidden-xs",children:(0,T.jsx)(_.rU,{className:"btn btn-outline-danger reset-search hidden-xs",to:c,children:p.formatMessage(g.reset)})})]})]})},q=function(e){var t=e.qs,r=e.qsString,s=e.buildUrl,l=(0,x.I0)(),a=(0,x.v9)((function(e){return e.browse.filters.courses.items})),o=(0,x.v9)((function(e){return e.browse.filters.cuisines.items})),u=(0,x.v9)((function(e){return e.browse.filters.ratings.items})),c=(0,x.v9)((function(e){return e.browse.filters.tags.items})),d=(0,i.useState)(Object.keys(t)),_=(0,n.Z)(d,2),Z=_[0],j=_[1],y=t,S=function(){var e,t=[];Z.includes("course")&&null==(null===a||void 0===a?void 0:a[r])&&t.push((e=y,function(t){t((0,f.Z)({},(0,x.s_)(v.eG,g.o.LOADING))),(0,h.WY)().get(p.m.course_count).query(b(e)).then((function(r){return t((0,f.Z)((0,f.Z)({},(0,x.s_)(v.eG,g.o.GET_SUCCESS)),{},{id:(0,m.pj)(e),payload:r.body.results}))})).catch((function(e){return t((0,h.S3)(e,v.eG))}))})),Z.includes("cuisine")&&null==(null===o||void 0===o?void 0:o[r])&&t.push(function(e){return function(t){t((0,f.Z)({},(0,x.s_)(v.J_,g.o.LOADING))),(0,h.WY)().get(p.m.cuisine_count).query(b(e)).then((function(r){return t((0,f.Z)((0,f.Z)({},(0,x.s_)(v.J_,g.o.GET_SUCCESS)),{},{id:(0,m.pj)(e),payload:r.body.results}))})).catch((function(e){return t((0,h.S3)(e,v.J_))}))}}(y)),Z.includes("rating")&&null==(null===u||void 0===u?void 0:u[r])&&t.push(function(e){return function(t){t((0,f.Z)({},(0,x.s_)(v.Jf,g.o.LOADING))),(0,h.WY)().get(p.m.rating_count).query(b(e)).then((function(r){return t((0,f.Z)((0,f.Z)({},(0,x.s_)(v.Jf,g.o.GET_SUCCESS)),{},{id:(0,m.pj)(e),payload:r.body.results}))})).catch((function(e){return t((0,h.S3)(e,v.Jf))}))}}(y)),Z.includes("tag")&&null==(null===c||void 0===c?void 0:c[r])&&t.push(function(e){return function(t){t((0,f.Z)({},(0,x.s_)(v.AY,g.o.LOADING))),(0,h.WY)().get(p.m.tag_count).query(b(e)).then((function(r){return t((0,f.Z)((0,f.Z)({},(0,x.s_)(v.AY,g.o.GET_SUCCESS)),{},{id:(0,m.pj)(e),payload:r.body.results}))})).catch((function(r){404===r.status?t((0,f.Z)((0,f.Z)({},(0,x.s_)(v.AY,g.o.GET_SUCCESS)),{},{id:(0,m.pj)(e),payload:[]})):t((0,h.S3)(r,v.AY))}))}}(y));for(var n=0,i=function(e){setTimeout((function(){l(t[e])}),n),n+=50},s=0;s<t.length;++s)i(s)};(0,i.useEffect)((function(){S()}),[r,Z]);var M=(0,i.useMemo)((function(){if(t.search){var e=new URLSearchParams({search:t.search}).toString();return(0,m.xb)("/browser?".concat(e))}return(0,m.xb)("/browser")}),[t]),U=0!==Object.keys(t).filter((function(e){return!["limit","offset","search"].includes(e)})).length;return(0,T.jsx)(k,{courses:null===a||void 0===a?void 0:a[r],cuisines:null===o||void 0===o?void 0:o[r],ratings:null===u||void 0===u?void 0:u[r],tags:null===c||void 0===c?void 0:c[r],qs:t,hasActiveFilter:U,resetFilterUrl:M,openFilters:Z,setOpenFilters:function(e){j(e)},buildUrl:s})},R=r(355),O=r(3534),F=function(e){var t=e.value,r=e.doSearch,l=(0,s.Z)().formatMessage,a=(0,y.vU)({input_placeholder:{id:"searchbar.placeholder",description:"SearchBar input placeholder",defaultMessage:"Enter a title, tag, or ingredient"}}),u=(0,i.useState)({value:null!==t&&void 0!==t?t:""}),c=(0,n.Z)(u,2),d=c[0],f=c[1],h=(0,i.useRef)(null!==t&&void 0!==t?t:"");(0,i.useEffect)((function(){d.value!==t&&f({value:t})}),[t]),(0,i.useEffect)((function(){h.current!==d.value&&(r(d.value),h.current=d.value)}),[d]);var p=(0,T.jsx)(S.Z,{variant:"secondary",className:"search-clear",onClick:function(){f({value:""})},children:(0,T.jsx)(N.Z,{icon:"x",variant:"light",size:"2x"})});return(0,T.jsx)(O.ZP,{name:"value",value:d.value,placeholder:l(a.input_placeholder),required:!0,inputAdornmentStart:(0,T.jsx)(N.Z,{icon:"search",variant:"light"}),inputAdornmentEnd:d.value.length>0?p:void 0,onChange:function(e,t){f((function(r){var n=o.Z(r);return R.Z(n,e,t),n}))},debounceTimeout:400,className:"search-bar"})},A=r(9096),I=r(9723),G=r(1127),W=r(2567),D=function(e){var t,r,n=e.search,i=e.qs,l=e.buildUrl,a=(0,s.Z)(),o=a.formatMessage,u=(0,y.vU)({search_summary_results:{id:"searchsummary.results",description:"Number of results, if there is no pagination.",defaultMessage:"{resultsCount, plural, one {# result} other {# results}}"},search_summary_results_pagination:{id:"searchsummary.results_pagination",description:"Number of results, with pagination from - to.",defaultMessage:"{offset}-{offsetLast} of {resultsCount} results"},search_summary_sort_by:{id:"searchsummary.sort_by",description:"Sort by title/...",defaultMessage:"Sort by: {sort}"},sort_by_pub_date:{id:"sort_by.pub_date",defaultMessage:"Create date"},sort_by_rating:{id:"sort_by.rating",defaultMessage:"Rating"},sort_by_title:{id:"sort_by.title",defaultMessage:"Title"}}),c=function(e){return e.startsWith("-")?e.substring(1):e},d=null!==(t=null===n||void 0===n?void 0:n.totalRecipes)&&void 0!==t?t:0,f=(0,m.yY)(i.offset,0),h=(0,m.yY)(i.limit,null!==(r=W.Z.limit)&&void 0!==r?r:12),p=null!=n&&n.totalRecipes>h,g=null!=i.ordering?c(i.ordering):c("-pub_date"),v=["title","-pub_date","-rating"].map((function(e){var t=c(e);return(0,T.jsx)(I.Z.Item,{as:_.rU,to:l("ordering",e),active:g===t,onClick:function(e){return function(e,t){g===t&&e.preventDefault()}(e,t)},children:(0,m.kT)(a,"sort_by.",t)},e)}));return(0,T.jsxs)("div",{className:"search-summary",children:[(0,T.jsxs)(G.Z,{className:"results",children:[p&&o(u.search_summary_results_pagination,{offset:f+1,offsetLast:Math.min(f+h,d),resultsCount:d}),!p&&o(u.search_summary_results,{resultsCount:d})]}),(0,T.jsxs)(I.Z,{className:"sort-by-dropdown",children:[(0,T.jsx)(I.Z.Toggle,{variant:"outline-primary",id:"sort-by-button",disabled:null==n,children:o(u.search_summary_sort_by,{sort:(0,m.kT)(a,"sort_by.",g)})}),(0,T.jsx)(I.Z.Menu,{children:v})]})]})},L=function(e){var t,r=e.search,n=e.qs,i=e.qsString,s=e.buildUrl,l=e.doSearch,a=e.onOpenRecipe,o=null!=r&&Object.keys(r).length>0,f=null===r||void 0===r?void 0:r[i];return(0,T.jsxs)(T.Fragment,{children:[(0,T.jsx)(F,{value:null!==(t=n.search)&&void 0!==t?t:"",doSearch:l}),(0,T.jsx)(D,{qs:n,search:f,buildUrl:s}),!o&&(0,T.jsx)(A.Z,{}),o&&(0,T.jsxs)(u.Z,{children:[(0,T.jsx)(c.Z,{xs:12,className:"filter-panel",children:(0,T.jsx)(q,{qs:n,qsString:i,buildUrl:s})}),(0,T.jsx)(c.Z,{xs:12,className:"results-panel",children:(0,T.jsx)(d.Z,{qs:n,qsString:i,buildUrl:s,onOpenRecipe:a})})]})]})},Y=r(5404),P=r(297),V=r(3976);function H(e,t){var r={};return Object.keys(e).forEach((function(t){r[t]=String(e[t])})),a.Z(r,t)}function J(e,t,r){var n=o.Z(t);delete n.offset,""!==r?n.search=r:delete n.search;var i=(0,m.pj)(n);return(0,m.xb)(i?"/".concat(e,"?").concat(i):"/".concat(e))}function z(e,t,r,n){var i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(!r)return(0,m.xb)("/".concat(e));var s=o.Z(t);if(delete s.offset,""!==n)if(s[r]&&i){var l=s[r].split(",");if(l.includes(n.toString()))if(1===l.length)delete s[r];else{var a="";l.map((function(e){e!=n&&(a+=e+",")})),s[r]=a.substring(0,a.length-1)}else s[r]="".concat(s[r],",").concat(n)}else s[r]=n;else delete s[r];var u=(0,m.pj)(s);return(0,m.xb)(u?"/".concat(e,"?").concat(u):"/".concat(e))}var B=function(){var e=(0,x.I0)(),t=(0,s.Z)(),r=(0,l.s0)(),a=(0,_.lr)(),o=(0,n.Z)(a,1)[0],u=(0,x.v9)((function(e){return e.browse.search.items})),c=Object.fromEntries(o),d=H(W.Z,c),f=(0,m.pj)(d);(0,i.useEffect)((function(){window.scrollTo(0,0),e(Y.I(d))}),[o]);var h=(0,i.useCallback)((function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return z("browser",c,e,t,r)}),[c]),p=(0,i.useCallback)((function(e){var t=J("browser",c,e);r(t)}),[c,r]),g=(0,i.useCallback)((function(t){e(P.MA(t))}),[e]);return(0,T.jsx)(V.Z,{title:t.messages["nav.recipes"],children:(0,T.jsx)(L,{qs:d,qsString:f,buildUrl:h,doSearch:p,onOpenRecipe:g,search:u})})}},2896:function(e,t,r){r.d(t,{Z:function(){return S}});var n=r(885),i=r(2791),s=r(9656),l=r(2567),a=r(1694),o=r.n(a),u=r(1884),c=r(8437),d=r(8116),f=r(3504),h=r(184),p=function(e){var t=e.title,r=e.offset,n=e.active,i=e.buildUrl,s=e.disabled,l=e.className;return(0,h.jsx)("li",{className:o()("page-item",l,{active:n,disabled:s}),children:(0,h.jsx)(f.rU,{className:o()("page-link","btn-outline-primary",{active:n,disabled:s}),to:s?"#":i("offset",String(r)),onClick:function(e){(n||s)&&e.preventDefault()},children:t})})};var g=function(e){var t=e.offset,r=e.limit,n=e.count,i=e.buildUrl,s=Math.ceil(n/r),l=Math.ceil(t/r)+1,a=function(e,t){var r=[];if(t<=8){for(var n=1;n<=t;n++)r.push({index:n,role:"page"});return r}e>1&&r.push({index:1,role:"first"});var i=1,s=i;if(e>3){var l=Math.round((e-s)/2);s=e-l,r.push({index:s,role:"skipper-far"})}if(e>2){var a=Math.ceil((e-s)/3);e-a!==s&&(s=e-a,r.push({index:s,role:"skipper-near"}))}if(s=e,r.push({index:e,role:"page"}),s<t-1&&(s+=1,r.push({index:s,role:1===e?"first":"next"})),1===e&&(s+=1,r.push({index:s,role:"next"})),r.length<=4&&s<t-1&&(s+=1,r.push({index:s,role:"skipper-far"})),r.length<=4&&s<t-1&&(s+=1,r.push({index:s,role:"skipper-near"})),s<t-1){var o=r.length-1;if(i=t,s<t-2&&(i=s+Math.ceil((i-s)/2),r.push({index:i,role:"skipper-near"})),s<t-1){var u=Math.ceil((i-s)/3);u>0&&(i=s+u,r.splice(o+1,0,{index:i,role:"skipper-far"}))}}e!==t&&r.push({index:t,role:"last"});var c,d=r.findIndex((function(t){return t.index===e}));if(-1===d)throw new Error("Internal error: Page index not found.");for(;r.length<8&&d>0;)for(;d>0;){var f=r[d].index;if(f-r[d-1].index>1){r.splice(d,0,{index:f-1,role:(c=r.filter((function(e){return"skipper-far"!==e.role})).length,c<4?"next":c<6?"skipper-near":"skipper-far")});break}--d}return r}(l,s).map((function(e){return(0,h.jsx)(p,{title:String(e.index),offset:r*(e.index-1),active:l===e.index,buildUrl:i,className:e.role},String(e.index))}));return(0,h.jsx)(h.Fragment,{children:a})},v=function(e){var t=e.offset,r=e.limit,n=e.count,i=e.buildUrl,s=t+r,l=t-r;return n<=r?null:(0,h.jsx)("div",{children:(0,h.jsxs)(d.Z,{children:[(0,h.jsx)(p,{title:"\u2190",offset:l,buildUrl:i,disabled:l<0},"previous"),(0,h.jsx)(g,{offset:t,limit:r,buildUrl:i,count:n}),(0,h.jsx)(p,{title:"\u2192",offset:s,buildUrl:i,disabled:s>n},"next")]})})},m=function(e){var t=e.pending,r=e.search,n=e.qs,s=e.defaults,l=e.buildUrl,a=e.onOpenRecipe,d=(0,i.useMemo)((function(){return(0,h.jsx)(c.Z,{data:r.recipes,onOpenRecipe:a})}),[r.recipes,a]),f=(0,i.useMemo)((function(){var e,t;return(0,h.jsx)(v,{limit:(0,u.yY)(n.limit,null!==(e=s.limit)&&void 0!==e?e:12),count:r.totalRecipes,offset:(0,u.yY)(n.offset,null!==(t=s.offset)&&void 0!==t?t:0),buildUrl:l})}),[r.totalRecipes,n,s,l,a]);return(0,h.jsxs)("div",{className:o()("results-container",{pending:t}),children:[d,f]})},x=r(6221),b=r(3539),_=r(1127),Z=function(){var e=(0,b.Z)(),t=(0,x.vU)({no_results:{id:"browse.no_results",description:"No results header",defaultMessage:"There are no results for your search."}});return(0,h.jsx)(_.Z,{className:"no-results placeholder",children:e.formatMessage(t.no_results)})},j=r(9096),y=r(9511),S=function(e){var t=e.qs,r=e.qsString,a=e.buildUrl,o=e.onOpenRecipe,u=(0,s.v9)((function(e){return e.browse.search})),c=u.meta.pending===y.V.LOADING,d=(0,i.useState)(void 0),f=(0,n.Z)(d,2),p=f[0],g=f[1];return(0,i.useEffect)((function(){var e;u.meta.pending===y.V.COMPLETED&&g(null===(e=u.items)||void 0===e?void 0:e[r])}),[u.meta.pending,u.items]),(0,i.useEffect)((function(){var e,t=null===(e=u.items)||void 0===e?void 0:e[r];t&&g(t)}),[r]),(0,h.jsxs)(h.Fragment,{children:[c&&!p&&(0,h.jsx)(j.Z,{}),!c&&(null==p||0===p.recipes.length)&&(0,h.jsx)(Z,{}),null!=p&&p.recipes.length>0&&(0,h.jsx)(m,{pending:c,search:p,qs:t,defaults:l.Z,buildUrl:a,onOpenRecipe:o})]})}},5404:function(e,t,r){r.d(t,{I:function(){return d},f:function(){return f}});var n=r(1413),i=r(7572),s=r(8263),l=r(3864),a=r(7728),o=r(1884),u=r(9656),c={cuisine:"cuisine__slug",course:"course__slug",tag:"tag__slug"},d=function(e){return function(t){t((0,n.Z)({},(0,u.s_)(l.V,a.o.LOADING)));var r={};Object.keys(e).forEach((function(t){null!==e[t]&&(r[t in c?c[t]:t]=e[t])})),(0,i.WY)().get(s.m.browse).query(r).then((function(r){var i=r.body;t((0,n.Z)((0,n.Z)({},(0,u.s_)(l.V,a.o.GET_SUCCESS)),{},{id:(0,o.pj)(e),payload:(0,l.D)(i)}))})).catch((function(e){t((0,i.S3)(e,l.V))}))}},f=function(e){return function(t){t((0,n.Z)({},(0,u.s_)(l.V,a.o.LOADING)));var r={};Object.keys(e).forEach((function(t){null!==e[t]&&(r[t in c?c[t]:t]=e[t])})),(0,i.WY)().get(s.m.mini_browse).query(r).then((function(r){var i=r.body;t((0,n.Z)((0,n.Z)({},(0,u.s_)(l.V,a.o.GET_SUCCESS)),{},{id:(0,o.pj)(e),payload:(0,l.D)(i)}))})).catch((function(e){t((0,i.S3)(e,l.V))}))}}},3976:function(e,t,r){var n=r(2791),i=r(7022),s=r(6871),l=r(5694),a=r(1884),o=r(2605),u=r(184);function c(e){var t,r,n=e.startsWith(null!==(t=(0,a.dU)("PUBLIC_URL"))&&void 0!==t?t:"")?e.substring((null!==(r=(0,a.dU)("PUBLIC_URL"))&&void 0!==r?r:"").length):e,i=n.startsWith("/"),s=n.endsWith("/");return n.substring(i?1:0,s?n.length-1:void 0)}t.Z=function(e){var t=e.title,r=e.id,d=e.state,f=e.children,h=(0,s.s0)(),p=(0,s.TH)(),g=null===d||void 0===d?void 0:d.meta.error,v=(0,n.useContext)(l.Z);return(0,n.useEffect)((function(){document.title="".concat(null!=t&&t.length>0?"".concat(t," | "):"","OwnRecipes")}),[t]),(0,n.useEffect)((function(){g&&null==r&&h((0,a.xb)("/NotFound"))}),[r,g]),(0,u.jsx)(i.Z,{className:c(p.pathname),style:{marginTop:"".concat(v.toolbarHeight,"px")},children:(0,u.jsx)(o.Z,{verbose:!0,printStack:!0,children:f})})}},92:function(e,t,r){r.d(t,{Z:function(){return o}});var n=r(3360),i=r(78),s=r(9276),l=r(184),a=function(e){var t=e.stars,r=e.num,a=e.onChange,o=function(){a&&a(r)},u=t>r-1&&t<r,c=u?"star-half":"star",d=r>t||u?"light":"filled";return(0,l.jsx)(s.Z,{condition:null!=a,render:function(e){return(0,l.jsx)(n.Z,{variant:"transparent",className:"rating",onClick:o,children:e})},children:(0,l.jsx)(i.Z,{icon:c,variant:d,size:null!=a?"2x":"1x"},r)},r)},o=function(e){var t=e.stars,r=e.onChange,n=t;t>5?n=5:t<0&&(n=0);var i=Array.from({length:5},(function(e,t){return t+1})).map((function(e){return(0,l.jsx)(a,{stars:n,num:e,onChange:r},e)}));return(0,l.jsx)("div",{className:"rating-stars",children:i})}},297:function(e,t,r){r.d(t,{MA:function(){return h},eI:function(){return d},ln:function(){return f},mc:function(){return p},y7:function(){return u},zD:function(){return c}});var n=r(1413),i=r(7572),s=r(8263),l=r(1818),a=r(7728),o=r(9656),u=function(e){return(0,n.Z)((0,n.Z)({},(0,o.s_)(l.yW,a.o.GET_SUCCESS)),{},{payload:e})},c=function(e){return function(t){t((0,n.Z)({},(0,o.s_)(l.yW,a.o.GET_START))),(0,i.WY)().get("".concat(s.m.recipe).concat(e,"/")).then((function(e){t(u((0,l.gl)(e.body)))})).catch((function(e){return t((0,i.S3)(e,l.yW))}))}},d=function(e){return function(t){t((0,n.Z)({},(0,o.s_)(l.yW,a.o.DELETE_START))),(0,i.WY)().delete("".concat(s.m.recipe).concat(e,"/")).then((function(){t((0,n.Z)((0,n.Z)({},(0,o.s_)(l.yW,l.M9.RECIPE_DELETE)),{},{payload:{slug:e}}))})).catch((function(e){return t((0,i.S3)(e,l.yW))}))}},f=function(e,t){return function(r){r((0,n.Z)((0,n.Z)({},(0,o.s_)(l.yW,l.M9.RECIPE_INGREDIENT_SERVINGS_UPDATE)),{},{payload:{recipeSlug:e,customServings:t}}))}},h=function(e){return function(t){t((0,n.Z)((0,n.Z)({},(0,o.s_)(l.yW,a.o.PRELOAD)),{},{payload:e}))}},p=function(){return function(e){e((0,n.Z)({},(0,o.s_)(l.yW,a.o.RESET)))}}},4658:function(){}}]);
//# sourceMappingURL=219.356789ff.chunk.js.map