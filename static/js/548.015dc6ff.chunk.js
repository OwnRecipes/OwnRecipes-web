"use strict";(self.webpackChunkownrecipes_web=self.webpackChunkownrecipes_web||[]).push([[548],{9548:function(e,n,r){r.r(n),r.d(n,{default:function(){return _}});var t=r(4165),o=r(5861),i=r(2791),s=r(3539),a=r(5316),l=r(1694),c=r.n(l),u=(r(7493),r(1122)),d=r(9656),p=r(9511),f=r(3976),m=r(9795),h=r(3360),g=r(6221),b=r(3720),v=r(78),Z=r(9854),x=r(7547),y=r(7411),w=r(3204),j=r(184),N=function(e){var n=e.submitError,r=(0,s.Z)().formatMessage,t=(0,g.vU)({errorTitle:{id:"login.alert.error_title",description:"Fail to login header",defaultMessage:"Login failed"},errorMessage:{id:"login.alert.incorrect_credentials",description:"Fail to login message",defaultMessage:"Incorrect username or password."}});return n?(0,j.jsx)(w.Z,{severity:"danger",title:r(t.errorTitle),children:r(t.errorMessage)}):null},C=function(e){var n=e.onSubmit,r=(0,s.Z)().formatMessage,t=(0,g.vU)({please_sign_in:{id:"login.please_sign_in",description:"Please sign in header",defaultMessage:"Sign In"},username:{id:"login.username",description:"Username placeholder",defaultMessage:"Username"},password:{id:"login.password",description:"Password placeholder",defaultMessage:"Password"},remember:{id:"login.remember",description:"Remember checkbox",defaultMessage:"Remember me for 14 days"},sign_in:{id:"login.sign_in",description:"Sign in button",defaultMessage:"Sign in"}}),o=(0,i.useMemo)((function(){return{remember:!0}}),[]);return(0,j.jsx)(b.l0,{initialValues:o,onSubmit:function(e){return n(e.username,e.password,e.remember)},subscription:{},render:function(e){var n=e.form,i=e.handleSubmit;return(0,j.jsxs)(m.Z,{className:"form-signin",onSubmit:i,children:[(0,j.jsx)(Z.Z,{form:n,initialValues:o}),(0,j.jsx)(b.lP,{subscription:{submitError:!0},children:function(e){var n=e.submitError;return(0,j.jsx)(N,{submitError:n})}}),(0,j.jsx)("h2",{className:"form-signin-heading",children:r(t.please_sign_in)}),(0,j.jsx)(x.Z,{name:"username",placeholder:r(t.username),autoComplete:"username",required:!0,inputAdornmentStart:(0,j.jsx)(v.Z,{icon:"person",size:"2x"})}),(0,j.jsx)(x.Z,{name:"password",type:"password",placeholder:r(t.password),autoComplete:"password",required:!0,inputAdornmentStart:(0,j.jsx)(v.Z,{icon:"key",size:"2x"})}),(0,j.jsx)(y.Z,{name:"remember",label:r(t.remember)}),(0,j.jsx)(b.lP,{subscription:{submitting:!0},children:function(e){var n=e.submitting;return(0,j.jsx)(h.Z,{variant:"primary",type:"submit",disabled:n,children:r(t.sign_in)})}})]})}})},E=r(1127),k=function(){var e=(0,s.Z)().formatMessage,n=(0,g.vU)({sign_up_info:{id:"login.sign_up_info",description:"Info that the sign up is handled by the admin.",defaultMessage:"Not signed up, yet? OwnRecipes is a private instance. Kindly ask the administrator to sign up an account for you."}});return(0,j.jsx)(E.Z,{variant:"body2",children:e(n.sign_up_info)})},F=r(3016),_=function(){var e=(0,d.I0)(),n=(0,s.Z)(),r=(0,d.v9)((function(e){return e.account.meta})),l=(0,i.useCallback)(function(){var n=(0,o.Z)((0,t.Z)().mark((function n(r,o,i){return(0,t.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",u.LP(e,r,o,i));case 1:case"end":return n.stop()}}),n)})));return function(e,r,t){return n.apply(this,arguments)}}(),[e]);return(0,j.jsx)(f.Z,{title:n.messages["nav.login.title"],children:(0,j.jsxs)(a.Z.Dialog,{className:"form-signin",children:[(0,j.jsx)(a.Z.Header,{className:"form-header",children:(0,j.jsx)("h1",{children:"OwnRecipes"})}),(0,j.jsx)(a.Z.Body,{children:(0,j.jsxs)(j.Fragment,{children:[(0,j.jsxs)("div",{className:c()("login-form-wrapper",{autologin:[p.V.LOADING].includes(r.pending)}),children:[(0,j.jsx)(C,{onSubmit:l}),(0,j.jsx)("hr",{}),(0,j.jsx)(k,{})]}),[p.V.LOADING].includes(r.pending)&&(0,j.jsx)(F.Z,{})]})})]})})}},3976:function(e,n,r){var t=r(2791),o=r(7022),i=r(6871),s=r(5694),a=r(1884),l=r(2605),c=r(184);function u(e){var n,r,t=e.startsWith(null!==(n=(0,a.dU)("PUBLIC_URL"))&&void 0!==n?n:"")?e.substring((null!==(r=(0,a.dU)("PUBLIC_URL"))&&void 0!==r?r:"").length):e,o=t.startsWith("/"),i=t.endsWith("/");return t.substring(o?1:0,i?t.length-1:void 0)}n.Z=function(e){var n=e.title,r=e.id,d=e.state,p=e.children,f=(0,i.s0)(),m=(0,i.TH)(),h=null===d||void 0===d?void 0:d.meta.error,g=(0,t.useContext)(s.Z);return(0,t.useEffect)((function(){document.title="".concat(null!=n&&n.length>0?"".concat(n," | "):"","OwnRecipes")}),[n]),(0,t.useEffect)((function(){if(h&&null==r){var e=(0,a.qC)("/NotFound");f(e)}}),[r,h]),(0,c.jsx)(o.Z,{className:u(m.pathname),style:{marginTop:"".concat(g.toolbarHeight,"px")},children:(0,c.jsx)(l.Z,{verbose:!0,printStack:!0,children:p})})}},7411:function(e,n,r){r.d(n,{Z:function(){return y}});var t=r(1413),o=r(557),i=r(2791),s=r(3720),a=r(3539),l=r(6699),c=r(5671),u=r(3144),d=r(136),p=r(2269),f=r(9795),m=r(9089),h=r(2153),g=r(9276),b=r(78),v=r(184),Z=function(e){(0,d.Z)(r,e);var n=(0,p.Z)(r);function r(){var e;(0,c.Z)(this,r);for(var t=arguments.length,o=new Array(t),s=0;s<t;s++)o[s]=arguments[s];return(e=n.call.apply(n,[this].concat(o))).ref=(0,i.createRef)(),e.handleChange=function(){e.props.readOnly||e.props.disabled||e.props.onChange&&e.props.onChange(e.props.name,!e.props.value)},e}return(0,u.Z)(r,[{key:"focus",value:function(){return!(null==this.ref||!this.ref.current)&&(this.ref.current.focus(),!0)}},{key:"getLabel",value:function(){return null==this.props.label?null:this.props.tooltip?(0,v.jsxs)(v.Fragment,{children:[this.props.label,"\xa0",(0,v.jsx)(b.Z,{icon:"info-circle",className:"tooltip-icon"})]}):this.props.label}},{key:"render",value:function(){var e=this;return(0,v.jsx)(f.Z.Group,{controlId:this.props.name,className:this.getFormGroupClassNames(),children:(0,v.jsxs)(g.Z,{condition:null!=this.props.tooltip,render:function(n){return(0,v.jsx)(h.Z,{id:"".concat(e.props.name,"-tooltip"),tooltip:e.props.tooltip,children:n})},children:[this.getHelpText(),this.getErrorMessage(),(0,v.jsx)(f.Z.Check,{name:this.props.name,checked:this.props.value,label:this.getLabel(),required:this.props.required,readOnly:this.props.readOnly,autoComplete:this.props.autoComplete,autoFocus:this.props.autoFocus,onChange:this.handleChange,onBlur:this.props.onBlur,onFocus:this.props.onFocus,ref:this.ref})]})})}}]),r}(m.Z),x=["name","required","format","parse","onChange","onFocus","onBlur"],y=(0,i.forwardRef)((function(e,n){var r=e.name,i=e.required,c=e.format,u=e.parse,d=e.onChange,p=e.onFocus,f=e.onBlur,m=(0,o.Z)(e,x),h=(0,a.Z)();return(0,v.jsx)(s.gN,{name:r,validate:i?l.np:void 0,validateFields:[],format:c,parse:u,children:function(e){var r;return(0,v.jsx)(Z,(0,t.Z)((0,t.Z)({},m),{},{required:i,name:e.input.name,value:null!==(r=e.input.value)&&void 0!==r&&r,errors:(0,l.fr)(h,e.meta.error||(e.meta.dirtySinceLastSubmit?void 0:e.meta.submitError)),meta:e.meta,onChange:function(n,r){e.input.onChange(r),null===d||void 0===d||d(n,r)},onFocus:function(n){e.input.onFocus(n),null===p||void 0===p||p(n)},onBlur:function(n){e.input.onBlur(n),null===f||void 0===f||f(n)},ref:n}))}})}))},9854:function(e,n,r){var t=r(2791);n.Z=function(e){var n=e.form,r=e.initialValues;return(0,t.useEffect)((function(){n&&null!=n.restart&&n.restart(r)}),[r]),null}},5316:function(e,n,r){r.d(n,{Z:function(){return q}});var t,o=r(885),i=r(557),s=r(1413),a=r(1694),l=r.n(a),c=r(3070),u=r(7357),d=r(8376),p=r(6382);function f(e){if((!t&&0!==t||e)&&u.Z){var n=document.createElement("div");n.style.position="absolute",n.style.top="-9999px",n.style.width="50px",n.style.height="50px",n.style.overflow="scroll",document.body.appendChild(n),t=n.offsetWidth-n.clientWidth,document.body.removeChild(n)}return t}var m=r(7731),h=r(9007),g=r(3201),b=r(1683),v=r(3690),Z=r(2791),x=r(7246),y=r(729),w=r(2709),j=r(6543),N=(0,j.Z)("modal-body"),C=r(9820),E=r(162),k=r(184),F=["bsPrefix","className","contentClassName","centered","size","fullscreen","children","scrollable"],_=Z.forwardRef((function(e,n){var r=e.bsPrefix,t=e.className,o=e.contentClassName,a=e.centered,c=e.size,u=e.fullscreen,d=e.children,p=e.scrollable,f=(0,i.Z)(e,F);r=(0,E.vE)(r,"modal");var m="".concat(r,"-dialog"),h="string"===typeof u?"".concat(r,"-fullscreen-").concat(u):"".concat(r,"-fullscreen");return(0,k.jsx)("div",(0,s.Z)((0,s.Z)({},f),{},{ref:n,className:l()(m,t,c&&"".concat(r,"-").concat(c),a&&"".concat(m,"-centered"),p&&"".concat(m,"-scrollable"),u&&h),children:(0,k.jsx)("div",{className:l()("".concat(r,"-content"),o),children:d})}))}));_.displayName="ModalDialog";var R=_,S=(0,j.Z)("modal-footer"),M=r(2086),P=["bsPrefix","className"],O=Z.forwardRef((function(e,n){var r=e.bsPrefix,t=e.className,o=(0,i.Z)(e,P);return r=(0,E.vE)(r,"modal-header"),(0,k.jsx)(M.Z,(0,s.Z)((0,s.Z)({ref:n},o),{},{className:l()(t,r)}))}));O.displayName="ModalHeader",O.defaultProps={closeLabel:"Close",closeButton:!1};var T=O,I=(0,r(7472).Z)("h4"),D=(0,j.Z)("modal-title",{Component:I}),L=["bsPrefix","className","style","dialogClassName","contentClassName","children","dialogAs","aria-labelledby","aria-describedby","aria-label","show","animation","backdrop","keyboard","onEscapeKeyDown","onShow","onHide","container","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","onEntered","onExit","onExiting","onEnter","onEntering","onExited","backdropClassName","manager"],U={show:!1,backdrop:!0,keyboard:!0,autoFocus:!0,enforceFocus:!0,restoreFocus:!0,animation:!0,dialogAs:R};function A(e){return(0,k.jsx)(w.Z,(0,s.Z)((0,s.Z)({},e),{},{timeout:null}))}function B(e){return(0,k.jsx)(w.Z,(0,s.Z)((0,s.Z)({},e),{},{timeout:null}))}var H=Z.forwardRef((function(e,n){var r=e.bsPrefix,t=e.className,a=e.style,w=e.dialogClassName,j=e.contentClassName,N=e.children,F=e.dialogAs,_=e["aria-labelledby"],R=e["aria-describedby"],S=e["aria-label"],M=e.show,P=e.animation,O=e.backdrop,T=e.keyboard,I=e.onEscapeKeyDown,D=e.onShow,U=e.onHide,H=e.container,q=e.autoFocus,z=e.enforceFocus,W=e.restoreFocus,K=e.restoreFocusOptions,V=e.onEntered,G=e.onExit,J=e.onExiting,Q=e.onEnter,X=e.onEntering,Y=e.onExited,$=e.backdropClassName,ee=e.manager,ne=(0,i.Z)(e,L),re=(0,Z.useState)({}),te=(0,o.Z)(re,2),oe=te[0],ie=te[1],se=(0,Z.useState)(!1),ae=(0,o.Z)(se,2),le=ae[0],ce=ae[1],ue=(0,Z.useRef)(!1),de=(0,Z.useRef)(!1),pe=(0,Z.useRef)(null),fe=(0,m.Z)(),me=(0,o.Z)(fe,2),he=me[0],ge=me[1],be=(0,g.Z)(n,ge),ve=(0,h.Z)(U),Ze=(0,E.SC)();r=(0,E.vE)(r,"modal");var xe=(0,Z.useMemo)((function(){return{onHide:ve}}),[ve]);function ye(){return ee||(0,y.t)({isRTL:Ze})}function we(e){if(u.Z){var n=ye().getScrollbarWidth()>0,r=e.scrollHeight>(0,d.Z)(e).documentElement.clientHeight;ie({paddingRight:n&&!r?f():void 0,paddingLeft:!n&&r?f():void 0})}}var je=(0,h.Z)((function(){he&&we(he.dialog)}));(0,b.Z)((function(){(0,p.Z)(window,"resize",je),null==pe.current||pe.current()}));var Ne=function(){ue.current=!0},Ce=function(e){ue.current&&he&&e.target===he.dialog&&(de.current=!0),ue.current=!1},Ee=function(){ce(!0),pe.current=(0,v.Z)(he.dialog,(function(){ce(!1)}))},ke=function(e){"static"!==O?de.current||e.target!==e.currentTarget?de.current=!1:null==U||U():function(e){e.target===e.currentTarget&&Ee()}(e)},Fe=(0,Z.useCallback)((function(e){return(0,k.jsx)("div",(0,s.Z)((0,s.Z)({},e),{},{className:l()("".concat(r,"-backdrop"),$,!P&&"show")}))}),[P,$,r]),_e=(0,s.Z)((0,s.Z)({},a),oe);_e.display="block";return(0,k.jsx)(C.Z.Provider,{value:xe,children:(0,k.jsx)(x.Z,{show:M,ref:be,backdrop:O,container:H,keyboard:!0,autoFocus:q,enforceFocus:z,restoreFocus:W,restoreFocusOptions:K,onEscapeKeyDown:function(e){T||"static"!==O?T&&I&&I(e):(e.preventDefault(),Ee())},onShow:D,onHide:U,onEnter:function(e,n){e&&we(e),null==Q||Q(e,n)},onEntering:function(e,n){null==X||X(e,n),(0,c.ZP)(window,"resize",je)},onEntered:V,onExit:function(e){null==pe.current||pe.current(),null==G||G(e)},onExiting:J,onExited:function(e){e&&(e.style.display=""),null==Y||Y(e),(0,p.Z)(window,"resize",je)},manager:ye(),transition:P?A:void 0,backdropTransition:P?B:void 0,renderBackdrop:Fe,renderDialog:function(e){return(0,k.jsx)("div",(0,s.Z)((0,s.Z)({role:"dialog"},e),{},{style:_e,className:l()(t,r,le&&"".concat(r,"-static"),!P&&"show"),onClick:O?ke:void 0,onMouseUp:Ce,"aria-label":S,"aria-labelledby":_,"aria-describedby":R,children:(0,k.jsx)(F,(0,s.Z)((0,s.Z)({},ne),{},{onMouseDown:Ne,className:w,contentClassName:j,children:N}))}))}})})}));H.displayName="Modal",H.defaultProps=U;var q=Object.assign(H,{Body:N,Header:T,Title:D,Footer:S,Dialog:R,TRANSITION_DURATION:300,BACKDROP_TRANSITION_DURATION:150})},7493:function(){}}]);
//# sourceMappingURL=548.015dc6ff.chunk.js.map