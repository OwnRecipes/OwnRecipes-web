"use strict";(self.webpackChunkownrecipes_web=self.webpackChunkownrecipes_web||[]).push([[687],{8437:function(e,n,t){t.d(n,{Z:function(){return m}});var i=t(2791),r=t(3504),o=t(2677),s=t(9140),a=t(9743),c=t(1694),l=t.n(c),d=t(92),u=t(1884),p=t(2153),f=t(184),m=function(e){var n=e.data,t=e.onOpenRecipe,c=(0,i.useMemo)((function(){return(0,u.uS)()}),[]),m=function(e){if(e.photoThumbnail)return e.photoThumbnail;var n=["fish","fried-eggs","pizza","soup","steak"];return(0,u.xb)("/images/".concat(n[Math.floor(Math.random()*n.length)],".jpg"))},g=null===n||void 0===n?void 0:n.map((function(e){var n=(0,u.xb)("/recipe/".concat(e.slug));return(0,f.jsx)(o.Z,{children:(0,f.jsx)(s.Z,{className:l()("recipe","print-hidden"),children:(0,f.jsxs)(r.rU,{to:n,onClick:function(){return t(e)},children:[(0,f.jsx)(s.Z.Img,{variant:"top",src:m(e),alt:"",placeholder:c}),(0,f.jsx)(p.Z,{id:e.slug,tooltip:e.title,placement:"bottom",className:"card-title-tooltip",children:(0,f.jsx)(s.Z.Title,{as:"h3",children:e.title})}),(0,f.jsx)("div",{children:(0,f.jsx)(d.Z,{stars:e.rating})}),(0,f.jsx)(s.Z.Text,{children:e.info})]})})},e.id)}));return(0,f.jsx)(a.Z,{xs:1,sm:2,lg:4,className:"g-4 recipes-list",children:g})}},6693:function(e,n,t){t.d(n,{Z:function(){return _}});var i=t(2791),r=t(6871),o=t(6221),s=t(3539),a=t(3360),c=(t(4658),t(297)),l=t(8437),d=t(1413),u=t(7572),p=t(8263),f=t(5926),m=t(7728),g=t(1818),h=t(9656),v=function(e){return function(n){n((0,d.Z)({},(0,h.s_)(f.S,m.o.GET_START))),(0,u.WY)().get("".concat(p.m.mini_browse).concat(e?"&".concat(e):"")).then((function(e){var t;n((0,d.Z)((0,d.Z)({},(0,h.s_)(f.S,m.o.GET_SUCCESS)),{},{payload:null===(t=e.body.results)||void 0===t?void 0:t.map((function(e){return(0,g.Nd)(e)}))}))})).catch((function(e){return n((0,u.S3)(e,f.S))}))}},x=t(78),Z=t(2153),b=t(184);function j(e,n){var t=new URLSearchParams(n);return t.append("limit",String(e)),t.toString()}var _=function(e){var n=e.heading,t=e.count,d=e.filters,u=(0,s.Z)().formatMessage,p=(0,o.vU)({shuffleSuggestionsButton:{id:"browse.shuffle_suggestions_button_title",description:"Title/tooltip of the icon button to shuffle the suggestions.",defaultMessage:"Shuffle suggestions"}}),f=(0,h.I0)(),m=(0,r.TH)(),g=(0,r.UO)(),_=g.recipe,w=(0,h.v9)((function(e){return e.browse.miniBrowse.items})),y=(0,i.useMemo)((function(){return null===w||void 0===w?void 0:w.filter((function(e){return e.slug!==_}))}),[_,w]);(0,i.useEffect)((function(){f(v(j(t,d)))}),[m]);return null!=y&&0===y.length?null:(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("h2",{id:"suggestions-heading",children:n}),(0,b.jsx)(Z.Z,{id:"shuffle tooltip",tooltip:u(p.shuffleSuggestionsButton),children:(0,b.jsx)(a.Z,{id:"shuffle-suggestions-button",variant:"outline-primary","aria-label":u(p.shuffleSuggestionsButton),onClick:function(){f(v(j(t,d)))},children:(0,b.jsx)(x.Z,{icon:"arrow-repeat",variant:"light"})})}),(0,b.jsx)(l.Z,{data:y,onOpenRecipe:function(e){var n;(null!==(n=g.recipe)&&void 0!==n?n:"")!==e.slug&&f(c.MA(e))}})]})}},9827:function(e,n,t){var i=t(9551),r=t(184);n.Z=function(e){var n=e.message;return(0,r.jsxs)("div",{className:"spinner",children:[n&&(0,r.jsx)("h3",{className:"no-results",children:n}),(0,r.jsx)(i.Z,{})]})}},4138:function(e,n,t){t.d(n,{h:function(){return g}});var i=t(1413),r=t(557),o=t(3539),s=t(6221),a=t(3360),c=t(5316),l=(t(7493),t(78)),d=t(1694),u=t.n(d),p=t(2605),f=t(184),m=["onClose","className"],g=function(e){var n=e.onClose,t=e.className,o=(0,r.Z)(e,m);return(0,f.jsx)(a.Z,(0,i.Z)((0,i.Z)({type:"button",onClick:n,variant:"transparent",className:u()("close-button",t),"aria-label":"Close"},o),{},{children:(0,f.jsx)(l.Z,{icon:"x",variant:"light",size:"2x"})}))};n.Z=function(e){var n=e.show,t=e.title,r=e.acceptTitle,l=e.closeTitle,d=e.onAccept,u=e.onClose,m=e.noCloseButton,h=e.size,v=e.className,x=e.acceptButtonProps,Z=e.children,b=(0,o.Z)().formatMessage,j=(0,s.vU)({accept:{id:"modal.accept",description:"Default modal accept button",defaultMessage:"Accept"},close:{id:"modal.close",description:"Default modal close button",defaultMessage:"Close"}}),_=function(){u&&u(!1)},w=null!=d||null!=u&&!m;return(0,f.jsxs)(c.Z,{show:n,backdrop:"static",size:null!==h&&void 0!==h?h:"lg",centered:!0,onHide:_,keyboard:!1,className:v,children:[(0,f.jsxs)(c.Z.Header,{children:[(0,f.jsx)(c.Z.Title,{children:t}),null!=u&&(0,f.jsx)(g,{onClose:_})]}),(0,f.jsx)(c.Z.Body,{children:(0,f.jsx)(p.Z,{verbose:!0,printStack:!0,children:Z})}),w&&(0,f.jsxs)(c.Z.Footer,{children:[null!=u&&!m&&(0,f.jsx)(a.Z,{variant:"outline-primary",onClick:_,children:null!==l&&void 0!==l?l:b(j.close)}),null!=d&&(0,f.jsx)(a.Z,(0,i.Z)((0,i.Z)({variant:"primary",onClick:function(){u&&u(!0),d&&d()}},x),{},{children:null!==r&&void 0!==r?r:b(j.accept)}))]})]})}},92:function(e,n,t){t.d(n,{Z:function(){return c}});var i=t(3360),r=t(78),o=t(9276),s=t(184),a=function(e){var n=e.stars,t=e.num,a=e.onChange,c=function(){a&&a(t)},l=n>t-1&&n<t,d=l?"star-half":"star",u=t>n||l?"light":"filled";return(0,s.jsx)(o.Z,{condition:null!=a,render:function(e){return(0,s.jsx)(i.Z,{variant:"transparent",className:"rating",onClick:c,children:e})},children:(0,s.jsx)(r.Z,{icon:d,variant:u,size:null!=a?"2x":"1x"},t)},t)},c=function(e){var n=e.stars,t=e.onChange,i=n;n>5?i=5:n<0&&(i=0);var r=Array.from({length:5},(function(e,n){return n+1})).map((function(e){return(0,s.jsx)(a,{stars:i,num:e,onChange:t},e)}));return(0,s.jsx)("div",{className:"rating-stars",children:r})}},9010:function(e,n,t){t.r(n),t.d(n,{default:function(){return Me}});var i=t(2791),r=t(9656),o=t(4165),s=t(5861),a=t(885),c=t(9140),l=t(2290),d=t(6221),u=t(3539),p=t(9743),f=t(2677),m=t(3360),g=t(78),h=t(1127),v=t(4138),x=t(92),Z=t(9511),b=t(9551),j=t(184),_=function(e){var n=e.rating,t=(0,u.Z)();return n.updateDate&&new Date(n.updateDate).getTime()>0?(0,j.jsx)("div",{className:"rating-timestamp",children:new Date(n.updateDate).toLocaleString(t.locale)}):n.pubDate&&new Date(n.pubDate).getTime()>0?(0,j.jsx)("div",{className:"rating-timestamp",children:new Date(n.pubDate).toLocaleString(t.locale)}):null},w=function(e){var n,t=e.recipeSlug,r=e.ratings,o=e.userId,s=e.pending,c=e.removeRating,l=(0,u.Z)(),w=(0,d.vU)({no_comments:{id:"rating_comments.no_comments",description:"Placeholder for no comments",defaultMessage:"(No comments yet. Be the first!)"},confirm_delete_message:{id:"rating_comments.confirm_delete",description:"Are you sure you want to delete this comment?",defaultMessage:"Are you sure you want to delete this comment?"}}),y=(0,i.useState)(),k=(0,a.Z)(y,2),N=k[0],C=k[1],S=null!==(n=null===r||void 0===r?void 0:r.map((function(e,n){return(0,j.jsxs)(i.Fragment,{children:[(0,j.jsx)(p.Z,{children:n>0&&(0,j.jsx)(f.Z,{xs:12,children:(0,j.jsx)("hr",{})})}),(0,j.jsxs)(p.Z,{children:[(0,j.jsxs)(f.Z,{xs:!0,children:[(0,j.jsx)(x.Z,{stars:e.rating||0}),(0,j.jsx)("div",{className:"rating-username",children:e.userName})]}),(0,j.jsxs)(f.Z,{xs:"auto",children:[(0,j.jsx)(_,{rating:e}),e.userId===o&&(0,j.jsx)(m.Z,{variant:"outline-danger",className:"rating-delete-button",size:"sm",onClick:function(){return function(e){C(e)}(e.id)},children:(0,j.jsx)(g.Z,{icon:"trash"})})]})]}),(0,j.jsx)(p.Z,{children:(0,j.jsx)(f.Z,{xs:12,children:(0,j.jsx)("span",{children:e.comment})})})]},e.id)})))&&void 0!==n?n:[],E=(0,j.jsx)(p.Z,{children:(0,j.jsx)(f.Z,{children:(0,j.jsx)(h.Z,{className:"placeholder",children:l.formatMessage(w.no_comments)})})},"be-the-first");return(0,j.jsxs)(j.Fragment,{children:[s===Z.V.LOADING&&(0,j.jsx)(b.Z,{variant:"three-bounce"}),0===S.length&&E,S,(0,j.jsx)(v.Z,{show:null!=N,title:l.messages["recipe.confirm_delete_title"],acceptTitle:l.messages["recipe.confirm_delete_accept"],onAccept:function(){c(t,null!==N&&void 0!==N?N:0)},onClose:function(){C(void 0)},acceptButtonProps:{variant:"danger"},children:l.formatMessage(w.confirm_delete_message)})]})},y=t(9795),k=t(3720),N=t(9854),C=t(7547),S=t(6699),E=t(2265),M=function(e){var n=e.show,t=e.recipeSlug,r=e.userId,c=e.addRating,l=e.onAddRatingSuccess,g=(0,u.Z)().formatMessage,h=(0,d.vU)({new_rating_title:{id:"newRating.create.title",description:"Fieldset legend for creating a new rating",defaultMessage:"Your new rating"},rating_placeholder:{id:"newRating.create.rating_placeholder",description:"Rating placeholder",defaultMessage:"Rate this recipe from 0 to 5"},rating_label:{id:"newRating.create.rating_label",description:"Rating label",defaultMessage:"Rating"},rating_comment_placeholder:{id:"newRating.create.rating_comment_placeholder",description:"Rating placeholder",defaultMessage:"Leave a comment!"},rating_comment_label:{id:"newRating.create.rating_comment_label",description:"Rating label",defaultMessage:"Comments"},submit:{id:"newRating.create.submit",description:"Submit recipe button",defaultMessage:"Comment"}}),v=(0,i.useState)({rating:0,comment:""}),Z=(0,a.Z)(v,1)[0],b=function(){var e=(0,s.Z)((0,o.Z)().mark((function e(n){var i;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i={rating:n.rating,comment:n.comment,userId:r},e.abrupt("return",c(t,i));case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return n?(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(k.l0,{initialValues:Z,onSubmit:b,subscription:{},render:function(e){var n=e.form,t=e.handleSubmit;return(0,j.jsxs)(y.Z,{onSubmit:t,className:"new-rating",children:[(0,j.jsx)(E.Z,{onSubmitSuccess:l}),(0,j.jsx)(N.Z,{form:n,initialValues:Z}),(0,j.jsxs)("fieldset",{children:[(0,j.jsx)("legend",{className:"new-rating-heading",children:g(h.new_rating_title)}),(0,j.jsx)(p.Z,{children:(0,j.jsxs)(f.Z,{className:"form-group required",children:[(0,j.jsx)("div",{className:"form-label",children:g(h.rating_label)}),(0,j.jsx)(k.gN,{name:"rating",validate:S.np,validateFields:[],children:function(e){return(0,j.jsx)(x.Z,{stars:e.input.value,onChange:function(n){e.input.onChange(n)}})}})]})}),(0,j.jsx)(p.Z,{children:(0,j.jsx)(f.Z,{children:(0,j.jsx)(C.Z,{name:"comment",rows:4,label:g(h.rating_comment_label),placeholder:g(h.rating_comment_placeholder),required:!0})})}),(0,j.jsx)(p.Z,{children:(0,j.jsx)(f.Z,{xs:12,children:(0,j.jsx)(k.lP,{subscription:{values:!0,submitting:!0},children:function(e){var n=e.values,t=e.submitting;return(0,j.jsx)(m.Z,{type:"submit",variant:"primary",disabled:!n.rating||!n.comment||t,children:g(h.submit)})}})})})]})]})}}),(0,j.jsx)("hr",{})]}):null},R=function(e){var n=e.userRole,t=e.showNewRating,i=e.onShowNewRating,r=(0,u.Z)().formatMessage,o=(0,d.vU)({title:{id:"recipe.comments.title",description:"Comments heading",defaultMessage:"Comments"},new_rating_button:{id:"recipe.comments.new_rating",description:"Label for the new rating button",defaultMessage:"New rating"}});return(0,j.jsx)(c.Z.Header,{children:(0,j.jsxs)(p.Z,{children:[(0,j.jsx)(f.Z,{className:"ratings-heading-col",children:(0,j.jsx)("h2",{children:r(o.title)})}),!t&&null!=n&&[l.Z.USER,l.Z.STAFF,l.Z.ADMIN].includes(n)&&(0,j.jsx)(f.Z,{xs:"auto",children:(0,j.jsx)(m.Z,{variant:"outline-primary",onClick:i,children:r(o.new_rating_button)})})]})})},T=function(e){var n=e.recipeSlug,t=e.ratings,r=e.userId,o=e.userRole,s=e.pending,d=e.addRating,u=e.removeRating,p=(0,i.useState)(!1),f=(0,a.Z)(p,2),m=f[0],g=f[1];return(0,j.jsxs)(c.Z,{className:"rating-panel",as:"article",children:[(0,j.jsx)(R,{userRole:o,showNewRating:m,onShowNewRating:function(){return g(!0)}}),(0,j.jsxs)(c.Z.Body,{children:[null!=r&&null!=o&&[l.Z.USER,l.Z.STAFF,l.Z.ADMIN].includes(o)&&(0,j.jsx)(M,{show:m,recipeSlug:n,userId:r,addRating:d,onAddRatingSuccess:function(){g(!1)}}),(0,j.jsx)(w,{recipeSlug:n,ratings:t,pending:s,userId:r,removeRating:u})]})]})},P=t(1413),D=t(8869),A=t(7572),I=t(8263),F=t(7728),L=function(){var e=(0,s.Z)((0,o.Z)().mark((function e(n,t,i){return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n((0,P.Z)({},(0,r.s_)(D.oh,F.o.CREATE_START))),e.abrupt("return",(0,A.WY)().post(I.m.ratings).send({recipe:t,rating:i.rating,comment:i.comment,author:i.userId}).then((function(e){return n((0,P.Z)((0,P.Z)({},(0,r.s_)(D.oh,F.o.CREATE_SUCCESS)),{},{payload:{recipe:t,rating:(0,D.IV)(e.body)}})),null})).catch((function(e){return(0,A.Hn)(n,e,D.RV)})));case 2:case"end":return e.stop()}}),e)})));return function(n,t,i){return e.apply(this,arguments)}}(),O=t(2605),U=function(){var e=(0,r.I0)(),n=(0,r.v9)((function(e){return e.account.item})),t=(0,r.v9)((function(e){return e.recipe.item})),a=(0,r.v9)((function(e){return e.ratings})),c=null===t||void 0===t?void 0:t.slug,l=null===t||void 0===t?void 0:t.rating,d=(0,i.useCallback)(function(){var n=(0,s.Z)((0,o.Z)().mark((function n(t,i){return(0,o.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",L(e,t,i));case 1:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}(),[e]),u=(0,i.useCallback)((function(n,t){return e(function(e,n){return function(t){t((0,P.Z)({},(0,r.s_)(D.oh,F.o.DELETE_START))),(0,A.WY)().delete("".concat(I.m.ratings).concat(n,"/")).then((function(){return t((0,P.Z)((0,P.Z)({},(0,r.s_)(D.oh,F.o.DELETE_SUCCESS)),{},{payload:{ratingId:n,recipe:e}}))})).catch((function(e){return(0,A.S3)(e,D.RV)}))}}(n,t))}),[e]);if((0,i.useEffect)((function(){null!=c&&null!=l&&0!==l&&e(function(e){return function(n){n((0,P.Z)({},(0,r.s_)(D.RV,F.o.GET_START))),(0,A.WY)().get("".concat(I.m.ratings,"?recipe__slug=").concat(e)).then((function(t){return n((0,P.Z)((0,P.Z)({},(0,r.s_)(D.RV,F.o.GET_SUCCESS)),{},{id:e,payload:F.Z.transformEntities(t.body.results,D.IV)}))})).catch((function(e){return(0,A.S3)(e,D.RV)}))}}(c))}),[c,l]),null==c)return null;var p=null!=c&&null!=a.items?a.items[c]:void 0;return(0,j.jsx)(O.Z,{verbose:!0,printStack:!0,children:(0,j.jsx)(T,{recipeSlug:c,userId:null===n||void 0===n?void 0:n.id,userRole:null===n||void 0===n?void 0:n.role,ratings:p,pending:a.meta.pending,addRating:d,removeRating:u})})},z=t(3976),B=t(6693);function H(e){var n={};return e.course&&(n.course__slug=e.course.title),e.cuisine&&(n.cuisine__slug=e.cuisine.title),Object.keys(n).length>0?n:void 0}var V=function(e){var n=e.recipe,t=(0,u.Z)(),i=(0,r.v9)((function(e){return e.browse.miniBrowse.meta}));return i.hasConnection&&!i.error&&null!==n&&void 0!==n&&n.author?(0,j.jsxs)(O.Z,{verbose:!0,printStack:!0,children:[(0,j.jsx)("hr",{}),(0,j.jsx)("article",{className:"recipe-footer",children:(0,j.jsx)(B.Z,{heading:t.messages["nav.home.recommended_recipes_title"],count:4,filters:H(n)})})]}):null},G=t(6871),q=t(5355),W=(t(3541),t(9827)),Y=t(3504),K=t(1884),J=t(1694),Q=t.n(J),X=function(e){var n=e.variant,t=e.className,i=e.children;return(0,j.jsx)("span",{className:Q()("chip",n,t),children:i})},$=t(6956),ee=t(9377),ne=t(2153),te=t(5316),ie=function(e){var n=e.onClose,t=e.children,r="";i.Children.forEach(t,(function(e){if((0,i.isValidElement)(e)){var n=e.props.src;r=n}}));var o=r.includes("/")?r.substring(r.lastIndexOf("/")+1):r;return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsxs)(te.Z.Header,{children:[(0,j.jsx)(te.Z.Title,{children:o}),(0,j.jsx)("a",{title:o,download:o,href:r,className:"btn btn-transparent close-button download-button",children:(0,j.jsx)(g.Z,{icon:"download",variant:"light",size:"2x"})}),(0,j.jsx)(v.h,{onClose:n})]}),(0,j.jsx)(te.Z.Body,{children:t})]})},re=function(e){var n=e.style,t=e.className,r=e.children,o=(0,i.useState)(!1),s=(0,a.Z)(o,2),c=s[0],l=s[1],d=function(){l(!1)};return(0,j.jsxs)(O.Z,{verbose:!1,printStack:!1,children:[(0,j.jsx)(m.Z,{type:"button",style:n,className:Q()("image-viewer",t),onClick:function(){l(!0)},children:r}),(0,j.jsx)(te.Z,{show:c,fullscreen:!0,onHide:d,className:"image-viewer-dialog",children:(0,j.jsx)(O.Z,{verbose:!0,printStack:!0,children:(0,j.jsx)(ie,{onClose:d,children:r})})})]})},oe=(0,i.createContext)(null),se=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.onError,t=e.onRequest,r=e.onRelease,c=(0,i.useState)(),l=(0,a.Z)(c,2),d=l[0],u=l[1],p=(0,i.useRef)(null),f="undefined"!==typeof window&&"wakeLock"in navigator,m=(0,i.useCallback)((0,s.Z)((0,o.Z)().mark((function e(){var i,s,a,c=arguments;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=c.length>0&&void 0!==c[0]?c[0]:"screen",s=null!=p.current,f){e.next=5;break}return console.warn('Calling the "request" function has no effect, Wake Lock Screen API isn\'t supported.'),e.abrupt("return");case 5:if(!s){e.next=8;break}return console.warn('Calling "request" multiple times without "release" has no effect.'),e.abrupt("return");case 8:return e.prev=8,e.next=11,navigator.wakeLock.request(i);case 11:p.current=e.sent,p.current.onrelease=function(e){var n;u(null===(n=p.current&&p.current.released)||void 0===n||n),r&&r(e),p.current=null},null===t||void 0===t||t(),u(null!==(a=p.current&&p.current.released)&&void 0!==a&&a),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(8),n?n(e.t0):console.error(null===e.t0||void 0===e.t0?void 0:e.t0.message);case 20:case"end":return e.stop()}}),e,null,[[8,17]])}))),[f,t,n,r]),g=(0,i.useCallback)((0,s.Z)((0,o.Z)().mark((function e(){var n;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=null==p.current,f){e.next=4;break}return console.warn('Calling the "release" function has no effect, Wake Lock Screen API isn\'t supported.'),e.abrupt("return");case 4:if(!n){e.next=7;break}return console.warn("Calling `release` before `request` has no effect."),e.abrupt("return");case 7:if(!p.current){e.next=10;break}return e.next=10,p.current.release();case 10:case"end":return e.stop()}}),e)}))),[f]);return{isSupported:f,request:m,released:d,release:g,type:p.current&&p.current.type||void 0}},ae=function(){var e,n=(0,u.Z)().formatMessage,t=(0,d.vU)({activate_cooking_mode_tooltip:{id:"recipe.activate_cooking_mode_tooltip",description:"Tooltip displayed when hovering the activate cooking mode button",defaultMessage:"Keep display awake."},deactivate_cooking_mode_tooltip:{id:"recipe.deactivate_cooking_mode_tooltip",description:"Tooltip displayed when hovering the deactivate cooking mode button",defaultMessage:"Release the display wake lock."}}),r=se().isSupported,o=(0,i.useContext)(oe),s=null!==(e=null===o||void 0===o?void 0:o.cookingMode)&&void 0!==e&&e;return r?(0,j.jsx)(ne.Z,{id:"cooking mode tooltip",tooltip:n(s?t.deactivate_cooking_mode_tooltip:t.activate_cooking_mode_tooltip),children:(0,j.jsx)(m.Z,{variant:s?"primary":"outline-primary","aria-label":"Toggle cooking mode",onClick:function(){null===o||void 0===o||o.setCookingMode(!s)},children:(0,j.jsx)(g.Z,{icon:"stopwatch",variant:s?"filled":"light"})})}):null},ce=function(e){var n,t,r,o=e.recipe,s=e.showEditLink,c=e.onEditRecipe,l=e.deleteRecipe,Z=(0,u.Z)(),b=Z.formatMessage,_=(0,d.vU)({edit_tooltip:{id:"recipe.edit_tooltip",description:"Tooltip displayed when hovering the edit recipe icon button",defaultMessage:"Edit this recipe"},delete_tooltip:{id:"recipe.delete_tooltip",description:"Tooltip displayed when hovering the delete recipe icon button",defaultMessage:"Delete this recipe"},print_tooltip:{id:"recipe.print_tooltip",description:"Tooltip displayed when hovering the print icon button",defaultMessage:"Print this recipe"},recipe_comments:{id:"recipe.comments",description:"Button to comments",defaultMessage:"Comments"},prep_time:{id:"recipe.prep_time",description:"Preparation time",defaultMessage:"Prep time"},cooking_time:{id:"recipe.cooking_time",description:"Cooking time",defaultMessage:"Cooking time"},minutes:{id:"recipe.minutes",description:"minutes",defaultMessage:"minutes"},source:{id:"recipe.source",description:"Source of the recipe",defaultMessage:"Source"},created_by:{id:"recipe.created_by",description:"Created by",defaultMessage:"Created by"},last_updated:{id:"recipe.last_updated",description:"Last Updated",defaultMessage:"Last Updated"},confirm_delete_title:{id:"recipe.confirm_delete_title",description:"Confirm deletion - dialog title",defaultMessage:"Confirm deletion"},confirm_delete_message:{id:"recipe.confirm_delete",description:"Are you sure you want to delete this recipe?",defaultMessage:"Are you sure you want to delete this recipe?"},confirm_delete_accept:{id:"recipe.confirm_delete_accept",description:"Confirm deletion - Accept button title",defaultMessage:"Delete"}}),w=(0,i.useState)(!1),y=(0,a.Z)(w,2),k=y[0],N=y[1],C=s?(0,j.jsx)(ne.Z,{id:"edit tooltip",tooltip:b(_.edit_tooltip),children:(0,j.jsx)(Y.rU,{to:(0,K.xb)("/recipe/edit/".concat(null===o||void 0===o?void 0:o.slug)),onClick:function(){c()},children:(0,j.jsx)(m.Z,{variant:"outline-primary",size:"sm",children:(0,j.jsx)("i",{className:"bi bi-pencil-fill"})})})}):null,S=s?(0,j.jsx)(ne.Z,{id:"trash tooltip",tooltip:b(_.delete_tooltip),children:(0,j.jsx)(m.Z,{variant:"outline-danger",size:"sm",onClick:function(){N(!0)},children:(0,j.jsx)(g.Z,{icon:"trash"})})}):null,E="";if(null!==o&&void 0!==o&&o.source&&o.source.match(/(http(s)?:\/\/.)?(www\.)?[-a-zA-Z0-9@:%._+~#=]{2,256}\.[a-z]{2,6}\b([-a-zA-Z0-9@:%_+.~#?&//=]*)/g)){var M=document.createElement("a");M.href=o.source,E=M.hostname}var R=(0,j.jsx)(ne.Z,{id:"print tooltip",tooltip:b(_.print_tooltip),children:(0,j.jsx)(m.Z,{variant:"outline-primary","aria-label":"Print receipt",onClick:window.print,children:(0,j.jsx)(g.Z,{icon:"printer"})})}),T=(0,j.jsx)("div",{className:"options print-hidden",children:(0,j.jsxs)("div",{className:"options-wrapper",children:[s&&(0,j.jsxs)(j.Fragment,{children:[C,S]}),(0,j.jsx)(ae,{}),R]})}),P=null!=o?(0,j.jsxs)(j.Fragment,{children:[(0,j.jsxs)("div",{className:"recipe-header-chips",children:[null!=o.prepTime&&o.prepTime>0&&(0,j.jsxs)(X,{variant:"secondary",children:[(0,j.jsx)(g.Z,{icon:"clock"}),"".concat(b(_.prep_time),": "),o.prepTime," ".concat(b(_.minutes))]}),null!=o.cookTime&&o.cookTime>0&&(0,j.jsxs)(X,{variant:"secondary",children:[(0,j.jsx)(g.Z,{icon:"clock"}),"".concat(b(_.cooking_time),": "),o.cookTime," ".concat(b(_.minutes))]}),null!=o.course&&null!=o.course.title&&o.course.title.length>0&&(0,j.jsxs)(X,{variant:"secondary",children:[(0,j.jsx)(g.Z,{icon:"bar-chart"}),(0,K.kT)(Z,"course.",o.course.title)]}),null!=o.cuisine&&null!=o.cuisine.title&&o.cuisine.title.length>0&&(0,j.jsxs)(X,{variant:"secondary",children:[(0,j.jsx)(g.Z,{icon:"globe",variant:"light"}),(0,K.kT)(Z,"cuisine.",o.cuisine.title)]})]}),(0,j.jsxs)("div",{className:"recipe-header-chips",children:[(0,j.jsxs)(X,{variant:"secondary",children:[(0,j.jsx)(g.Z,{icon:"calendar"}),(null===o||void 0===o?void 0:o.updateDate)&&new Date(o.updateDate).toLocaleDateString(Z.locale)]}),(0,j.jsxs)(X,{variant:"secondary",children:[(0,j.jsx)(g.Z,{icon:"person"}),null!==(n=null===o||void 0===o?void 0:o.username)&&void 0!==n?n:""]})]}),null!=o.tags&&o.tags.length>0&&(0,j.jsx)("div",{className:"recipe-header-chips",children:o.tags.map((function(e){return(0,j.jsx)(X,{variant:"secondary",children:(0,K.kT)(Z,"tag.",e.title)},String(e.title))}))})]}):null;return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsxs)("article",{className:"recipe-header",children:[(0,j.jsx)("h1",{className:"d-block d-xl-none",children:null===o||void 0===o?void 0:o.title}),(0,j.jsxs)(p.Z,{className:"flex-row-reverse justify-content-center",children:[null!=o&&o.photo&&(0,j.jsxs)(j.Fragment,{children:[(0,j.jsxs)(f.Z,{xl:6,lg:12,className:"img-wrapper print-hidden",children:[(0,j.jsx)($.Z,{height:66.67,width:100,children:(0,j.jsx)(re,{children:(0,j.jsx)(ee.Z,{src:o.photo,alt:"",className:"img-responsive print-hidden"})})}),T]}),(0,j.jsx)(f.Z,{sm:7,xs:12,className:"col-sm-push-5 print-only",children:(0,j.jsx)($.Z,{height:66.67,width:100,className:"print-only print-image",children:(0,j.jsx)(re,{children:(0,j.jsx)(ee.Z,{src:null!==(t=o.photoThumbnail)&&void 0!==t?t:o.photo,alt:""})})})})]}),null!=o&&!o.photo&&T,(0,j.jsxs)(f.Z,{xl:6,lg:12,className:"info-wrapper",children:[(0,j.jsx)("h1",{className:"d-none d-xl-block",children:null===o||void 0===o?void 0:o.title}),(0,j.jsx)(h.Z,{children:null===o||void 0===o?void 0:o.info}),(0,j.jsx)(x.Z,{stars:null!==(r=null===o||void 0===o?void 0:o.rating)&&void 0!==r?r:0}),P,(null===o||void 0===o?void 0:o.source)&&(0,j.jsxs)("div",{children:["".concat(b(_.source),": "),E.length>0&&(0,j.jsx)("a",{href:o.source,target:"_blank",rel:"noreferrer",children:E}),0===E.length&&o.source]})]})]})]}),(0,j.jsx)(v.Z,{show:k,title:b(_.confirm_delete_title),acceptTitle:b(_.confirm_delete_accept),acceptButtonProps:{variant:"danger"},onAccept:function(){l()},onClose:function(){N(!1)},className:"delete",children:b(_.confirm_delete_message)})]})},le=(t(1420),t(4349)),de=t(243),ue=function(e){var n,t,r=e.recipe,o=e.recipeMeta,s=e.updateServings,a=(0,u.Z)().formatMessage,c=(0,d.vU)({ingredients:{id:"recipe.ingredients",description:"Ingredients",defaultMessage:"Ingredients"},ingredients_for_servings:{id:"recipe.ingredients_for_servings",description:"Ingredients for[ n servings]",defaultMessage:"Ingredients for"},servings:{id:"recipe.servings",description:"Servings",defaultMessage:"Servings"},servings_input_tooltip:{id:"recipe.servings_input_tooltip",description:"Accessible tooltip for the (change) servings input",defaultMessage:"Amount of servings"}}),l=null===r||void 0===r?void 0:r.customServings,p=(0,i.useMemo)((function(){return{servings:l}}),[l]),f=o.pending,h=null!==(n=null===r||void 0===r?void 0:r.customServings)&&void 0!==n?n:0,v=f===Z.V.COMPLETED&&null!=(null===r||void 0===r?void 0:r.subrecipes)&&0===r.subrecipes.length&&null!=(null===r||void 0===r?void 0:r.ingredientGroups)&&0===r.ingredientGroups.length;return(0,j.jsxs)(j.Fragment,{children:[(v||0===h)&&(0,j.jsx)("h2",{children:a(c.ingredients)}),!v&&h>0&&(0,j.jsxs)("div",{className:"ingredients-for-servings-row",children:[(0,j.jsxs)("h2",{children:[a(c.ingredients_for_servings),(0,j.jsx)("span",{className:"print-only",children:": ".concat(null!==(t=null===r||void 0===r?void 0:r.customServings)&&void 0!==t?t:""," ").concat(a(c.servings))})]}),(0,j.jsx)("div",{className:"custom-servings print-hidden",children:(0,j.jsx)(k.l0,{initialValues:p,onSubmit:function(e){return s(e.servings)},subscription:{},render:function(e){var n=e.form,t=e.handleSubmit;return(0,j.jsxs)(y.Z,{onSubmit:t,className:"custom-servings",children:[(0,j.jsx)(N.Z,{form:n,initialValues:p}),(0,j.jsx)(C.Z,{name:"servings",type:"number","aria-label":a(c.servings_input_tooltip),min:0,max:1e3,autoComplete:"off"}),(0,j.jsxs)(m.Z,{type:"submit",variant:"primary",children:[(0,j.jsx)(g.Z,{icon:"arrow-repeat",variant:"light"}),a(c.servings)]})]})}})})]})]})},pe=function(e){var n=e.recipe,t=e.recipeMeta,i=e.updateServings,r=(0,u.Z)().formatMessage,o=(0,d.vU)({no_ingredients:{id:"recipe.recipe_ingredient_button.no_ingredients",description:"No ingredients provided message",defaultMessage:"(This recipe has no ingredients.)"}}),s=t.pending,a=s===Z.V.COMPLETED&&null!=(null===n||void 0===n?void 0:n.subrecipes)&&0===n.subrecipes.length&&null!=(null===n||void 0===n?void 0:n.ingredientGroups)&&0===n.ingredientGroups.length;return(0,j.jsxs)("article",{className:"ingredients-panel",children:[(0,j.jsx)(ue,{recipe:n,recipeMeta:t,updateServings:i}),s===Z.V.LOADING&&null==(null===n||void 0===n?void 0:n.ingredientGroups)&&(0,j.jsx)(W.Z,{}),a&&(0,j.jsx)(h.Z,{className:"placeholder",children:r(o.no_ingredients)}),!a&&(0,j.jsx)(j.Fragment,{children:(0,j.jsxs)("div",{className:"ingredient-groups",children:[(0,j.jsx)(le.Z,{subRecipes:null===n||void 0===n?void 0:n.subrecipes}),(0,j.jsx)(de.Z,{groups:null===n||void 0===n?void 0:n.ingredientGroups,hasSubrecipes:null!=(null===n||void 0===n?void 0:n.subrecipes)&&(null===n||void 0===n?void 0:n.subrecipes.length)>0})]})})]})},fe=(t(4786),t(9024)),me=function(e){var n=e.directions,t=e.recipeMeta,i=e.ingredients,r=(0,u.Z)().formatMessage,o=(0,d.vU)({directions:{id:"recipe.directions",description:"Directions",defaultMessage:"Directions"},no_directions:{id:"recipe.directions.no_directions",description:"No directions provided message",defaultMessage:"(This recipe has no directions.)"}}),s=t.pending,a=s===Z.V.COMPLETED&&n.trim().length<=1,c=n.includes(":\n");return(0,j.jsxs)("article",{className:Q()("directions-panel",{"multi-directions":c}),children:[(0,j.jsx)("h2",{children:r(o.directions)}),s===Z.V.LOADING&&""===n&&(0,j.jsx)(W.Z,{}),a&&(0,j.jsx)(h.Z,{className:"placeholder",children:r(o.no_directions)}),!a&&(0,j.jsx)("div",{className:"direction-groups",children:(0,j.jsx)(fe.Z,{directions:n,ingredients:i})})]})},ge=function(e){var n,t,i=e.recipe,r=e.recipeMeta,o=e.showEditLink,s=e.onEditRecipe,a=e.deleteRecipe,c=e.updateServings;return(0,j.jsxs)("div",{className:"recipe-details",children:[(0,j.jsx)(ce,{recipe:i,showEditLink:o,onEditRecipe:s,deleteRecipe:a}),(0,j.jsx)("hr",{}),(0,j.jsxs)(p.Z,{children:[(0,j.jsx)(f.Z,{xl:4,lg:12,children:(0,j.jsx)(pe,{recipe:i,recipeMeta:r,updateServings:c})}),(0,j.jsx)("hr",{className:"d-block d-xl-none"}),(0,j.jsx)(f.Z,{xl:8,lg:12,children:(0,j.jsx)(me,{directions:null!==(n=null===i||void 0===i?void 0:i.directions)&&void 0!==n?n:"",recipeMeta:r,ingredients:null!==(t=null===i||void 0===i?void 0:i.ingredientGroups)&&void 0!==t?t:[]})})]})]})},he=t(297),ve=t(5208),xe=t(2951),Ze=function(e){var n=e.children,t=(0,i.useState)(!1),r=(0,a.Z)(t,2),o=r[0],s=r[1],c=function(e){return s(e)},l=(0,i.useMemo)((function(){return{cookingMode:o,setCookingMode:c}}),[o]);return(0,j.jsx)(oe.Provider,{value:l,children:n})},be="undefined"!==typeof document,je=[{hidden:"hidden",event:"visibilitychange",state:"visibilityState"},{hidden:"webkitHidden",event:"webkitvisibilitychange",state:"webkitVisibilityState"},{hidden:"mozHidden",event:"mozvisibilitychange",state:"mozVisibilityState"},{hidden:"msHidden",event:"msvisibilitychange",state:"msVisibilityState"},{hidden:"oHidden",event:"ovisibilitychange",state:"oVisibilityState"}],_e=be&&Boolean(document.addEventListener),we=function(){var e;return _e&&null!==(e=je.find((function(e){return e.hidden in document})))&&void 0!==e?e:null}(),ye=function(){if(!we)return[!0,"visible"];var e=we.hidden,n=we.state;return[!document[e],document[n]]},ke=_e&&we,Ne=function(){var e=ye(),n=(0,a.Z)(e,1)[0],t=(0,i.useState)(n),r=(0,a.Z)(t,2),o=r[0],s=r[1];return(0,i.useEffect)((function(){if(ke&&we){document.addEventListener(we.event,(function(){var e=ye(),n=(0,a.Z)(e,1)[0];s(n)}))}return function(){if(ke&&we){document.removeEventListener(we.event,(function(){var e=ye(),n=(0,a.Z)(e,1)[0];s(n)}))}}}),[]),o},Ce=t(3847),Se=function(){var e,n,t=(0,u.Z)().formatMessage,r=(0,d.vU)({activated_cooking_mode_toast:{id:"recipe.activated_cooking_mode_toast",description:"Toast displayed when activating the cooking mode button",defaultMessage:"Your display will stay awake now.\nHappy cooking!"},still_cooking_modal_title:{id:"recipe.still_cooking_modal_title",description:"Title of the modal to ask to continue keeping the display awake.",defaultMessage:"Still cooking?"},still_cooking_modal_text:{id:"recipe.still_cooking_modal_text",description:"Body text of the modal to ask to continue keeping the display awake.",defaultMessage:"Do you want to continue keeping the display awake?"},still_cooking_modal_yes:{id:"recipe.still_cooking_modal_yes",description:"Yes button.",defaultMessage:"Yes"},still_cooking_modal_no:{id:"recipe.still_cooking_modal_no",description:"no button.",defaultMessage:"No"}}),o=(0,i.useContext)(oe),s=null!==(e=null===o||void 0===o?void 0:o.cookingMode)&&void 0!==e&&e,c=(0,i.useState)(!1),l=(0,a.Z)(c,2),p=l[0],f=l[1],m=(0,i.useState)(!1),g=(0,a.Z)(m,2),h=g[0],x=g[1],Z=se(),b=Z.isSupported,_=Z.request,w=Z.release,y=Z.released,k=Ne();(0,i.useEffect)((function(){b&&s&&(k?_():!1===y&&w())}),[k]),(0,i.useEffect)((function(){s?b&&_().then((function(){N(),setTimeout((function(){f(!0)}),1)})):(C(),!1===y&&w())}),[s]),(0,i.useEffect)((function(){return function(){C(!1),!1===y&&w()}}),[]);var N=function(){C(),n=setTimeout((function(){w(),x(!0)}),18e5)},C=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];e&&(f(!1),x(!1)),null!=n&&clearTimeout(n)};return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(Ce.Z,{show:s&&p,autoHide:1e4,anchorOrigin:{horizontal:"center",vertical:"bottom"},onClose:function(){return f(!1)},children:t(r.activated_cooking_mode_toast)}),(0,j.jsx)(v.Z,{show:h,title:t(r.still_cooking_modal_title),acceptTitle:t(r.still_cooking_modal_yes),closeTitle:t(r.still_cooking_modal_no),onAccept:function(){_().then((function(){N()}))},onClose:function(e){e||null===o||void 0===o||o.setCookingMode(!1)},children:t(r.still_cooking_modal_text)})]})},Ee=function(){var e,n=(0,r.I0)(),t=(0,G.s0)(),o=(0,G.UO)(),s=(0,xe.Z)(),c=o.recipe;(0,i.useEffect)((function(){c&&(n(he.zD(c)),window.scrollTo(0,0))}),[c]);var l=(0,r.v9)((function(e){var n;return null===(n=e.account.item)||void 0===n?void 0:n.id})),d=(0,r.v9)((function(e){return e.recipe})),u=d.item,p=d.meta,f=(0,i.useRef)(),m=(0,i.useState)(!1),g=(0,a.Z)(m,2),h=g[0],v=g[1];(0,i.useEffect)((function(){404===q.Z(p.error,"status")&&t((0,K.xb)("/NotFound"))}),[p.error]);var x=null!==(e=o.recipe)&&void 0!==e?e:"",Z=null!=l&&l===(null===u||void 0===u?void 0:u.author),b=(0,i.useCallback)((function(){v(!0),n(he.eI(x))}),[n]);(0,i.useEffect)((function(){null==f.current?f.current=u:h&&null!=f.current&&null==u&&t((0,K.xb)("/browser"))}),[u]),(0,i.useEffect)((function(){return function(){n(he.mc())}}),[]);var _=(0,i.useCallback)((function(e){return n(he.ln(x,e))}),[n]);return null!=u?(0,j.jsxs)(Ze,{children:[(0,j.jsx)(ge,{recipe:u,recipeMeta:p,showEditLink:Z,onEditRecipe:function(){null!=u?n(ve.preload(u)):s("Invalid state: recipe may not be null")},deleteRecipe:b,updateServings:_}),(0,j.jsx)(Se,{})]}):(0,j.jsx)(W.Z,{message:"Loading"})},Me=function(){var e,n,t,o,s=(0,r.v9)((function(e){return e.recipe})),a=(0,i.useMemo)((function(){return(0,j.jsx)(U,{})}),[null===(e=s.item)||void 0===e?void 0:e.id,s.meta.pending]),c=(0,i.useMemo)((function(){return(0,j.jsx)(V,{recipe:s.item})}),[null===(n=s.item)||void 0===n?void 0:n.id,null===(t=s.item)||void 0===t?void 0:t.author]);return(0,j.jsxs)(z.Z,{title:null===(o=s.item)||void 0===o?void 0:o.title,children:[(0,j.jsx)(Ee,{}),s.meta.pending===Z.V.COMPLETED&&a,s.meta.pending===Z.V.COMPLETED&&c]})}},9140:function(e,n,t){t.d(n,{Z:function(){return M}});var i=t(1413),r=t(557),o=t(1694),s=t.n(o),a=t(2791),c=t(162),l=t(6543),d=t(7472),u=t(184),p=["bsPrefix","className","variant","as"],f=a.forwardRef((function(e,n){var t=e.bsPrefix,o=e.className,a=e.variant,l=e.as,d=void 0===l?"img":l,f=(0,r.Z)(e,p),m=(0,c.vE)(t,"card-img");return(0,u.jsx)(d,(0,i.Z)({ref:n,className:s()(a?"".concat(m,"-").concat(a):m,o)},f))}));f.displayName="CardImg";var m=f,g=t(6040),h=["bsPrefix","className","as"],v=a.forwardRef((function(e,n){var t=e.bsPrefix,o=e.className,l=e.as,d=void 0===l?"div":l,p=(0,r.Z)(e,h),f=(0,c.vE)(t,"card-header"),m=(0,a.useMemo)((function(){return{cardHeaderBsPrefix:f}}),[f]);return(0,u.jsx)(g.Z.Provider,{value:m,children:(0,u.jsx)(d,(0,i.Z)((0,i.Z)({ref:n},p),{},{className:s()(o,f)}))})}));v.displayName="CardHeader";var x=v,Z=["bsPrefix","className","bg","text","border","body","children","as"],b=(0,d.Z)("h5"),j=(0,d.Z)("h6"),_=(0,l.Z)("card-body"),w=(0,l.Z)("card-title",{Component:b}),y=(0,l.Z)("card-subtitle",{Component:j}),k=(0,l.Z)("card-link",{Component:"a"}),N=(0,l.Z)("card-text",{Component:"p"}),C=(0,l.Z)("card-footer"),S=(0,l.Z)("card-img-overlay"),E=a.forwardRef((function(e,n){var t=e.bsPrefix,o=e.className,a=e.bg,l=e.text,d=e.border,p=e.body,f=e.children,m=e.as,g=void 0===m?"div":m,h=(0,r.Z)(e,Z),v=(0,c.vE)(t,"card");return(0,u.jsx)(g,(0,i.Z)((0,i.Z)({ref:n},h),{},{className:s()(o,v,a&&"bg-".concat(a),l&&"text-".concat(l),d&&"border-".concat(d)),children:p?(0,u.jsx)(_,{children:f}):f}))}));E.displayName="Card",E.defaultProps={body:!1};var M=Object.assign(E,{Img:m,Title:w,Subtitle:y,Body:_,Link:k,Text:N,Header:x,Footer:C,ImgOverlay:S})},5316:function(e,n,t){t.d(n,{Z:function(){return H}});var i,r=t(885),o=t(557),s=t(1413),a=t(1694),c=t.n(a),l=t(3070),d=t(7357),u=t(8376),p=t(6382);function f(e){if((!i&&0!==i||e)&&d.Z){var n=document.createElement("div");n.style.position="absolute",n.style.top="-9999px",n.style.width="50px",n.style.height="50px",n.style.overflow="scroll",document.body.appendChild(n),i=n.offsetWidth-n.clientWidth,document.body.removeChild(n)}return i}var m=t(7731),g=t(9007),h=t(3201),v=t(1683),x=t(3690),Z=t(2791),b=t(7246),j=t(729),_=t(2709),w=t(6543),y=(0,w.Z)("modal-body"),k=t(9820),N=t(162),C=t(184),S=["bsPrefix","className","contentClassName","centered","size","fullscreen","children","scrollable"],E=Z.forwardRef((function(e,n){var t=e.bsPrefix,i=e.className,r=e.contentClassName,a=e.centered,l=e.size,d=e.fullscreen,u=e.children,p=e.scrollable,f=(0,o.Z)(e,S);t=(0,N.vE)(t,"modal");var m="".concat(t,"-dialog"),g="string"===typeof d?"".concat(t,"-fullscreen-").concat(d):"".concat(t,"-fullscreen");return(0,C.jsx)("div",(0,s.Z)((0,s.Z)({},f),{},{ref:n,className:c()(m,i,l&&"".concat(t,"-").concat(l),a&&"".concat(m,"-centered"),p&&"".concat(m,"-scrollable"),d&&g),children:(0,C.jsx)("div",{className:c()("".concat(t,"-content"),r),children:u})}))}));E.displayName="ModalDialog";var M=E,R=(0,w.Z)("modal-footer"),T=t(2086),P=["bsPrefix","className"],D=Z.forwardRef((function(e,n){var t=e.bsPrefix,i=e.className,r=(0,o.Z)(e,P);return t=(0,N.vE)(t,"modal-header"),(0,C.jsx)(T.Z,(0,s.Z)((0,s.Z)({ref:n},r),{},{className:c()(i,t)}))}));D.displayName="ModalHeader",D.defaultProps={closeLabel:"Close",closeButton:!1};var A=D,I=(0,t(7472).Z)("h4"),F=(0,w.Z)("modal-title",{Component:I}),L=["bsPrefix","className","style","dialogClassName","contentClassName","children","dialogAs","aria-labelledby","aria-describedby","aria-label","show","animation","backdrop","keyboard","onEscapeKeyDown","onShow","onHide","container","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","onEntered","onExit","onExiting","onEnter","onEntering","onExited","backdropClassName","manager"],O={show:!1,backdrop:!0,keyboard:!0,autoFocus:!0,enforceFocus:!0,restoreFocus:!0,animation:!0,dialogAs:M};function U(e){return(0,C.jsx)(_.Z,(0,s.Z)((0,s.Z)({},e),{},{timeout:null}))}function z(e){return(0,C.jsx)(_.Z,(0,s.Z)((0,s.Z)({},e),{},{timeout:null}))}var B=Z.forwardRef((function(e,n){var t=e.bsPrefix,i=e.className,a=e.style,_=e.dialogClassName,w=e.contentClassName,y=e.children,S=e.dialogAs,E=e["aria-labelledby"],M=e["aria-describedby"],R=e["aria-label"],T=e.show,P=e.animation,D=e.backdrop,A=e.keyboard,I=e.onEscapeKeyDown,F=e.onShow,O=e.onHide,B=e.container,H=e.autoFocus,V=e.enforceFocus,G=e.restoreFocus,q=e.restoreFocusOptions,W=e.onEntered,Y=e.onExit,K=e.onExiting,J=e.onEnter,Q=e.onEntering,X=e.onExited,$=e.backdropClassName,ee=e.manager,ne=(0,o.Z)(e,L),te=(0,Z.useState)({}),ie=(0,r.Z)(te,2),re=ie[0],oe=ie[1],se=(0,Z.useState)(!1),ae=(0,r.Z)(se,2),ce=ae[0],le=ae[1],de=(0,Z.useRef)(!1),ue=(0,Z.useRef)(!1),pe=(0,Z.useRef)(null),fe=(0,m.Z)(),me=(0,r.Z)(fe,2),ge=me[0],he=me[1],ve=(0,h.Z)(n,he),xe=(0,g.Z)(O),Ze=(0,N.SC)();t=(0,N.vE)(t,"modal");var be=(0,Z.useMemo)((function(){return{onHide:xe}}),[xe]);function je(){return ee||(0,j.t)({isRTL:Ze})}function _e(e){if(d.Z){var n=je().getScrollbarWidth()>0,t=e.scrollHeight>(0,u.Z)(e).documentElement.clientHeight;oe({paddingRight:n&&!t?f():void 0,paddingLeft:!n&&t?f():void 0})}}var we=(0,g.Z)((function(){ge&&_e(ge.dialog)}));(0,v.Z)((function(){(0,p.Z)(window,"resize",we),null==pe.current||pe.current()}));var ye=function(){de.current=!0},ke=function(e){de.current&&ge&&e.target===ge.dialog&&(ue.current=!0),de.current=!1},Ne=function(){le(!0),pe.current=(0,x.Z)(ge.dialog,(function(){le(!1)}))},Ce=function(e){"static"!==D?ue.current||e.target!==e.currentTarget?ue.current=!1:null==O||O():function(e){e.target===e.currentTarget&&Ne()}(e)},Se=(0,Z.useCallback)((function(e){return(0,C.jsx)("div",(0,s.Z)((0,s.Z)({},e),{},{className:c()("".concat(t,"-backdrop"),$,!P&&"show")}))}),[P,$,t]),Ee=(0,s.Z)((0,s.Z)({},a),re);Ee.display="block";return(0,C.jsx)(k.Z.Provider,{value:be,children:(0,C.jsx)(b.Z,{show:T,ref:ve,backdrop:D,container:B,keyboard:!0,autoFocus:H,enforceFocus:V,restoreFocus:G,restoreFocusOptions:q,onEscapeKeyDown:function(e){A||"static"!==D?A&&I&&I(e):(e.preventDefault(),Ne())},onShow:F,onHide:O,onEnter:function(e,n){e&&_e(e),null==J||J(e,n)},onEntering:function(e,n){null==Q||Q(e,n),(0,l.ZP)(window,"resize",we)},onEntered:W,onExit:function(e){null==pe.current||pe.current(),null==Y||Y(e)},onExiting:K,onExited:function(e){e&&(e.style.display=""),null==X||X(e),(0,p.Z)(window,"resize",we)},manager:je(),transition:P?U:void 0,backdropTransition:P?z:void 0,renderBackdrop:Se,renderDialog:function(e){return(0,C.jsx)("div",(0,s.Z)((0,s.Z)({role:"dialog"},e),{},{style:Ee,className:c()(i,t,ce&&"".concat(t,"-static"),!P&&"show"),onClick:D?Ce:void 0,onMouseUp:ke,"aria-label":R,"aria-labelledby":E,"aria-describedby":M,children:(0,C.jsx)(S,(0,s.Z)((0,s.Z)({},ne),{},{onMouseDown:ye,className:_,contentClassName:w,children:y}))}))}})})}));B.displayName="Modal",B.defaultProps=O;var H=Object.assign(B,{Body:y,Header:A,Title:F,Footer:R,Dialog:M,TRANSITION_DURATION:300,BACKDROP_TRANSITION_DURATION:150})},9743:function(e,n,t){var i=t(1413),r=t(557),o=t(1694),s=t.n(o),a=t(2791),c=t(162),l=t(184),d=["bsPrefix","className","as"],u=a.forwardRef((function(e,n){var t=e.bsPrefix,o=e.className,a=e.as,u=void 0===a?"div":a,p=(0,r.Z)(e,d),f=(0,c.vE)(t,"row"),m=(0,c.pi)(),g=(0,c.zG)(),h="".concat(f,"-cols"),v=[];return m.forEach((function(e){var n,t=p[e];delete p[e],n=null!=t&&"object"===typeof t?t.cols:t;var i=e!==g?"-".concat(e):"";null!=n&&v.push("".concat(h).concat(i,"-").concat(n))})),(0,l.jsx)(u,(0,i.Z)((0,i.Z)({ref:n},p),{},{className:s().apply(void 0,[o,f].concat(v))}))}));u.displayName="Row",n.Z=u},2591:function(e,n,t){var i=t(1413),r=t(557),o=t(1694),s=t.n(o),a=t(2791),c=t(162),l=t(184),d=["bsPrefix","className","striped","bordered","borderless","hover","size","variant","responsive"],u=a.forwardRef((function(e,n){var t=e.bsPrefix,o=e.className,a=e.striped,u=e.bordered,p=e.borderless,f=e.hover,m=e.size,g=e.variant,h=e.responsive,v=(0,r.Z)(e,d),x=(0,c.vE)(t,"table"),Z=s()(o,x,g&&"".concat(x,"-").concat(g),m&&"".concat(x,"-").concat(m),a&&"".concat(x,"-").concat("string"===typeof a?"striped-".concat(a):"striped"),u&&"".concat(x,"-bordered"),p&&"".concat(x,"-borderless"),f&&"".concat(x,"-hover")),b=(0,l.jsx)("table",(0,i.Z)((0,i.Z)({},v),{},{className:Z,ref:n}));if(h){var j="".concat(x,"-responsive");return"string"===typeof h&&(j="".concat(j,"-").concat(h)),(0,l.jsx)("div",{className:j,children:b})}return b}));n.Z=u},6657:function(e,n,t){t.d(n,{Z:function(){return C}});var i,r=t(1413),o=t(557),s=t(2791),a=t(1694),c=t.n(a),l=t(9726),d=t(4942),u=t(5090),p=t(2709),f=t(184),m=(i={},(0,d.Z)(i,u.d0,"showing"),(0,d.Z)(i,u.Ix,"showing show"),i),g=s.forwardRef((function(e,n){return(0,f.jsx)(p.Z,(0,r.Z)((0,r.Z)({},e),{},{ref:n,transitionClasses:m}))}));g.displayName="ToastFade";var h=g,v=t(9007),x=t(162),Z=t(473),b=s.createContext({onClose:function(){}}),j=["bsPrefix","closeLabel","closeVariant","closeButton","className","children"],_=s.forwardRef((function(e,n){var t=e.bsPrefix,i=e.closeLabel,a=e.closeVariant,l=e.closeButton,d=e.className,u=e.children,p=(0,o.Z)(e,j);t=(0,x.vE)(t,"toast-header");var m=(0,s.useContext)(b),g=(0,v.Z)((function(e){null==m||null==m.onClose||m.onClose(e)}));return(0,f.jsxs)("div",(0,r.Z)((0,r.Z)({ref:n},p),{},{className:c()(t,d),children:[u,l&&(0,f.jsx)(Z.Z,{"aria-label":i,variant:a,onClick:g,"data-dismiss":"toast"})]}))}));_.displayName="ToastHeader",_.defaultProps={closeLabel:"Close",closeButton:!0};var w=_,y=(0,t(6543).Z)("toast-body"),k=["bsPrefix","className","transition","show","animation","delay","autohide","onClose","bg"],N=s.forwardRef((function(e,n){var t=e.bsPrefix,i=e.className,a=e.transition,d=void 0===a?h:a,u=e.show,p=void 0===u||u,m=e.animation,g=void 0===m||m,v=e.delay,Z=void 0===v?5e3:v,j=e.autohide,_=void 0!==j&&j,w=e.onClose,y=e.bg,N=(0,o.Z)(e,k);t=(0,x.vE)(t,"toast");var C=(0,s.useRef)(Z),S=(0,s.useRef)(w);(0,s.useEffect)((function(){C.current=Z,S.current=w}),[Z,w]);var E=(0,l.Z)(),M=!(!_||!p),R=(0,s.useCallback)((function(){M&&(null==S.current||S.current())}),[M]);(0,s.useEffect)((function(){E.set(R,C.current)}),[E,R]);var T=(0,s.useMemo)((function(){return{onClose:w}}),[w]),P=!(!d||!g),D=(0,f.jsx)("div",(0,r.Z)((0,r.Z)({},N),{},{ref:n,className:c()(t,i,y&&"bg-".concat(y),!P&&(p?"show":"hide")),role:"alert","aria-live":"assertive","aria-atomic":"true"}));return(0,f.jsx)(b.Provider,{value:T,children:P&&d?(0,f.jsx)(d,{in:p,unmountOnExit:!0,children:D}):D})}));N.displayName="Toast";var C=Object.assign(N,{Body:y,Header:w})},4658:function(){},7493:function(){}}]);
//# sourceMappingURL=687.419d03fb.chunk.js.map