"use strict";(self.webpackChunkownrecipes_web=self.webpackChunkownrecipes_web||[]).push([[121],{941:(e,i,t)=>{t.d(i,{A:()=>A});var n=t(5043),s=t(6971),r=t(3626),l=t(97),a=(t(1840),t(6308)),o=t(2437),d=t(5386),c=t(3306),u=t(2235),g=t(1948),p=t(6746),h=t(6847),m=t(9140),v=t(7473),b=t(1965);const x=e=>i=>{i({...(0,d.OS)(b.T,h.h.GET_START)}),(0,g.Ay)().get(`${p.U.mini_browse}${e?`&${e}`:""}`).then((e=>{var t;i({...(0,d.OS)(b.T,h.h.GET_SUCCESS),payload:null===(t=e.body.results)||void 0===t?void 0:t.map(v.A)})})).catch((e=>i((0,m.H4)(e,b.T))))};var f=t(579);const j=(0,r.YK)({shuffleSuggestionsButton:{id:"browse.shuffle_suggestions_button_title",description:"Title/tooltip of the icon button to shuffle the suggestions.",defaultMessage:"Shuffle suggestions"}});function _(e,i){const t=new URLSearchParams(i);return t.append("limit",e.toString()),t.toString()}const A=e=>{var i;let{heading:t,count:r,filters:g}=e;const{formatMessage:p}=(0,l.A)(),h=(0,d.wA)(),m=(0,s.zy)(),v=(0,s.g)(),b=v.recipe,A=(0,d.d4)((e=>e.browse.browserMini.items)),y=(0,n.useMemo)((()=>null===A||void 0===A?void 0:A.filter((e=>e.slug!==b))),[b,A]),S=null!==(i=v.recipe)&&void 0!==i?i:"";(0,n.useEffect)((()=>{h(x(_(r,g)))}),[m]);const C=(0,n.useCallback)((()=>{h(x(_(r,g)))}),[_,r,g]),k=(0,n.useCallback)((e=>{S!==e.slug&&h(c.uv(e))}),[S]);return null!=y&&0===y.length?null:(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)("h2",{id:"suggestions-heading",children:t}),(0,f.jsx)(o.A,{id:"shuffle-suggestions-button",variant:"outline-primary",onClick:C,className:"print-hidden",tooltip:p(j.shuffleSuggestionsButton),children:(0,f.jsx)(a.A,{icon:"arrow-repeat",variant:"light"})}),(0,f.jsx)(u.A,{data:y,onOpenRecipe:k})]})}},5718:(e,i,t)=>{t.d(i,{A:()=>g});var n=t(5043),s=t(8139),r=t.n(s),l=t(1318),a=t(3626),o=t(97),d=t(3702),c=t(579);const u=(0,a.YK)({permalink_tooltip:{id:"permalink.tooltip",description:"Tooltip when hovering a permalink.",defaultMessage:"Permalink to this headline"}}),g=(0,n.forwardRef)(((e,i)=>{let{linkFor:t,className:n,...s}=e;const{formatMessage:a}=(0,o.A)();return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(l.N_,{className:r()("headerlink",n),to:`#${t}`,title:a(u.permalink_tooltip),...s,ref:i,children:"\xb6"}),(0,c.jsx)(d.A,{uriFragmentId:t})]})}))},8094:(e,i,t)=>{t.d(i,{A:()=>r});var n=t(5043),s=t(579);const r=(0,n.forwardRef)(((e,i)=>{let{src:t,placeholder:r,alt:l,onError:a,...o}=e;const[d,c]=(0,n.useState)(!1);(0,n.useEffect)((()=>{c(!1)}),[t]);const u=(0,n.useCallback)((()=>{c(!0),null===a||void 0===a||a()}),[a]);return(0,s.jsx)("img",{src:d?r:t,alt:l,onError:u,...o,ref:i})}))},3930:(e,i,t)=>{t.d(i,{A:()=>d});var n=t(5043),s=t(7775),r=t(97),l=t(6631),a=t(6985),o=t(579);const d=(0,n.forwardRef)(((e,i)=>{let{name:t,required:d,format:c,parse:u,formatter:g,parser:p,isMulti:h,onChange:m,onFocus:v,onBlur:b,...x}=e;const f=(0,r.A)(),j=(0,n.useCallback)((e=>null==e?h?[]:void 0:null===g||void 0===g?void 0:g(e)),[g,h]);return(0,o.jsx)(s.D0,{name:t,validate:d?l.yt:void 0,validateFields:[],format:c,parse:u,children:e=>(0,o.jsx)(a.l6,{...x,required:d,isMulti:h,name:e.input.name,value:j(e.input.value),errors:(0,l.HJ)(f,e.meta.error||(e.meta.dirtySinceLastSubmit?void 0:e.meta.submitError)),meta:e.meta,onChange:(i,t)=>{e.input.onChange(null===p||void 0===p?void 0:p(t)),null===m||void 0===m||m(i,null===p||void 0===p?void 0:p(t))},onFocus:i=>{e.input.onFocus(i),null===v||void 0===v||v(i)},onBlur:i=>{e.input.onBlur(i),null===b||void 0===b||b(i)},ref:i})})}))},5333:(e,i,t)=>{t.d(i,{A:()=>a});var n=t(5043),s=t(8139),r=t.n(s),l=t(579);const a=(0,n.forwardRef)(((e,i)=>{let{height:t,width:n,children:s,className:a,style:o,...d}=e;return(0,l.jsx)("div",{style:{paddingTop:`${t}%`,width:`${n}%`,position:"relative",...o},className:r()("width-height-ratio",a),...d,ref:i,children:s})}))},4136:(e,i,t)=>{t.d(i,{Hh:()=>c,TF:()=>p,cL:()=>v,uq:()=>m,vt:()=>u,yo:()=>g});var n=t(1948),s=t(6746),r=t(5386),l=t(6847),a=t(9140),o=t(4962),d=t(8999);const c=e=>i=>{i({...(0,r.OS)(o.bK,l.h.GET_START)}),(0,n.Ay)().get(`${s.U.list}${e}/`).then((e=>{var t;i((t=(0,o.VJ)(e.body),{...(0,r.OS)(o.bK,l.h.GET_SUCCESS),payload:t}))})).catch((e=>i((0,a.H4)(e,o.bK))))},u=async(e,i)=>(e({...(0,r.OS)(o.bK,l.h.CREATE_START)}),(0,n.Ay)().post(s.U.list).send(i).then((i=>{const t=(0,o.VJ)(i.body);e({...(0,r.OS)(o.bK,l.h.CREATE_SUCCESS),payload:t})})).catch((i=>(0,a.NC)(e,i,o.bK)))),g=async(e,i,t)=>(e({...(0,r.OS)(o.bK,l.h.UPDATE_START)}),(0,n.Ay)().patch(`${s.U.list}${i}/`).send(t).then((i=>{const t=(0,o.VJ)(i.body);e({...(0,r.OS)(o.bK,l.h.UPDATE_SUCCESS),payload:t})})).catch((i=>(0,a.NC)(e,i,o.bK)))),p=(e,i)=>t=>{t({...(0,r.OS)(o.bK,l.h.DELETE_START)}),(0,n.Ay)().delete(`${s.U.list}${i}/`).then((()=>{t({...(0,r.OS)(o.bK,l.h.DELETE_SUCCESS),payload:{id:e}})})).catch((e=>t((0,a.H4)(e,o.bK))))};function h(e,i){return[e.quantity&&"0"!==e.quantity?e.quantity:void 0,i(e.measurement,e.quantity),e.title].filter(Boolean).join(" ")}const m=async(e,i,t,c)=>{const u=t.ingredientGroups.flatMap((e=>e.ingredients.map((e=>({list:i,title:h(e,c)}))))),g=t.subrecipes.map((e=>({list:i,title:h(e,c)}))),p=u.concat(g);return p.length>0?(e({...(0,r.OS)(o.bK,l.h.UPDATE_START)}),(0,n.Ay)().post(s.U.bulk_list_item).send(p).then((t=>{e({...(0,r.OS)(o.bK,o.Jb.BULK_ADD),payload:t.body.map((e=>(0,d.cJ)(i,e)))}),e({...(0,r.OS)(o.bK,l.h.UPDATE_SUCCESS)})})).catch((i=>e((0,a.H4)(i,o.bK))))):null},v=()=>e=>{e({...(0,r.OS)(o.bK,l.h.RESET)})}},8938:(e,i,t)=>{t.d(i,{A:()=>u});var n=t(5043),s=t(8139),r=t.n(s),l=(t(6296),t(5718)),a=t(825),o=t(5838),d=t(579);function c(e,i,t,n){if(0===t.length)return;const s=function(e,i){const t=i.findIndex((i=>i.title===e));if(t>=0)return i.splice(t,1)[0]}(i,n);e.push({heading:i,directions:t,ingredients:s?[s]:void 0})}const u=e=>{let{directions:i,ingredients:t}=e;const s=(0,n.useMemo)((()=>function(e,i){const t=[...i],n=e.includes("\n"),s=[];let r=[],l="";return n?(e.split("\n").filter((e=>e.length>0)).map((e=>e.trimEnd())).forEach((e=>{e.endsWith(":")?(c(s,l,r,t),l=e.substring(0,e.length-1),r=[]):r.push(e)})),c(s,l,r,t)):c(s,"",[e],t),function(e,i){if(0===i.length)return;const t=e.find((e=>!e.heading));t?t.ingredients?t.ingredients.push(...i):t.ingredients=[...i]:e.unshift({directions:[],ingredients:[...i]}),i.splice(0,i.length)}(s,t),s}(i,t)),[i,t]),u=(0,n.useMemo)((()=>{return(e=s).filter((e=>e.directions.length>0||null!=e.ingredients&&e.ingredients.length>0)).map((i=>{var t;let n;1===i.directions.length?n=(0,d.jsx)("div",{className:"direction",children:i.directions[0]}):i.directions.length>1&&(n=(0,d.jsx)("ol",{className:"directions",children:i.directions.map((e=>(0,d.jsx)("li",{className:"direction",children:e},e)))}));const s=!i.heading,c=(0,o.Yv)(null!==(t=i.heading)&&void 0!==t?t:"");return(0,d.jsxs)("div",{className:r()("subgroup",c),children:[i.heading&&(0,d.jsxs)("h3",{id:`direction-${c}`,children:[`${i.heading}:`,(0,d.jsx)(l.A,{linkFor:`direction-${c}`})]}),i.ingredients&&i.ingredients.length>0&&(0,d.jsx)("div",{className:"ingredients",children:(0,d.jsx)(a.A,{groups:i.ingredients,hasSubrecipes:s&&e.length>1})}),n]},c)}));var e}),[s]);return(0,d.jsx)(d.Fragment,{children:u})}},825:(e,i,t)=>{t.d(i,{A:()=>r});t(1523);var n=t(6714),s=t(579);const r=e=>{let{groups:i,hasSubrecipes:t,withHeaderLink:r,selectable:l}=e;const a=t||null!=i&&i.length>1,o=null===i||void 0===i?void 0:i.filter((e=>e.title||e.ingredients.length>0)).map((e=>(0,s.jsx)("div",{className:"subgroup ingredient-group",children:(0,s.jsx)(n.A,{showCaptions:a,group:e,withHeaderLink:r,data:e.ingredients,selectable:l})},e.slug||e.title)));return(0,s.jsx)(s.Fragment,{children:o})}},6714:(e,i,t)=>{t.d(i,{A:()=>h,s:()=>p});var n=t(5043),s=t(4196),r=t(3626),l=t(97),a=t(2467),o=t(5718),d=t(5838),c=t(8013),u=t(579);const g=(0,r.YK)({quantity:{id:"ingredients.table.quantity",description:"Ingredients table quantity header",defaultMessage:"Quantity"},ingredient:{id:"ingredients.table.ingredient",description:"Ingredients table ingredient header",defaultMessage:"Ingredient"}});function p(e,i,t,n){let s;if(null!=t){const r=i.formatter[i.parser[t]];s=null!=r?(0,d.yW)(e,"measurement.",r,{itemCount:n}):t}else s="";return s}const h=e=>{let{showCaptions:i,group:t,data:r,withHeaderLink:h,selectable:m}=e;const v=(0,l.A)(),{formatMessage:b}=v,x=(0,n.useContext)(a.A),f=i&&t.title?t.title:void 0,j=(0,d.Yv)(null!==f&&void 0!==f?f:""),_=r.map(((e,i)=>{var n;const s=e.quantity,r=p(v,x,e.measurement,e.quantity),l=e.title,a=[s,r,l].join(" "),o=Boolean(s)||Boolean(r);return(0,u.jsxs)("tr",{className:"ingredient",children:[m&&(0,u.jsx)("td",{className:"selection",children:(0,u.jsx)(c.A,{label:a,className:"label-sr-only",name:`ingredients.${t.slug}.cb-${e.id}`})}),(0,u.jsx)("td",{className:"quantity",children:o&&(0,u.jsxs)("span",{children:[s,null!=s&&s.length>0&&r.length>0&&" ",r]})}),(0,u.jsx)("td",{className:"ingredient",children:(0,u.jsx)("span",{children:l})})]},(null!==(n=e.id)&&void 0!==n?n:i).toString())}));return(0,u.jsxs)(s.A,{striped:!0,size:"sm",className:"table ingredients-table",children:[f&&(0,u.jsxs)("caption",{id:h?`ingredients-${j}`:void 0,className:"subheading h3",children:[`${f}:`,h&&(0,u.jsx)(o.A,{linkFor:`ingredients-${j}`})]}),(0,u.jsx)("thead",{className:"hideme",children:(0,u.jsxs)("tr",{children:[m&&(0,u.jsx)("th",{children:(0,u.jsx)("span",{children:"Selection"})}),(0,u.jsx)("th",{children:(0,u.jsx)("span",{children:b(g.quantity)})}),(0,u.jsx)("th",{children:(0,u.jsx)("span",{children:b(g.ingredient)})})]})}),(0,u.jsx)("tbody",{children:_})]})}},1539:(e,i,t)=>{t.d(i,{A:()=>h});var n=t(8139),s=t.n(n),r=t(4196),l=t(3626),a=t(97),o=t(1318),d=t(5718),c=t(8013),u=t(5838),g=t(579);const p=(0,l.YK)({subrecipes:{id:"subrecipes.subrecipes heading",description:"Subrecipes header",defaultMessage:"Subrecipes"},quantity:{id:"subrecipes.table.quantity",description:"Subrecipes table quantity header",defaultMessage:"Quantity"},subrecipe:{id:"subrecipes.table.subrecipe",description:"Subrecipes table ingredient header",defaultMessage:"Subrecipe"}}),h=e=>{let{subRecipes:i,withHeaderLink:t,selectable:n}=e;const l=(0,a.A)(),h=null==i||i.filter((e=>null!=e.quantity&&e.quantity.length>0&&"0"!==e.quantity||null!=e.measurement&&e.measurement.length>0)).length>0,m=null===i||void 0===i?void 0:i.map(((e,i)=>{var t;const r=null!=e.quantity&&e.quantity.length>0&&"0"!==e.quantity?e.quantity:"",a=null!=e.measurement?(0,u.yW)(l,"measurement.",e.measurement,{itemCount:e.quantity}):"",d=e.title,p=[r,a,d].join(" ");return(0,g.jsxs)("tr",{className:"ingredient",children:[n&&(0,g.jsx)("td",{className:"selection",children:(0,g.jsx)(c.A,{label:p,className:"label-sr-only",name:`subrecipes.cb-${e.child_recipe_id}`})}),h&&(0,g.jsx)("td",{className:"quantity first-col",children:(0,g.jsxs)("span",{children:[r,null!=r&&r.length>0&&a.length>0&&" ",a]})}),(0,g.jsx)("td",{className:s()("ingredient last-col",{"first-col":h}),children:(0,g.jsx)("span",{children:(0,g.jsx)(o.N_,{to:(0,u.hp)(`/recipe/${e.slug}`),className:"title",children:d})})})]},(null!==(t=e.child_recipe_id)&&void 0!==t?t:i).toString())}));return null==m||0===m.length?null:(0,g.jsx)("div",{className:"subgroup ingredient-group",children:(0,g.jsxs)(r.A,{striped:!0,size:"sm",className:"table ingredients-table",children:[(0,g.jsxs)("caption",{id:t?"subrecipes":void 0,className:"subheading h3",children:[`${l.formatMessage(p.subrecipes)}:`,t&&(0,g.jsx)(d.A,{linkFor:"subrecipes"})]}),(0,g.jsx)("thead",{className:"hideme",children:(0,g.jsxs)("tr",{children:[n&&(0,g.jsx)("th",{children:(0,g.jsx)("span",{children:"Selection"})}),h&&(0,g.jsx)("th",{children:(0,g.jsx)("span",{children:l.formatMessage(p.quantity)})}),(0,g.jsx)("th",{children:(0,g.jsx)("span",{children:l.formatMessage(p.subrecipe)})})]})}),(0,g.jsx)("tbody",{children:m})]})})}},8476:(e,i,t)=>{t.r(i),t.d(i,{default:()=>oi});var n=t(5043),s=t(6971),r=t(7015),l=t(5386),a=t(2289),o=t(3626),d=t(97),c=t(1072),u=t(8602),g=t(2521),p=t(7341),h=t(7367),m=t(8139),v=t.n(m),b=t(3702),x=t(3722),f=t(4282),j=t(7775),_=t(5852),A=t(359),y=t(6631),S=t(6957),C=t(933),k=t(1318),w=t(6308),E=t(2437),N=t(8563),M=t(962),T=t(7772),R=t(579);const $=(0,o.YK)({edited_by:{id:"rating.edited_by",description:"The rating was edited by ...",defaultMessage:"Edited by"},edit_button:{id:"rating_comments.edit_button",description:"Label of the edit comment icon button",defaultMessage:"Edit comment"},delete_button:{id:"rating_comments.delete_button",description:"Label of the delete comment icon button",defaultMessage:"Delete comment"},confirm_delete_message:{id:"rating_comments.confirm_delete",description:"Are you sure you want to delete this comment?",defaultMessage:"Are you sure you want to delete this comment?"}}),O=e=>{let{rating:i}=e;const{formatMessage:t,locale:n}=(0,d.A)();if(i.update_date&&new Date(i.update_date).getTime()>0&&i.update_username){const e=`${t($.edited_by)}: ${i.update_username}`,s=new Date(i.update_date).toLocaleString(n),r=(0,R.jsxs)("div",{className:"d-flex-column",children:[(0,R.jsx)("div",{children:e}),(0,R.jsx)("div",{children:s})]});return(0,R.jsx)(N.A,{id:`${i.id}-editor-tooltip`,tooltip:r,children:(0,R.jsx)(w.A,{icon:"pencil",className:"subtitle2",size:"1x",style:{marginLeft:"5px"},ariaLabel:`${t($.edited_by)}: ${i.update_username}. ${s}`})})}return null},F=e=>{let{rating:i}=e;const{locale:t}=(0,d.A)();return i.update_date&&new Date(i.update_date).getTime()>0&&i.update_username===i.pub_username?(0,R.jsx)(k.N_,{className:"subtitle2 rating-timestamp",to:`#rating-${i.id}`,children:new Date(i.update_date).toLocaleString(t)}):i.pub_date&&new Date(i.pub_date).getTime()>0?(0,R.jsx)(k.N_,{className:"subtitle2 rating-timestamp",to:`#rating-${i.id}`,children:new Date(i.pub_date).toLocaleString(t)}):null},D=e=>{let{rating:i}=e;const t=[];return i.comment.split("\n").filter(Boolean).forEach(((e,i)=>{t.push((0,R.jsx)(g.A,{children:e},`${i}-p`))})),(0,R.jsx)(R.Fragment,{children:t})},L=e=>{let{rating:i,onEdit:t,onDelete:s,className:r,...l}=e;const a=(0,d.A)(),{formatMessage:o}=a,[c,u]=(0,n.useState)(!1),g=(0,n.useCallback)((()=>{u(!0)}),[]),p=(0,n.useCallback)((()=>{u(!1)}),[]),h=(0,n.useCallback)((()=>{null===s||void 0===s||s()}),[]);return(0,R.jsxs)(R.Fragment,{children:[(0,R.jsxs)(T.M,{position:"end",className:v()("rating-toolbar",r),...l,children:[t&&(0,R.jsx)(E.A,{id:`edit-${i.id}`,variant:"outline-primary",className:"rating-edit-button",tooltip:o($.edit_button),onClick:t,children:(0,R.jsx)(w.A,{icon:"pencil"})}),s&&(0,R.jsx)(E.A,{id:`delete-${i.id}`,variant:"outline-danger",className:"rating-delete-button",tooltip:o($.delete_button),onClick:g,children:(0,R.jsx)(w.A,{icon:"trash"})})]}),(0,R.jsx)(M.A,{show:c,title:a.messages["recipe.confirm_delete_title"],acceptTitle:a.messages["recipe.confirm_delete_accept"],onAccept:h,onClose:p,acceptButtonProps:{variant:"danger"},children:o($.confirm_delete_message)})]})},U=e=>{let{rating:i}=e;return(0,R.jsxs)(R.Fragment,{children:[(0,R.jsxs)(c.A,{className:"rating-header",children:[(0,R.jsxs)(u.A,{xs:!0,children:[(0,R.jsx)(C.A,{stars:i.rating||0}),(0,R.jsx)("div",{className:"rating-username",children:i.pub_username})]}),(0,R.jsxs)(u.A,{xs:"auto",children:[(0,R.jsx)(F,{rating:i}),(0,R.jsx)(O,{rating:i})]})]}),(0,R.jsx)(c.A,{children:(0,R.jsx)(u.A,{xs:12,children:(0,R.jsx)(D,{rating:i})})})]})},I=(0,o.YK)({edit_rating_title:{id:"rating.form.edit.title",description:"Fieldset legend for editing a rating",defaultMessage:"Comment by {username}"},new_rating_title:{id:"rating.form.create.title",description:"Fieldset legend for creating a new rating",defaultMessage:"Your new rating"},rating_label:{id:"rating.form.rating_label",description:"Rating label",defaultMessage:"Rating"},rating_comment_label:{id:"rating.form.rating_comment_label",description:"Rating label",defaultMessage:"Comments"},rating_comment_placeholder:{id:"rating.form.rating_comment_placeholder",description:"Rating placeholder",defaultMessage:"Leave a comment."},submit:{id:"rating.form.submit",description:"Submit recipe button",defaultMessage:"Comment"}}),P=e=>{let{rating:i,addRating:t,editRating:s,onSubmitSuccess:r,onCancel:l}=e;const a=(0,d.A)(),{formatMessage:o}=a,[g]=(0,n.useState)(null!==i&&void 0!==i?i:{rating:0,comment:""}),p=(0,n.useCallback)((async e=>{if(i){const t={...e,id:i.id};return null===s||void 0===s?void 0:s(t)}return null===t||void 0===t?void 0:t(e)}),[t,null===i||void 0===i?void 0:i.id]);return(0,R.jsx)(j.lV,{initialValues:g,onSubmit:p,subscription:{},render:e=>{let{form:t,handleSubmit:n}=e;return(0,R.jsxs)(x.A,{onSubmit:n,className:v()("rating-form",{create:!i,edit:i}),children:[(0,R.jsx)(S.A,{onSubmitSuccess:r}),(0,R.jsx)(_.A,{form:t,initialValues:g}),i&&(0,R.jsxs)("div",{className:"d-flex",style:{alignItems:"center",justifyContent:"end"},children:[(0,R.jsx)(F,{rating:i}),(0,R.jsx)(O,{rating:i})]}),(0,R.jsxs)("fieldset",{children:[(0,R.jsxs)("legend",{className:"rating-form-heading",children:[!i&&o(I.new_rating_title),i&&o(I.edit_rating_title,{username:i.pub_username})]}),(0,R.jsx)(c.A,{children:(0,R.jsxs)(u.A,{className:"form-group required",children:[(0,R.jsx)("div",{className:"form-label",children:o(I.rating_label)}),(0,R.jsx)(j.D0,{name:"rating",validate:y.yt,validateFields:[],children:e=>(0,R.jsx)(C.A,{stars:e.input.value,onChange:i=>{e.input.onChange(i)}})})]})}),(0,R.jsx)(c.A,{children:(0,R.jsx)(u.A,{children:(0,R.jsx)(A.A,{name:"comment",rows:4,label:o(I.rating_comment_label),placeholder:o(I.rating_comment_placeholder),maxLength:1e3,required:!0})})}),(0,R.jsx)(c.A,{children:(0,R.jsx)(u.A,{xs:12,children:(0,R.jsxs)(T.M,{children:[(0,R.jsx)(j.Pc,{subscription:{values:!0,submitting:!0},children:e=>{let{values:i,submitting:t}=e;return(0,R.jsx)(f.A,{type:"submit",variant:"primary",disabled:!i.rating||!i.comment||t,children:o(I.submit)})}}),(0,R.jsx)(f.A,{variant:"outline-primary",onClick:l,children:a.messages["modal.close"]})]})})})]})]})}})};var q=t(5838);const K=e=>{let{rating:i,onEdit:t,onDelete:r}=e;const{hash:l}=(0,s.zy)(),a=(null!==l&&void 0!==l?l:"").replace("#",""),[o,d]=(0,n.useState)(!1),c=(0,n.useCallback)((()=>{d(!1)}),[]),u=(0,n.useCallback)((()=>{d(!0)}),[]),g=(0,n.useCallback)((()=>null===r||void 0===r?void 0:r(i.id)),[i.id]),p=`rating-${i.id}`;return(0,R.jsxs)("div",{id:p,className:v()("rating-comment",{"perma-link-active":p===a}),children:[(0,R.jsx)(b.A,{uriFragmentId:p}),!o&&(0,R.jsx)(U,{rating:i}),o&&(0,R.jsx)(P,{rating:i,editRating:t,onSubmitSuccess:c,onCancel:c}),!o&&!(0,q.HP)()&&(0,R.jsx)(L,{rating:i,onEdit:t?u:void 0,onDelete:r?g:void 0})]})},H=(0,o.YK)({no_comments:{id:"rating_comments.no_comments",description:"Placeholder for no comments",defaultMessage:"(No comments yet. Be the first!)"}}),G=e=>{var i;let{ratings:t,userId:s,userRole:r,pending:l,editRating:o,removeRating:m}=e;const{formatMessage:v}=(0,d.A)(),b=(0,n.useCallback)((e=>o(e)),[o]),x=(0,n.useCallback)((e=>m(e)),[m]),f=null!=r&&[a.A.STAFF,a.A.ADMIN].includes(r),j=null!==(i=null===t||void 0===t?void 0:t.map((e=>(0,R.jsx)(K,{rating:e,onEdit:e.author===s||f?b:void 0,onDelete:e.author===s||f?x:void 0},e.id))))&&void 0!==i?i:[];return(0,R.jsxs)(R.Fragment,{children:[l===p.F.LOADING&&(0,R.jsx)(h.A,{variant:"three-bounce"}),0===j.length&&(0,R.jsx)(c.A,{children:(0,R.jsx)(u.A,{children:(0,R.jsx)(g.A,{className:"placeholder",children:v(H.no_comments)})})},"be-the-first"),j]})};var Y=t(5718);const B=(0,o.YK)({title:{id:"recipe.comments.title",description:"Comments heading",defaultMessage:"{count, plural, one {# Comment} other {# Comments}}"},new_rating_button:{id:"recipe.comments.new_rating",description:"Label for the new rating button",defaultMessage:"New rating"}}),z=e=>{let{commentsCount:i,userRole:t,showNewRating:n,onShowNewRating:s}=e;const{formatMessage:r}=(0,d.A)();return(0,R.jsx)("div",{className:"ratings-heading",children:(0,R.jsxs)(c.A,{children:[(0,R.jsx)(u.A,{className:"ratings-heading-col",children:(0,R.jsxs)("h2",{id:"ratings-heading",children:[r(B.title,{count:i}),(0,R.jsx)(Y.A,{linkFor:"ratings-heading"})]})}),null!=t&&[a.A.USER,a.A.STAFF,a.A.ADMIN].includes(t)&&(0,R.jsx)(u.A,{xs:"auto",style:n?{visibility:"hidden"}:void 0,children:(0,R.jsx)(f.A,{variant:"primary",onClick:s,children:r(B.new_rating_button)})})]})})},V=e=>{var i;let{ratings:t,userId:s,userRole:r,pending:l,addRating:o,editRating:d,removeRating:c}=e;const[u,g]=(0,n.useState)(!1),p=(0,n.useCallback)((()=>{g(!1)}),[]);return(0,R.jsxs)("article",{className:"rating-panel optiwidth",children:[(0,R.jsx)(z,{commentsCount:null!==(i=null===t||void 0===t?void 0:t.length)&&void 0!==i?i:0,userRole:r,showNewRating:u,onShowNewRating:()=>{g(!0)}}),(0,R.jsxs)("div",{className:"ratings-body",children:[u&&null!=r&&[a.A.USER,a.A.STAFF,a.A.ADMIN].includes(r)&&(0,R.jsx)(P,{addRating:o,editRating:d,onSubmitSuccess:p,onCancel:p}),(0,R.jsx)(G,{ratings:t,pending:l,userId:s,userRole:r,editRating:d,removeRating:c})]})]})};var W=t(1948),Z=t(6746),J=t(6847),Q=t(9140),X=t(8193);var ee=t(4949);const ie=()=>{const e=(0,l.wA)(),i=(0,l.d4)((e=>e.account.item)),t=(0,l.d4)((e=>e.recipe.item)),s=(0,l.d4)((e=>e.ratings)),r=null===t||void 0===t?void 0:t.slug,a=null===t||void 0===t?void 0:t.rating,o=(0,n.useCallback)((async i=>(async(e,i,t)=>(e({...(0,l.OS)(X.ws,J.h.CREATE_START)}),(0,W.Ay)().post(Z.U.ratings).send({recipe:i,rating:t.rating,comment:t.comment}).then((t=>(e({...(0,l.OS)(X.ws,J.h.CREATE_SUCCESS),payload:{recipe:i,rating:(0,X.bt)(t.body)}}),null))).catch((i=>(0,Q.NC)(e,i,X.ZP)))))(e,null!==r&&void 0!==r?r:"",i)),[r]),d=(0,n.useCallback)((async i=>(async(e,i,t)=>(e({...(0,l.OS)(X.ws,J.h.UPDATE_START)}),(0,W.Ay)().patch(`${Z.U.ratings}${t.id}/`).send({rating:t.rating,comment:t.comment}).then((t=>(e({...(0,l.OS)(X.ws,J.h.UPDATE_SUCCESS),payload:{recipe:i,rating:(0,X.bt)(t.body)}}),null))).catch((i=>(0,Q.NC)(e,i,X.ZP)))))(e,null!==r&&void 0!==r?r:"",i)),[r]),c=(0,n.useCallback)((i=>e(((e,i)=>t=>{t({...(0,l.OS)(X.ws,J.h.DELETE_START)}),(0,W.Ay)().delete(`${Z.U.ratings}${i}/`).then((()=>t({...(0,l.OS)(X.ws,J.h.DELETE_SUCCESS),payload:{ratingId:i,recipe:e}}))).catch((e=>t((0,Q.H4)(e,X.ZP))))})(null!==r&&void 0!==r?r:"",i))),[r]);if((0,n.useEffect)((()=>{null!=r&&null!=a&&0!==a&&e((e=>i=>{i({...(0,l.OS)(X.ZP,J.h.GET_START)}),(0,W.Ay)().get(`${Z.U.ratings}?recipe__slug=${e}`).then((t=>i({...(0,l.OS)(X.ZP,J.h.GET_SUCCESS),id:e,payload:J.A.transformEntities(t.body.results,X.bt)}))).catch((e=>i((0,Q.H4)(e,X.ZP))))})(r))}),[r,a]),null==r)return null;const u=null!=r&&null!=s.items?s.items[r]:void 0;return(0,R.jsxs)(ee.A,{verbose:!0,printStack:!0,children:[(0,R.jsx)("hr",{}),(0,R.jsx)(V,{userId:null===i||void 0===i?void 0:i.id,userRole:null===i||void 0===i?void 0:i.role,ratings:u,pending:s.meta.pending,addRating:o,editRating:d,removeRating:c})]})};var te=t(8591),ne=t(941);function se(e){const i={};return e.course&&(i.course__slug=e.course.title),e.cuisine&&(i.cuisine__slug=e.cuisine.title),e.seasons.length>0&&(i.season__slug=e.seasons.map((e=>e.title)).join(",")),Object.keys(i).length>0?i:void 0}const re=e=>{let{recipe:i}=e;const t=(0,d.A)(),n=(0,l.d4)((e=>e.browse.browserMini.meta)),s=(0,l.d4)((e=>e.settings.disableRecipeDiscovery))||(0,q.gw)("REACT_APP_DISABLE_RECIPE_DISCOVERY")||!1;return!n.hasConnection||n.error||s||null===i||void 0===i||!i.author?null:(0,R.jsxs)(ee.A,{verbose:!0,printStack:!0,children:[(0,R.jsx)("hr",{}),(0,R.jsx)("article",{className:"recipe-footer",children:(0,R.jsx)(ne.A,{heading:t.messages["nav.home.recommended_recipes_title"],count:4,filters:se(i)})})]})};var le=t(3306),ae=(t(9104),t(6641)),oe=(t(1523),t(1539)),de=t(825);const ce=(0,o.YK)({ingredients:{id:"recipe.ingredients",description:"Ingredients",defaultMessage:"Ingredients"},ingredients_for_servings:{id:"recipe.ingredients_for_servings",description:"Ingredients for[ n servings]",defaultMessage:"Ingredients for"},servings:{id:"recipe.servings",description:"Servings",defaultMessage:"Servings"},servings_input_tooltip:{id:"recipe.servings_input_tooltip",description:"Accessible tooltip for the (change) servings input",defaultMessage:"Amount of servings"},servings_update_button:{id:"recipe.servings_update_button",description:"Label for the button to change the servings",defaultMessage:"Update servings"}}),ue=e=>{var i,t;let{recipe:s,recipeMeta:r,updateServings:l}=e;const{formatMessage:a}=(0,d.A)(),o=null===s||void 0===s?void 0:s.customServings,c=(0,n.useCallback)((async e=>l(e.servings)),[l]),u=(0,n.useMemo)((()=>({servings:o})),[o]),g=r.pending,h=null!==(i=null===s||void 0===s?void 0:s.customServings)&&void 0!==i?i:0,m=g===p.F.COMPLETED&&null!=(null===s||void 0===s?void 0:s.subrecipes)&&0===s.subrecipes.length&&null!=(null===s||void 0===s?void 0:s.ingredientGroups)&&0===s.ingredientGroups.length;return(0,R.jsxs)(R.Fragment,{children:[(m||0===h)&&(0,R.jsxs)("h2",{id:"ingredients-heading",children:[a(ce.ingredients),(0,R.jsx)(Y.A,{linkFor:"ingredients-heading"})]}),!m&&h>0&&(0,R.jsxs)("div",{className:"ingredients-for-servings-row",children:[(0,R.jsxs)("h2",{id:"ingredients-heading",children:[a(ce.ingredients_for_servings),(0,R.jsx)(Y.A,{linkFor:"ingredients-heading"}),(0,R.jsx)("span",{className:"print-only",children:`: ${null!==(t=null===s||void 0===s?void 0:s.customServings)&&void 0!==t?t:""} ${a(ce.servings)}`})]}),(0,R.jsx)("div",{className:"custom-servings print-hidden",children:(0,R.jsx)(j.lV,{initialValues:u,onSubmit:c,subscription:{},render:e=>{let{form:i,handleSubmit:t}=e;return(0,R.jsxs)(x.A,{onSubmit:t,className:"custom-servings",children:[(0,R.jsx)(_.A,{form:i,initialValues:u}),(0,R.jsx)(A.A,{name:"servings",type:"number","aria-label":a(ce.servings_input_tooltip),min:0,max:1e3,autoComplete:"off"}),(0,R.jsxs)(f.A,{type:"submit",variant:"primary","aria-label":a(ce.servings_update_button),children:[(0,R.jsx)(w.A,{icon:"arrow-repeat",variant:"light"}),a(ce.servings)]})]})}})})]})]})};var ge=t(824),pe=t(8771),he=t(3143),me=t(3591),ve=t(4136),be=t(3930),xe=t(2467),fe=t(6714);function je(e){const i={};return e.forEach((e=>{i[e]=!0})),i}function _e(e){const i={};return e.forEach((e=>{i[e.slug]={...je(e.ingredients.flatMap((e=>`cb-${e.id}`)))}})),i}const Ae=(0,n.forwardRef)(((e,i)=>{let{lists:t,subrecipes:s,ingredients:r,onSubmit:l,onSubmitSuccess:a,onAddList:o,submitRef:d}=e;const g=(0,he.A)(),[p]=(0,n.useState)({list:t.length>0?t[t.length-1].id.toString():void 0,ingredients:_e(r),subrecipes:{...je(s.flatMap((e=>`cb-${e.child_recipe_id}`)))}}),h=(0,n.useCallback)((async e=>{var i;const t=[];Object.keys(e.subrecipes).forEach((i=>{e.subrecipes[i]&&t.push(parseInt(i.substring(i.indexOf("-")+1)))}));const n=[];Object.keys(null!==(i=e.ingredients)&&void 0!==i?i:{}).forEach((i=>{const t=new Set,s=r.find((e=>e.slug===i));if(!s)return void g(`Invalid state: There is not IngredientGroup for slug "${i}"`);const l=e.ingredients[i];Object.keys(l).forEach((e=>{l[e]&&t.add(parseInt(e.substring(e.indexOf("-")+1)))})),Object.keys(l).length>0&&n.push({slug:s.slug,title:s.title,ingredients:Array.from(t)})}));const s={list:parseInt(e.list),ingredients:n,subrecipes:(a=t,Array.from(new Set(a)))};var a;return l(s)}),[r,l]);return(0,R.jsx)(j.lV,{initialValues:p,onSubmit:h,subscription:{},render:e=>{let{form:n,handleSubmit:l}=e;return(0,R.jsxs)(x.A,{onSubmit:l,ref:i,children:[(0,R.jsx)(S.A,{onSubmitSuccess:a}),(0,R.jsx)(_.A,{form:n,initialValues:p}),(0,R.jsx)(Se,{lists:t,form:n,onAddList:o}),t.length>0&&(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)(c.A,{className:"additional-checkbox-row",children:(0,R.jsx)(u.A,{children:(0,R.jsx)(Ce,{name:"toggle-all",form:n})})}),(0,R.jsx)(c.A,{className:"ingredients-and-subrecipes",children:(0,R.jsxs)(u.A,{children:[(0,R.jsx)(oe.A,{subRecipes:s,selectable:!0}),(0,R.jsx)(de.A,{groups:r,hasSubrecipes:null!=s&&s.length>0,selectable:!0})]})})]}),(0,R.jsx)("button",{type:"submit",ref:d,className:"visibility-hidden",children:"Submit"})]})}})})),ye=(0,o.YK)({list:{id:"grocery_list.form.list",defaultMessage:"List"},new_text:{id:"grocery_list.item.new_text",defaultMessage:"Create a new grocery list to get started."},new_list_title:{id:"grocery_list.item.new_title",defaultMessage:"My grocery list"}}),Se=e=>{let{lists:i,form:t,onAddList:s}=e;const r=(0,d.A)(),{formatMessage:l}=r,[a,o]=(0,n.useState)(!1),p=(0,n.useRef)(),h=(0,n.useCallback)((()=>{const e=`${l(ye.new_list_title)}`,t=i.filter((i=>i.title.startsWith(e))).map((i=>parseInt(i.title.substring(e.length)))).filter((e=>!Number.isNaN(e)||e<0)).sort(((e,i)=>e-i)),n=t.length>0?t[t.length-1]+1:1;p.current=i.map((e=>e.id)),s({title:`${e} ${n}`}).then((()=>{o(!0)}))}),[i,s,l]);return(0,n.useEffect)((()=>{if(null==p.current)return;const e=i.map((e=>e.id)).find((e=>{var i;return!(null!==(i=p.current)&&void 0!==i&&i.includes(e))}));e&&(t.change("list",e.toString()),p.current=[])}),[i]),(0,R.jsx)(c.A,{children:(0,R.jsxs)(u.A,{className:"input-with-button",children:[0===i.length&&(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)(g.A,{children:l(ye.new_text)}),(0,R.jsx)(E.A,{id:"add-list-button",type:"button",onClick:h,variant:"primary",className:"add-list-button",children:r.messages["nav.grocery_list_create"]})]}),i.length>0&&(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)(be.A,{name:"list",label:l(ye.list),data:i.map((e=>({value:e.id.toString(),label:e.title}))),readOnly:0===i.length,disabled:0===i.length}),!a&&(0,R.jsx)(E.A,{id:"add-list-button",type:"button",onClick:h,variant:"transparent",className:"add-list-button",tooltip:r.messages["nav.grocery_list_create"],children:(0,R.jsx)(w.A,{icon:"plus-lg",variant:"light",size:"2x"})})]})]})})},Ce=e=>{let{name:i,form:t}=e;const s=(0,d.A)(),[r,l]=(0,n.useState)(!0),a=(0,n.useCallback)(((e,i)=>{l(i);const n=t.getRegisteredFields();[...n.filter((e=>e.startsWith("ingredients.")&&e.includes("cb-"))),...n.filter((e=>e.startsWith("subrecipes.")&&e.includes("cb-")))].forEach((e=>{t.change(e,i)}))}),[t]);return(0,R.jsx)(pe.A,{name:i,label:s.messages["grocery_list.items.toggle_all"],value:r,onChange:a})},ke=e=>{let{show:i,subrecipes:t,ingredients:s,onSaveSuccess:r,onClose:a}=e;const o=(0,d.A)(),c=(0,l.wA)(),u=(0,n.useContext)(xe.A),g=(0,n.useCallback)(((e,i)=>(0,fe.s)(o,u,e,i)),[u,o]),h=(0,n.useCallback)((async(e,i)=>ve.uq(c,e,i,g)),[]),m=(0,n.useCallback)((async e=>ve.vt(c,e)),[]),v=(0,l.d4)((e=>e.groceryLists)),{items:b}=v;(0,n.useEffect)((()=>{(0,q.HP)()||c(me.H())}),[]);const x=(0,l.d4)((e=>e.groceryList.meta.pending)),f=(0,n.useRef)(null),j=(0,n.useCallback)((()=>{var e;null===(e=f.current)||void 0===e||e.click()}),[f.current]),_=(0,n.useCallback)((async e=>{var i;const n=null!==(i=null===s||void 0===s?void 0:s.flatMap((e=>e.ingredients)))&&void 0!==i?i:[],r=null!=t?[...t]:[],l=[];e.ingredients.forEach((e=>{const i=e.ingredients.map((e=>n.find((i=>i.id===e)))).filter(Boolean);e.ingredients.length>0&&l.push({slug:e.slug,title:e.title,ingredients:i})}));const a=r.filter((i=>e.subrecipes.includes(i.child_recipe_id))),o={ingredientGroups:l,subrecipes:a};return h(e.list,o)}),[s,t,h]),A=(0,n.useCallback)((()=>{r(),a()}),[r,a]),y=(0,n.useCallback)((e=>{e||a()}),[a]);return i&&null!=b&&null!=t&&null!=s?(0,R.jsx)(M.A,{show:i,title:o.messages["recipe.recipe_ingredient_button.add_groceries"],onAccept:j,acceptButtonProps:{disabled:0===b.length||x===p.F.SAVING},onClose:y,className:"add-to-grocery-list-modal",children:(0,R.jsx)(Ae,{lists:b,subrecipes:t,ingredients:s,onSubmit:_,onSubmitSuccess:A,onAddList:m,submitRef:f})}):null};var we=t(9593);const Ee=(0,o.YK)({add_groceries:{id:"recipe.recipe_ingredient_button.add_groceries",description:"Add groceries to list",defaultMessage:"Add to grocery list"},add_groceries_success_toast:{id:"recipe.recipe_ingredient_button.success_toast",description:"Add groceries to list success toast",defaultMessage:"Groceries added to the list."}}),Ne=e=>{let{isAuthenticated:i,subrecipes:t,ingredients:s}=e;const{formatMessage:r}=(0,d.A)(),[l,a]=(0,n.useState)(!1),o=(0,n.useCallback)((()=>{a(!0)}),[]),c=(0,n.useCallback)((()=>{a(!1)}),[]),[u,g]=(0,n.useState)(!1),p=(0,n.useCallback)((()=>{g(!0)}),[]),h=(0,n.useCallback)((()=>{g(!1)}),[]);return(0,R.jsxs)("div",{className:"ingredients-footer print-hidden",children:[(0,R.jsx)(ge.A,{condition:!i,render:e=>(0,R.jsx)(k.N_,{to:(0,q.hp)("/login"),children:e}),children:(0,R.jsxs)(f.A,{onClick:o,variant:"primary",disabled:(0,q.HP)(),children:[(0,R.jsx)(w.A,{icon:"clipboard2-check"}),r(Ee.add_groceries)]})}),(0,R.jsx)(ke,{show:l,subrecipes:t,ingredients:s,onClose:c,onSaveSuccess:p}),(0,R.jsx)(we.A,{show:u,variant:"success",anchorOrigin:{horizontal:"center",vertical:"bottom"},onClose:h,children:r(Ee.add_groceries_success_toast)})]})},Me=(0,o.YK)({no_ingredients:{id:"recipe.recipe_ingredient_button.no_ingredients",description:"No ingredients provided message",defaultMessage:"(This recipe has no ingredients.)"}}),Te=e=>{let{recipe:i,recipeMeta:t,userId:n,updateServings:s}=e;const{formatMessage:r}=(0,d.A)(),l=t.pending,a=l===p.F.COMPLETED&&null!=(null===i||void 0===i?void 0:i.subrecipes)&&0===i.subrecipes.length&&null!=(null===i||void 0===i?void 0:i.ingredientGroups)&&0===i.ingredientGroups.length;return(0,R.jsxs)("article",{className:"ingredients-panel",children:[(0,R.jsx)(ue,{recipe:i,recipeMeta:t,updateServings:s}),l===p.F.LOADING&&null==(null===i||void 0===i?void 0:i.ingredientGroups)&&(0,R.jsx)(ae.A,{}),a&&(0,R.jsx)(g.A,{className:"placeholder",children:r(Me.no_ingredients)}),!a&&(0,R.jsxs)(R.Fragment,{children:[(0,R.jsxs)("div",{className:"ingredient-groups",children:[(0,R.jsx)(oe.A,{withHeaderLink:!0,subRecipes:null===i||void 0===i?void 0:i.subrecipes}),(null===i||void 0===i?void 0:i.subrecipes)&&(null===i||void 0===i?void 0:i.subrecipes.length)>0&&(0,R.jsx)("div",{className:"grid-space-subrecipes"}),(0,R.jsx)(de.A,{withHeaderLink:!0,groups:null===i||void 0===i?void 0:i.ingredientGroups,hasSubrecipes:null!=(null===i||void 0===i?void 0:i.subrecipes)&&(null===i||void 0===i?void 0:i.subrecipes.length)>0})]}),(0,R.jsx)(Ne,{subrecipes:null===i||void 0===i?void 0:i.subrecipes,ingredients:null===i||void 0===i?void 0:i.ingredientGroups,isAuthenticated:null!=n})]})]})},Re=e=>{var i;let{recipe:t,recipeMeta:s,userId:r}=e;const a=(0,l.wA)(),[o,d]=(0,k.ok)(),c=null!==(i=null===t||void 0===t?void 0:t.slug)&&void 0!==i?i:"",u=(0,n.useCallback)((e=>(d({...o,servings:String(e)}),a((0,le.B8)(c,e)))),[o,c]),g=(0,n.useMemo)((()=>{const e=o.get("servings");if(!e)return;const i=Number.parseFloat(e);return Number.isNaN(i)?void 0:i}),[o]),p=null===t||void 0===t?void 0:t.customServings;return(0,n.useEffect)((()=>{g&&g!==p&&u(g)}),[u,g,p]),(0,R.jsx)(Te,{recipe:t,recipeMeta:s,userId:r,updateServings:u})};var $e=t(5456),Oe=t(5333),Fe=t(8094),De=t(5284);const Le=(0,n.forwardRef)(((e,i)=>{let{className:t,children:s,...r}=e;const[l,a]=(0,n.useState)(!1),o=(0,n.useCallback)((()=>{a(!0)}),[]),d=(0,n.useCallback)((()=>{a(!1)}),[]);return(0,R.jsxs)(ee.A,{verbose:!1,printStack:!1,children:[(0,R.jsx)(f.A,{type:"button",className:v()("image-viewer",t),onClick:o,variant:"transparent",...r,ref:i,children:s}),(0,R.jsx)(De.A,{show:l,fullscreen:!0,onHide:d,className:"image-viewer-dialog",children:(0,R.jsx)(ee.A,{verbose:!0,printStack:!0,children:(0,R.jsx)(Ue,{onClose:d,children:s})})})]})})),Ue=(0,n.forwardRef)(((e,i)=>{let{onClose:t,children:s,...r}=e,l="";n.Children.forEach(s,(e=>{if(!(0,n.isValidElement)(e))return;const{src:i}=e.props;l=i}));const a=l.includes("/")?l.substring(l.lastIndexOf("/")+1):l;return(0,R.jsxs)(R.Fragment,{children:[(0,R.jsxs)(De.A.Header,{...r,ref:i,children:[(0,R.jsx)(De.A.Title,{children:a}),(0,R.jsx)("a",{title:a,download:a,href:l,className:"btn btn-transparent close-button download-button","aria-label":"Download",children:(0,R.jsx)(w.A,{icon:"download",variant:"light",size:"2x"})}),(0,R.jsx)(M.J,{onClose:t})]}),(0,R.jsx)(De.A.Body,{children:s})]})})),Ie=Le;var Pe=t(1602);const qe=(0,n.createContext)(null),Ke=function(){let{onError:e,onRequest:i,onRelease:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const[s,r]=(0,n.useState)(),l=(0,n.useRef)(null),a="undefined"!==typeof window&&"wakeLock"in navigator,o=(0,n.useCallback)((async function(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"screen";const s=null!=l.current;if(a)if(s)console.warn('Calling "request" multiple times without "release" has no effect.');else try{var o;l.current=await navigator.wakeLock.request(n),l.current.onrelease=e=>{var i;r(null===(i=l.current&&l.current.released)||void 0===i||i),t&&t(e),l.current=null},null===i||void 0===i||i(),r(null!==(o=l.current&&l.current.released)&&void 0!==o&&o)}catch(d){e?e(d):console.error(null===d||void 0===d?void 0:d.message)}else console.warn('Calling the "request" function has no effect, Wake Lock Screen API isn\'t supported.')}),[a,i,e,t]),d=(0,n.useCallback)((async()=>{const e=null==l.current;a?e?console.warn("Calling `release` before `request` has no effect."):l.current&&await l.current.release():console.warn('Calling the "release" function has no effect, Wake Lock Screen API isn\'t supported.')}),[a]);return{isSupported:a,request:o,released:s,release:d,type:l.current&&l.current.type||void 0}},He=(0,o.YK)({activate_cooking_mode_tooltip:{id:"recipe.activate_cooking_mode_tooltip",description:"Tooltip displayed when hovering the activate cooking mode button",defaultMessage:"Keep display awake"},deactivate_cooking_mode_tooltip:{id:"recipe.deactivate_cooking_mode_tooltip",description:"Tooltip displayed when hovering the deactivate cooking mode button",defaultMessage:"Release the display wake lock"}}),Ge=()=>{var e;const{formatMessage:i}=(0,d.A)(),{isSupported:t}=Ke(),s=(0,n.useContext)(qe),r=null!==(e=null===s||void 0===s?void 0:s.cookingMode)&&void 0!==e&&e,l=(0,n.useCallback)((()=>{null===s||void 0===s||s.setCookingMode(!r)}),[null===s||void 0===s?void 0:s.setCookingMode,r]);return t?(0,R.jsx)(E.A,{id:"cooking-mode-toggle",variant:r?"primary":"outline-primary",onClick:l,tooltip:i(r?He.deactivate_cooking_mode_tooltip:He.activate_cooking_mode_tooltip),children:(0,R.jsx)(w.A,{icon:r?"brightness-alt-high-fill":"brightness-alt-high",variant:"light",size:"2x"})}):null},Ye=(0,o.YK)({edited_by:{id:"recipe.edited_by",description:"The recipe was edited by ...",defaultMessage:"Edited by"}}),Be=e=>{let{recipe:i}=e;const{formatMessage:t,locale:n}=(0,d.A)();if(i.update_date&&new Date(i.update_date).getTime()>0&&i.update_username){const e=`${t(Ye.edited_by)}: ${i.update_username}`,s=new Date(i.update_date).toLocaleString(n),r=(0,R.jsxs)("div",{className:"d-flex-column",children:[(0,R.jsx)("div",{children:e}),(0,R.jsx)("div",{children:s})]});return(0,R.jsx)(N.A,{id:`${i.id}-editor-tooltip`,tooltip:r,children:(0,R.jsx)(w.A,{icon:"pencil",size:"1x",style:{marginLeft:"5px",marginRight:0},ariaLabel:`${t(Ye.edited_by)}: ${i.update_username}. ${s}`})})}return null},ze=e=>{let{recipe:i}=e;const{locale:t}=(0,d.A)();return i.update_date&&new Date(i.update_date).getTime()>0&&i.update_username===i.pub_username?(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)(w.A,{icon:"calendar"}),new Date(i.update_date).toLocaleDateString(t)]}):(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)(w.A,{icon:"calendar"}),new Date(i.pub_date).toLocaleDateString(t)]})},Ve=(0,o.YK)({edit_tooltip:{id:"recipe.edit_tooltip",description:"Tooltip displayed when hovering the edit recipe icon button",defaultMessage:"Edit this recipe"},delete_tooltip:{id:"recipe.delete_tooltip",description:"Tooltip displayed when hovering the delete recipe icon button",defaultMessage:"Delete this recipe"},print_tooltip:{id:"recipe.print_tooltip",description:"Tooltip displayed when hovering the print icon button",defaultMessage:"Print this recipe"},add_to_menu_tooltip:{id:"recipe.add_to_menu_tooltip",description:"Tooltip displayed when hovering the add-recipe-to-menu button",defaultMessage:"Add recipe to menu"},recipe_comments:{id:"recipe.comments",description:"Button to comments",defaultMessage:"Comments"},prep_time:{id:"recipe.prep_time",description:"Preparation time",defaultMessage:"Prep time"},cooking_time:{id:"recipe.cooking_time",description:"Cooking time",defaultMessage:"Cooking time"},minutes:{id:"recipe.minutes",description:"minutes",defaultMessage:"{count, plural, one {# minute} other {# minutes}}"},source:{id:"recipe.source",description:"Source of the recipe",defaultMessage:"Source"},created_by:{id:"recipe.created_by",description:"Created by",defaultMessage:"Created by"},last_updated:{id:"recipe.last_updated",description:"Last Updated",defaultMessage:"Last Updated"},confirm_delete_title:{id:"recipe.confirm_delete_title",description:"Confirm deletion - dialog title",defaultMessage:"Confirm deletion"},confirm_delete_message:{id:"recipe.confirm_delete",description:"Are you sure you want to delete this recipe?",defaultMessage:"Are you sure you want to delete this recipe?"},confirm_delete_accept:{id:"recipe.confirm_delete_accept",description:"Confirm deletion - Accept button title",defaultMessage:"Delete"}}),We=e=>{var i,t,s,r,l;let{recipe:a,editable:o,onEditRecipe:p,deleteRecipe:h,onAddToMenuClick:m}=e;const b=(0,d.A)(),{formatMessage:x}=b,f=(0,n.useCallback)((()=>{p()}),[p]),[j,_]=(0,n.useState)(!1),A=(0,n.useCallback)((()=>{_(!0)}),[]),y=(0,n.useCallback)((()=>{h()}),[h]),S=(0,n.useCallback)((()=>{_(!1)}),[]),k=o?(0,R.jsx)(Pe.A,{id:"edit-recipe-button",variant:"outline-primary",tooltip:x(Ve.edit_tooltip),to:(0,q.hp)(`/recipe/edit/${null===a||void 0===a?void 0:a.slug}`),onClick:f,children:(0,R.jsx)(w.A,{icon:"pencil"})}):null,N=o?(0,R.jsx)(E.A,{id:"trash-recipe-button",variant:"outline-danger",onClick:A,tooltip:x(Ve.delete_tooltip),children:(0,R.jsx)(w.A,{icon:"trash"})}):null,$=(0,n.useMemo)((()=>{if(null!==a&&void 0!==a&&a.source){let e="";if(null!==a&&void 0!==a&&a.source&&a.source.match(/(http(s)?:\/\/.)?(www\.)?[-a-zA-Z0-9@:%._+~#=]{2,256}\.[a-z]{2,6}\b([-a-zA-Z0-9@:%_+.~#?&//=]*)/g)){const i=document.createElement("a");i.href=a.source,e=i.hostname}return(0,R.jsxs)("div",{className:"source-wrapper",children:[`${x(Ve.source)}: `,e.length>0&&(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)("a",{href:a.source,target:"_blank",rel:"noreferrer",className:"print-hidden",children:e}),(0,R.jsx)("a",{href:a.source,target:"_blank",rel:"noreferrer",className:"print-only",children:a.source})]}),0===e.length&&a.source]})}return null}),[null===a||void 0===a?void 0:a.source,b.locale]),O=(0,R.jsx)(E.A,{id:"print-recipe-button",variant:"outline-primary",onClick:window.print,tooltip:x(Ve.print_tooltip),children:(0,R.jsx)(w.A,{icon:"printer"})}),F=(0,R.jsx)(E.A,{id:"add-to-menu",variant:"outline-primary",tooltip:x(Ve.add_to_menu_tooltip),onClick:m,disabled:(0,q.HP)(),children:(0,R.jsx)(w.A,{icon:"calendar-plus"})}),D=(0,R.jsx)("div",{className:"options print-hidden",children:(0,R.jsxs)(T.M,{position:"end",children:[o&&(0,R.jsxs)(R.Fragment,{children:[k,N]}),F,(0,R.jsx)(Ge,{}),O]})}),L=null!=a?(0,R.jsxs)(R.Fragment,{children:[(0,R.jsxs)("div",{className:"recipe-header-chips",children:[null!=a.prepTime&&a.prepTime>0&&(0,R.jsxs)($e.A,{color:"secondary",children:[(0,R.jsx)(w.A,{icon:"clock"}),`${x(Ve.prep_time)}: `,` ${x(Ve.minutes,{count:a.prepTime})}`]}),null!=a.cookTime&&a.cookTime>0&&(0,R.jsxs)($e.A,{color:"secondary",children:[(0,R.jsx)(w.A,{icon:"clock"}),`${x(Ve.cooking_time)}: `,` ${x(Ve.minutes,{count:a.cookTime})}`]}),null!=(null===(i=a.course)||void 0===i?void 0:i.title)&&a.course.title.length>0&&(0,R.jsxs)($e.A,{color:"secondary",children:[(0,R.jsx)(w.A,{icon:"grid"}),(0,q.yW)(b,"course.",a.course.title)]}),null!=(null===(t=a.cuisine)||void 0===t?void 0:t.title)&&a.cuisine.title.length>0&&(0,R.jsxs)($e.A,{color:"secondary",children:[(0,R.jsx)(w.A,{icon:"globe",variant:"light"}),(0,q.yW)(b,"cuisine.",a.cuisine.title)]}),a.seasons.length>0&&(0,R.jsxs)($e.A,{color:"secondary",children:[(0,R.jsx)(w.A,{icon:"basket3"}),a.seasons.map((e=>(0,q.yW)(b,"season.",e.title))).join(", ")]}),a.tags.map((e=>(0,R.jsx)($e.A,{color:"secondary",children:(0,q.yW)(b,"tag.",e.title)},String(e.title))))]}),(0,R.jsxs)("div",{className:"recipe-header-chips",children:[(0,R.jsxs)($e.A,{color:"secondary",children:[(0,R.jsx)(ze,{recipe:a}),(0,R.jsx)(Be,{recipe:a})]}),(0,R.jsxs)($e.A,{color:"secondary",children:[(0,R.jsx)(w.A,{icon:"person"}),null!==(s=null===a||void 0===a?void 0:a.pub_username)&&void 0!==s?s:""]})]})]}):null;return(0,R.jsxs)(R.Fragment,{children:[(0,R.jsxs)("article",{className:v()("recipe-header",{"with-image":null!=a&&a.photo}),children:[(0,R.jsx)("h1",{className:"d-block d-xl-none",children:null===a||void 0===a?void 0:a.title}),(0,R.jsxs)(c.A,{className:"flex-row-reverse justify-content-center",children:[null!=a&&a.photo&&(0,R.jsxs)(R.Fragment,{children:[(0,R.jsxs)(u.A,{xl:6,lg:12,className:"img-wrapper print-hidden",children:[(0,R.jsx)(Oe.A,{height:66.67,width:100,children:(0,R.jsx)(Ie,{children:(0,R.jsx)(Fe.A,{src:a.photo,alt:"",className:"img-responsive print-hidden"})})}),D]}),(0,R.jsx)(u.A,{sm:7,xs:12,className:"col-sm-push-5 print-only",children:(0,R.jsx)(Oe.A,{height:66.67,width:100,className:"print-only print-image",children:(0,R.jsx)(Ie,{children:(0,R.jsx)(Fe.A,{src:null!==(r=a.photoThumbnail)&&void 0!==r?r:a.photo,alt:""})})})})]}),null!=a&&!a.photo&&D,(0,R.jsxs)(u.A,{xl:6,lg:12,className:"info-wrapper optiwidth",children:[(0,R.jsx)("h1",{className:"d-none d-xl-block",children:null===a||void 0===a?void 0:a.title}),(0,R.jsx)(g.A,{className:"recipe-info",children:null===a||void 0===a?void 0:a.info}),(0,R.jsx)(C.A,{stars:null!==(l=null===a||void 0===a?void 0:a.rating)&&void 0!==l?l:0,showCount:!1}),L,$]})]})]}),(0,R.jsx)("hr",{className:"recipe-header-hr"}),(0,R.jsx)(M.A,{show:j,title:x(Ve.confirm_delete_title),acceptTitle:x(Ve.confirm_delete_accept),acceptButtonProps:{variant:"danger"},onAccept:y,onClose:S,className:"delete",children:x(Ve.confirm_delete_message)})]})};t(6296);var Ze=t(8938);const Je=(0,o.YK)({directions:{id:"recipe.directions",description:"Directions",defaultMessage:"Directions"},no_directions:{id:"recipe.directions.no_directions",description:"No directions provided message",defaultMessage:"(This recipe has no directions.)"}}),Qe=e=>{let{directions:i,recipeMeta:t,ingredients:n}=e;const{formatMessage:s}=(0,d.A)(),r=t.pending,l=r===p.F.COMPLETED&&i.trim().length<=1,a=i.includes(":\n");return(0,R.jsxs)("article",{className:v()("directions-panel","optiwidth",{"multi-directions":a}),children:[(0,R.jsxs)("h2",{id:"directions-heading",children:[s(Je.directions),(0,R.jsx)(Y.A,{linkFor:"directions-heading"})]}),r===p.F.LOADING&&""===i&&(0,R.jsx)(ae.A,{}),l&&(0,R.jsx)(g.A,{className:"placeholder",children:s(Je.no_directions)}),!l&&(0,R.jsx)("div",{className:"direction-groups",children:(0,R.jsx)(Ze.A,{directions:i,ingredients:n})})]})},Xe=e=>{var i,t;let{recipe:n,recipeMeta:s,userId:r,editable:l,onEditRecipe:a,deleteRecipe:o,onAddToMenuClick:d}=e;return(0,R.jsxs)("div",{className:v()("recipe-details",{"with-image":null!=n&&n.photo}),children:[(0,R.jsx)(We,{recipe:n,editable:l,onEditRecipe:a,onAddToMenuClick:d,deleteRecipe:o}),(0,R.jsxs)(c.A,{children:[(0,R.jsx)(u.A,{xl:4,lg:12,children:(0,R.jsx)(Re,{recipe:n,recipeMeta:s,userId:r})}),(0,R.jsx)("hr",{className:"d-block d-xl-none"}),(0,R.jsx)(u.A,{xl:8,lg:12,children:(0,R.jsx)(Qe,{directions:null!==(i=null===n||void 0===n?void 0:n.directions)&&void 0!==i?i:"",recipeMeta:s,ingredients:null!==(t=null===n||void 0===n?void 0:n.ingredientGroups)&&void 0!==t?t:[]})})]})]})};var ei=t(3441);const ii=e=>{let{children:i}=e;const[t,s]=(0,n.useState)(!1),r=(0,n.useCallback)((e=>{s(e)}),[]),l=(0,n.useMemo)((()=>({cookingMode:t,setCookingMode:r})),[t]);return(0,R.jsx)(qe.Provider,{value:l,children:i})};var ti=t(3874);const ni=(0,o.YK)({activated_cooking_mode_toast:{id:"recipe.activated_cooking_mode_toast",description:"Toast displayed when activating the cooking mode button",defaultMessage:"Your display will stay awake now.\nHappy cooking!"},still_cooking_modal_title:{id:"recipe.still_cooking_modal_title",description:"Title of the modal to ask to continue keeping the display awake.",defaultMessage:"Still cooking?"},still_cooking_modal_text:{id:"recipe.still_cooking_modal_text",description:"Body text of the modal to ask to continue keeping the display awake.",defaultMessage:"Do you want to continue keeping the display awake?"},still_cooking_modal_yes:{id:"recipe.still_cooking_modal_yes",description:"Yes button.",defaultMessage:"Yes"},still_cooking_modal_no:{id:"recipe.still_cooking_modal_no",description:"no button.",defaultMessage:"No"}}),si=()=>{var e;const{formatMessage:i}=(0,d.A)(),t=(0,n.useContext)(qe),s=null!==(e=null===t||void 0===t?void 0:t.cookingMode)&&void 0!==e&&e;let r;const[l,a]=(0,n.useState)(!1),[o,c]=(0,n.useState)(!1),{isSupported:u,request:g,release:p,released:h}=Ke(),m=(0,ti.A)();(0,n.useEffect)((()=>{u&&s&&(m?g():!1===h&&p())}),[m]),(0,n.useEffect)((()=>{s?u&&g().then((()=>{v(),setTimeout((()=>{a(!0)}),1)})):(b(),!1===h&&p())}),[s]),(0,n.useEffect)((()=>()=>{b(!1),!1===h&&p()}),[]);const v=()=>{b(),r=setTimeout((()=>{p(),c(!0)}),18e5)},b=function(){(!(arguments.length>0&&void 0!==arguments[0])||arguments[0])&&(a(!1),c(!1)),null!=r&&(clearTimeout(r),r=void 0)},x=(0,n.useCallback)((()=>{g().then((()=>{v()}))}),[g,v]),f=(0,n.useCallback)((e=>{e||null===t||void 0===t||t.setCookingMode(!1)}),[null===t||void 0===t?void 0:t.setCookingMode]);return(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)(we.A,{show:s&&l,autoHide:1e4,anchorOrigin:{horizontal:"center",vertical:"bottom"},onClose:()=>{a(!1)},children:i(ni.activated_cooking_mode_toast)}),(0,R.jsx)(M.A,{show:o,title:i(ni.still_cooking_modal_title),acceptTitle:i(ni.still_cooking_modal_yes),closeTitle:i(ni.still_cooking_modal_no),onAccept:x,onClose:f,children:i(ni.still_cooking_modal_text)})]})};var ri=t(7062),li=t(4764);const ai=()=>{const e=(0,l.wA)(),i=(0,s.Zp)(),t=(0,he.A)(),r=(0,l.d4)((e=>{var i;return null===(i=e.account.item)||void 0===i?void 0:i.id})),o=(0,l.d4)((e=>{var i;return null===(i=e.account.item)||void 0===i?void 0:i.role})),d=(0,l.d4)((e=>e.recipe)),c=d.item,u=d.meta,g=(0,n.useRef)(),[p,h]=(0,n.useState)(!1),m=(0,n.useCallback)((()=>{null!=c?e(ei.uv(c)):t("Invalid state: recipe may not be null")}),[c]),v=(0,n.useCallback)((()=>{null!=c?(h(!0),e(le.cX(c.id,c.slug))):t("Invalid state: recipe may not be null")}),[c]);(0,n.useEffect)((()=>{null==g.current?g.current=c:p&&null!=g.current&&null==c&&i((0,q.hp)("/browser"))}),[c]);const[b,x]=(0,n.useState)(!1),f=(0,n.useCallback)((()=>{x(!0)}),[]),j=(0,n.useCallback)((()=>{x(!1)}),[]),[_,A]=(0,n.useState)(!1),y=(0,n.useCallback)((()=>{A(!0)}),[]),S=(0,n.useCallback)((()=>{A(!1)}),[]);return null!=c?(0,R.jsxs)(ii,{children:[(0,R.jsx)(Xe,{recipe:c,recipeMeta:u,userId:r,editable:c.author===r||o===a.A.STAFF||o===a.A.ADMIN,onEditRecipe:m,deleteRecipe:v,onAddToMenuClick:f}),(0,R.jsx)(si,{}),(0,R.jsx)(ri.A,{show:b,recipe:c,recipeReadonly:!0,onSaveSuccess:y,onClose:j}),(0,R.jsx)(li.A,{show:_,created:!0,onClose:S})]}):(0,R.jsx)(ae.A,{message:"Loading"})},oi=()=>{var e,i,t,a;const o=(0,s.g)(),d=(0,s.Zp)(),c=(0,l.wA)(),u=(0,l.d4)((e=>e.recipe)),g=u.meta,h=o.recipe;(0,n.useEffect)((()=>{h&&c(le.Hh(h))}),[h]),(0,n.useEffect)((()=>{404===r.A(g.error,"status")&&d((0,q.sF)("/NotFound"))}),[g.error]),(0,n.useEffect)((()=>()=>{c(le.cL())}),[]);const m=(0,n.useMemo)((()=>(0,R.jsx)(ie,{})),[null===(e=u.item)||void 0===e?void 0:e.id,u.meta.pending]),v=(0,n.useMemo)((()=>(0,R.jsx)(re,{recipe:u.item})),[null===(i=u.item)||void 0===i?void 0:i.id,null===(t=u.item)||void 0===t?void 0:t.author]);return(0,R.jsxs)(te.A,{title:null===(a=u.item)||void 0===a?void 0:a.title,children:[(0,R.jsx)(ai,{}),u.meta.pending===p.F.COMPLETED&&m,u.meta.pending===p.F.COMPLETED&&v]})}},3441:(e,i,t)=>{t.d(i,{Hh:()=>g,Rq:()=>b,UN:()=>m,cL:()=>h,uv:()=>p});var n=t(1948),s=t(6746),r=t(6847),l=t(5386),a=t(9140),o=t(7473),d=t(7041),c=t(3306),u=t(1303);const g=e=>i=>{i({...(0,l.OS)(u.O,r.h.GET_START)}),(0,n.Ay)().get(`${s.U.recipe}${e}/`).then((e=>{const t=(0,o.sE)(e.body);i({...(0,l.OS)(u.O,r.h.GET_SUCCESS),payload:t}),i((0,c.uC)(t))})).catch((e=>i((0,a.H4)(e,u.O))))},p=e=>i=>{i({...(0,l.OS)(u.O,r.h.PRELOAD),payload:e})},h=()=>e=>{e({...(0,l.OS)(u.O,r.h.RESET)})},m=async(e,i)=>{const t="object"===typeof i.photo?i.photo:void 0,d=!i.id,g=d?(0,n.Ay)().post(s.U.recipe):(0,n.Ay)().patch(`${s.U.recipe}${i.slug}/`);e({...(0,l.OS)(u.O,d?r.h.CREATE_START:r.h.UPDATE_START)});const p=(0,o.Xc)(i);return g.send(p).then((g=>{if(t)return(0,n.Ay)().patch(`${s.U.recipe}${g.body.slug}/`).attach("photo",t).then((t=>{const n=(0,o.sE)(t.body);e({...(0,l.OS)(u.O,d?r.h.CREATE_SUCCESS:r.h.UPDATE_SUCCESS),oldId:i.id,payload:n}),e((0,c.uC)(n))})).catch((i=>(0,a.NC)(e,i,u.O)));{const t=(0,o.sE)(g.body);e({...(0,l.OS)(u.O,d?r.h.CREATE_SUCCESS:r.h.UPDATE_SUCCESS),oldId:d?null:i.id,payload:t}),e((0,c.uC)(t))}return e(v(i,(0,o.sE)(g.body))),null})).catch((i=>(0,a.NC)(e,i,u.O)))},v=(e,i)=>t=>{var n,s,a,o,c,u,g,p;(null===(n=e.course)||void 0===n?void 0:n.id)!==(null===(s=i.course)||void 0===s?void 0:s.id)&&t({...(0,l.OS)(d.Hq,r.h.RESET)}),(null===(a=e.cuisine)||void 0===a?void 0:a.id)!==(null===(o=i.cuisine)||void 0===o?void 0:o.id)&&t({...(0,l.OS)(d.Ev,r.h.RESET)}),(null===(c=e.seasons)||void 0===c?void 0:c.map((e=>e.id)).join("/"))!==(null===(u=i.seasons)||void 0===u?void 0:u.map((e=>e.id)).join("/"))&&t({...(0,l.OS)(d.lb,r.h.RESET)}),(null===(g=e.tags)||void 0===g?void 0:g.map((e=>e.id)).join("/"))!==(null===(p=i.tags)||void 0===p?void 0:p.map((e=>e.id)).join("/"))&&t({...(0,l.OS)(d.EE,r.h.RESET)})},b=e=>(0,n.Ay)().get(`${s.U.recipe}?fields=id,title,slug&limit=5&search=${e}`).then((e=>e.body.results.map((e=>({key:e.slug,name:e.slug,char:e.title}))))).catch((()=>[]))},4196:(e,i,t)=>{t.d(i,{A:()=>o});var n=t(8139),s=t.n(n),r=t(5043),l=t(7852),a=t(579);const o=r.forwardRef(((e,i)=>{let{bsPrefix:t,className:n,striped:r,bordered:o,borderless:d,hover:c,size:u,variant:g,responsive:p,...h}=e;const m=(0,l.oU)(t,"table"),v=s()(n,m,g&&`${m}-${g}`,u&&`${m}-${u}`,r&&`${m}-${"string"===typeof r?`striped-${r}`:"striped"}`,o&&`${m}-bordered`,d&&`${m}-borderless`,c&&`${m}-hover`),b=(0,a.jsx)("table",{...h,className:v,ref:i});if(p){let e=`${m}-responsive`;return"string"===typeof p&&(e=`${e}-${p}`),(0,a.jsx)("div",{className:e,children:b})}return b}))},1840:()=>{},6296:()=>{},1523:()=>{},9104:()=>{}}]);
//# sourceMappingURL=121.816b1f54.chunk.js.map