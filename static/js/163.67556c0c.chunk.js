"use strict";(self.webpackChunkownrecipes_web=self.webpackChunkownrecipes_web||[]).push([[163],{1728:function(e,t,n){var r=n(1413),i=n(557),o=n(2791),s=n(3360),l=(n(2467),n(9276)),a=n(4858),c=n(184),u=["id","tooltip","tooltipPlacement","children"],d=(0,o.forwardRef)((function(e,t){var n=e.id,o=e.tooltip,d=e.tooltipPlacement,f=e.children,m=(0,i.Z)(e,u);return(0,c.jsx)(l.Z,{condition:Boolean(o),render:function(e){return(0,c.jsx)(a.Z,{id:"".concat(n,"-tooltip"),tooltip:o,placement:d,children:e})},children:(0,c.jsx)(s.Z,(0,r.Z)((0,r.Z)({id:n,"aria-label":o||void 0,"aria-describedby":void 0},m),{},{ref:t,children:f}))})}));t.Z=d},6569:function(e,t,n){n.d(t,{Z:function(){return g}});var r=n(1413),i=n(557),o=n(5671),s=n(3144),l=n(136),a=n(2269),c=n(2791),u=n(9795),d=n(6944),f=n(4858),m=n(9276),p=n(78),h=n(184),v=["value","onChange","name","style","tooltip","label","className","helpText","errors","meta"],g=function(e){(0,l.Z)(n,e);var t=(0,a.Z)(n);function n(){var e;(0,o.Z)(this,n);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return(e=t.call.apply(t,[this].concat(i))).ref=(0,c.createRef)(),e.handleChange=function(){var t,n;e.props.readOnly||e.props.disabled||null===(t=(n=e.props).onChange)||void 0===t||t.call(n,e.props.name,!e.props.value)},e}return(0,s.Z)(n,[{key:"focus",value:function(){return!(null==this.ref||!this.ref.current)&&(this.ref.current.focus(),!0)}},{key:"getLabel",value:function(){return null==this.props.label?null:this.props.tooltip?(0,h.jsxs)(h.Fragment,{children:[this.props.label,"\xa0",(0,h.jsx)(p.Z,{icon:"info-circle",className:"tooltip-icon"})]}):this.props.label}},{key:"render",value:function(){var e=this.props,t=e.value,n=(e.onChange,e.name),o=e.style,s=e.tooltip,l=(e.label,e.className,e.helpText,e.errors,e.meta,(0,i.Z)(e,v));return(0,h.jsx)(u.Z.Group,(0,r.Z)((0,r.Z)({},this.getGroupProps()),{},{controlId:n,className:this.getFormGroupClassNames(),style:o,children:(0,h.jsxs)(m.Z,{condition:null!=s,render:function(e){return(0,h.jsx)(f.Z,{id:"".concat(n,"-tooltip"),tooltip:s,children:e})},children:[this.getHelpText(),this.getErrorMessage(),(0,h.jsx)(u.Z.Check,(0,r.Z)((0,r.Z)({name:n,checked:t,label:this.getLabel(),className:"form-check",onChange:this.handleChange},l),{},{ref:this.ref}))]})}))}}]),n}(d.Z)},4138:function(e,t,n){n.d(t,{h:function(){return Z}});var r=n(1413),i=n(557),o=n(2791),s=n(6221),l=n(3539),a=n(3360),c=n(5316),u=n(1694),d=n.n(u),f=(n(7493),n(78)),m=n(2605),p=n(184),h=["onClose","className"],v=["show","title","acceptTitle","closeTitle","onAccept","onClose","noCloseButton","size","acceptButtonProps","children"],g=(0,s.vU)({accept:{id:"modal.accept",description:"Default modal accept button",defaultMessage:"Accept"},close:{id:"modal.close",description:"Default modal close button",defaultMessage:"Close"}}),Z=(0,o.forwardRef)((function(e,t){var n=e.onClose,o=e.className,s=(0,i.Z)(e,h),c=(0,l.Z)().formatMessage;return(0,p.jsx)(a.Z,(0,r.Z)((0,r.Z)({type:"button",onClick:n,variant:"transparent",className:d()("close-button",o),"aria-label":c(g.close)},s),{},{ref:t,children:(0,p.jsx)(f.Z,{icon:"x",variant:"light",size:"2x"})}))})),b=(0,o.forwardRef)((function(e,t){var n=e.show,s=e.title,u=e.acceptTitle,d=e.closeTitle,f=e.onAccept,h=e.onClose,b=e.noCloseButton,_=e.size,y=void 0===_?"lg":_,x=e.acceptButtonProps,C=e.children,j=(0,i.Z)(e,v),w=(0,l.Z)().formatMessage,T=(0,o.useCallback)((function(){null===h||void 0===h||h(!1)}),[h]),E=(0,o.useCallback)((function(){null===h||void 0===h||h(!0),null===f||void 0===f||f()}),[h,f]),k=null!=f||null!=h&&!b;return(0,p.jsxs)(c.Z,(0,r.Z)((0,r.Z)({show:n,backdrop:"static",size:y,centered:!0,onHide:T,keyboard:!1},j),{},{ref:t,children:[(0,p.jsxs)(c.Z.Header,{children:[(0,p.jsx)(c.Z.Title,{children:s}),null!=h&&(0,p.jsx)(Z,{onClose:T})]}),(0,p.jsx)(c.Z.Body,{children:(0,p.jsx)(m.Z,{verbose:!0,printStack:!0,children:C})}),k&&(0,p.jsxs)(c.Z.Footer,{children:[null!=h&&!b&&(0,p.jsx)(a.Z,{variant:"outline-primary",onClick:T,children:null!==d&&void 0!==d?d:w(g.close)}),null!=f&&(0,p.jsx)(a.Z,(0,r.Z)((0,r.Z)({variant:"primary",onClick:E},x),{},{children:null!==u&&void 0!==u?u:w(g.accept)}))]})]}))}));t.Z=b},1104:function(e,t,n){var r=n(1413),i=n(557),o=n(2791),s=n(3360),l=n(3504),a=n(9276),c=n(4858),u=n(184),d=["id","to","tooltip","children"],f=(0,o.forwardRef)((function(e,t){var n=e.id,o=e.to,f=e.tooltip,m=e.children,p=(0,i.Z)(e,d);return(0,u.jsx)(a.Z,{condition:Boolean(f),render:function(e){return(0,u.jsx)(c.Z,{id:"".concat(n,"-tooltip"),tooltip:f,children:e})},children:(0,u.jsx)(s.Z,(0,r.Z)((0,r.Z)({type:"button",as:l.rU,to:o,"aria-label":f},p),{},{ref:t,children:m}))})}));t.Z=f},3976:function(e,t,n){var r=n(2791),i=n(7022),o=n(6871),s=n(5694),l=n(1884),a=n(2605),c=n(184);function u(e){var t,n,r=e.startsWith(null!==(t=(0,l.dU)("PUBLIC_URL"))&&void 0!==t?t:"")?e.substring((null!==(n=(0,l.dU)("PUBLIC_URL"))&&void 0!==n?n:"").length):e,i=r.startsWith("/"),o=r.endsWith("/");return r.substring(i?1:0,o?r.length-1:void 0)}t.Z=function(e){var t=e.title,n=e.id,d=e.state,f=e.children,m=(0,o.s0)(),p=(0,o.TH)(),h=null===d||void 0===d?void 0:d.meta.error,v=(0,r.useContext)(s.Z);return(0,r.useEffect)((function(){document.title="".concat(null!=t&&t.length>0?"".concat(t," | "):"","OwnRecipes")}),[t]),(0,r.useEffect)((function(){if(h&&null==n){var e=(0,l.qC)("/NotFound");m(e)}}),[n,h]),(0,c.jsx)(i.Z,{id:"main-container",as:"main",className:u(p.pathname),style:{marginTop:"".concat(v.toolbarHeight,"px")},children:(0,c.jsx)(a.Z,{verbose:!0,printStack:!0,children:f})})}},2265:function(e,t,n){n.d(t,{Z:function(){return j}});var r=n(3720),i=n(885),o=n(2982),s=n(2791),l=n(6221),a=n(3539),c=n(4774),u=n(7480),d=n(1413),f=n(6871);function m(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=(0,s.useContext)(f.Us).navigator;(0,s.useEffect)((function(){if(t){var r=n.block((function(t){var n=(0,d.Z)((0,d.Z)({},t),{},{retry:function(){r(),t.retry()}});e(n)}));return r}}),[n,e,t])}((0,s.useCallback)((function(t){window.confirm(e)&&t.retry()}),[e]),t)}var p=n(184),h=(0,l.vU)({navigation_warning:{id:"navigationprompt.warning",description:"Prompt displayed when navigating on a dirty page (unsaved changes).",defaultMessage:"You have unsaved changed. If you continue, those change may be lost."}}),v=function(e){var t=e.isDirty,n=(0,a.Z)().formatMessage,r=(0,s.useMemo)((function(){return n(h.navigation_warning)}),[n]),i=m(r,t);return(0,p.jsxs)(p.Fragment,{children:[t&&(0,p.jsx)(u.S,{onBeforeunload:function(){return r}}),i]})},g=n(1127),Z=n(3847),b=(0,l.vU)({form_errors_title:{id:"status.form_errors_title",description:"Title for the form error box.",defaultMessage:"The form contains an error."},form_errors_alert:{id:"status.form_errors_alert",description:"Alert text for the form error box.",defaultMessage:"Please fix the described error(s) and continue."},form_errors_table_heading_error:{id:"status.form_errors_table_heading_error",description:"The form-errors will be displayed as table, with an error column. This is the column's title.",defaultMessage:"Error"},form_errors_table_heading_message:{id:"status.form_errors_table_heading_message",description:"The form-errors will be displayed as table, with a message column. This is the column's title.",defaultMessage:"Message"},save_success:{id:"status.save_success",description:"Toast for successfully saved form.",defaultMessage:"Changes saved."}}),_=function(e){var t,n,r=e.name,i=e.err,s=null!==(t=null===(n=document.querySelector('[data-api-field="'.concat(r,'"] > label')))||void 0===n?void 0:n.textContent)&&void 0!==t?t:r,l=[];return Array.isArray(i)?l.push.apply(l,(0,o.Z)(i.map((function(e){return e.message})))):l.push(i.message),(0,p.jsxs)("tr",{children:[(0,p.jsx)("td",{children:s}),(0,p.jsx)("td",{children:l.join(". ")})]})};var y=function(e){var t=e.errors,n=(0,a.Z)().formatMessage,r=(0,s.useMemo)((function(){return null!=t?function(e){var t=Object.entries(e).filter((function(e){return!(0,i.Z)(e,1)[0].startsWith("_")}));return Object.fromEntries(t)}(t):void 0}),[t]),o=(0,s.useMemo)((function(){if(null==r||0===Object.keys(r).length)return[];var e=[];return Object.keys(r).forEach((function(t){var n=r[t];e.push((0,p.jsx)(_,{name:t,err:n},t))})),e}),[r]);if(null==r||0===Object.keys(r).length)return null;var l=(0,p.jsxs)("table",{children:[(0,p.jsx)("thead",{children:(0,p.jsxs)("tr",{children:[(0,p.jsx)("th",{children:n(b.form_errors_table_heading_error)}),(0,p.jsx)("th",{children:n(b.form_errors_table_heading_message)})]})}),(0,p.jsx)("tbody",{children:o})]});return(0,p.jsxs)(c.Z,{severity:"danger",className:"form-errors",title:n(b.form_errors_title),children:[l,(0,p.jsx)(g.Z,{className:"alert-post-message",children:n(b.form_errors_alert)})]})},x=function(e){var t=e.dirty,n=e.submitting,r=e.errors,o=e.onSubmitSuccess,l=(0,a.Z)().formatMessage,c=(0,s.useRef)(!1),u=(0,s.useState)(!1),d=(0,i.Z)(u,2),f=d[0],m=d[1];(0,s.useEffect)((function(){!0===c.current&&!1===n&&null==r&&(m(!0),null===o||void 0===o||o()),c.current=n}),[n]),(0,s.useEffect)((function(){t&&f&&m(!1)}),[t]);var h=(0,s.useCallback)((function(){m(!1)}),[]);return(0,p.jsx)(Z.Z,{show:f,variant:"success",anchorOrigin:{horizontal:"center",vertical:"bottom"},onClose:h,children:l(b.save_success)})},C=function(e){var t=e.dirty,n=e.submitting,r=e.errors,i=e.onSubmitSuccess;return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(v,{isDirty:t}),(0,p.jsx)(y,{errors:r}),(0,p.jsx)(x,{dirty:t,submitting:n,onSubmitSuccess:i,errors:r})]})},j=function(e){var t=e.onSubmitSuccess;return(0,p.jsx)(r.lP,{subscription:{dirty:!0,submitting:!0,submitErrors:!0},children:function(e){var n=e.dirty,r=e.submitting,i=e.submitErrors;return(0,p.jsx)(C,{dirty:n,submitting:r,errors:i,onSubmitSuccess:t})}})}},9854:function(e,t,n){var r=n(2791);t.Z=function(e){var t=e.form,n=e.initialValues;return(0,r.useEffect)((function(){t&&null!=t.restart&&t.restart(n)}),[n]),null}},3847:function(e,t,n){n.d(t,{Z:function(){return m}});var r=n(1413),i=n(557),o=n(2791),s=n(6657),l=n(1694),a=n.n(l),c=n(78),u=n(184),d=["show","autoHide","variant","anchorOrigin","onClose","children","className"];function f(e){return 0===e.length?"":1===e.length?e.toUpperCase():e.charAt(0).toUpperCase()+e.slice(1)}var m=(0,o.forwardRef)((function(e,t){var n=e.show,o=e.autoHide,l=void 0===o?6e3:o,m=e.variant,p=e.anchorOrigin,h=e.onClose,v=e.children,g=e.className,Z=(0,i.Z)(e,d),b=null!=p?"Toast-anchorOrigin".concat(f(p.vertical)).concat(f(p.horizontal)):void 0;return(0,u.jsx)(s.Z,(0,r.Z)((0,r.Z)({show:n,delay:l,autohide:l>0,className:a()("simple-toast",g,b,{success:"success"===m}),onClose:h},Z),{},{ref:t,children:(0,u.jsx)(s.Z.Header,{closeButton:null!=h,children:(0,u.jsxs)(u.Fragment,{children:["success"===m&&(0,u.jsx)("div",{className:"toast-icon",children:(0,u.jsx)(c.Z,{icon:"check",variant:"light",size:"2x"})}),(0,u.jsx)("span",{className:"toast-title",children:v})]})})}))}))},2163:function(e,t,n){n.r(t),n.d(t,{default:function(){return de}});var r=n(2791),i=n(6871),o=n(3539),s=n(6221),l=n(5355),a=n(9656),c=n(8393),u=n(4165),d=n(5861),f=n(1413),m=n(7572),p=n(8263),h=n(7728),v=n(3204),g=n(9492),Z=function(){var e=(0,d.Z)((0,u.Z)().mark((function e(t,n,r){var i;return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=r.filter((function(e){return e.completed})).map((function(e){return e.id})),e.abrupt("return",(0,m.WY)().delete(p.m.bulk_list_item).send(i).then((function(){t((0,f.Z)((0,f.Z)({},(0,a.s_)(v.H,v.e.DELETE_COMPLETED_ITEMS)),{},{payload:{listId:n,ids:i}}))})).catch((function(e){return(0,m.Hn)(t,e,v.H)})));case 2:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),b=function(){return function(e){e((0,f.Z)({},(0,a.s_)(v.H,h.o.RESET)))}},_=n(3976),y=n(1884),x=n(885),C=function(){var e=(0,d.Z)((0,u.Z)().mark((function e(t,n,r){var i;return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t((0,f.Z)({},(0,a.s_)(g.Pl,h.o.CREATE_START))),i=(0,f.Z)({list:n},r),e.abrupt("return",(0,m.WY)().post(p.m.list_item).send(i).then((function(e){var r=(0,g.g7)(n,e.body);t((0,f.Z)((0,f.Z)({},(0,a.s_)(g.Pl,h.o.CREATE_SUCCESS)),{},{payload:r}))})).catch((function(e){return(0,m.Hn)(t,e,g.Pl)})));case 3:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),j=function(){var e=(0,d.Z)((0,u.Z)().mark((function e(t,n,r,i){return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t((0,f.Z)({},(0,a.s_)(g.Pl,h.o.UPDATE_START))),e.abrupt("return",(0,m.WY)().patch("".concat(p.m.list_item).concat(r,"/")).send(i).then((function(e){var r=(0,g.g7)(n,e.body);t((0,f.Z)((0,f.Z)({},(0,a.s_)(g.Pl,h.o.UPDATE_SUCCESS)),{},{payload:r}))})).catch((function(e){return(0,m.Hn)(t,e,g.Pl)})));case 2:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}(),w=n(1728),T=n(78),E=n(3847),k=n(184),N=(0,s.vU)({clear_completed_tooltip:{id:"grocery_list.footer.clear_completed_tooltip",defaultMessage:"Clear completed"},copy_to_clipboard_tooltip:{id:"grocery_list.footer.copy_to_clipboard_tooltip",defaultMessage:"Copy to clipboard"},copy_to_clipboard_toast:{id:"grocery_list.footer.copy_to_clipboard_toast",defaultMessage:"Copied to clipboard."}}),S=function(e){var t=e.list,n=e.isNew,i=e.items,s=e.onClearCompleted,l=e.isClearPending,a=e.onCopyToClipboard,c=(0,o.Z)().formatMessage,u=(0,r.useState)(!1),d=(0,x.Z)(u,2),f=d[0],m=d[1],p=(0,r.useCallback)((function(){a(),setTimeout((function(){m(!0)}),0)}),[a]),h=(0,r.useCallback)((function(){m(!1)}),[]);if(!t||n)return null;var v=null!=(null===i||void 0===i?void 0:i.find((function(e){return e.completed})));return(0,k.jsxs)("div",{className:"grocery-list-footer print-hidden",children:[null!=i&&i.length>0&&(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(w.Z,{id:"clear-completed",variant:"primary",type:"button",disabled:(0,y.s6)()||!v||l,className:"check",onClick:s,tooltip:c(N.clear_completed_tooltip),children:(0,k.jsx)(T.Z,{icon:"check",variant:"light",size:"2x"})}),(0,k.jsx)(w.Z,{id:"copy-to-clipboard",variant:"outline-primary",type:"button",onClick:p,tooltip:c(N.copy_to_clipboard_tooltip),children:(0,k.jsx)(T.Z,{icon:"clipboard"})})]}),(0,k.jsx)(E.Z,{show:f,variant:"success",anchorOrigin:{horizontal:"center",vertical:"bottom"},onClose:h,children:c(N.copy_to_clipboard_toast)})]})},M=n(1694),I=n.n(M),D=n(3720),L=n(9795),R=n(3360),A=n(9723),P=n(4138),U=n(2265),O=n(9854),F=n(7547),H=n(9960),B=n(1104),z=n(1127),W=(0,s.vU)({groceryList_items_summary_empty:{id:"groceryList.items_summary_empty",description:"Summary for grocery list with no items.",defaultMessage:"Empty list"},groceryList_items_summary_completed:{id:"groceryList.items_summary_completed",description:"Number of items, all done.",defaultMessage:"{sum, plural, one {# item} other {# items}}, all done \ud83d\ude00"},groceryList_items_summary_incompleted:{id:"groceryList.items_summary_incompleted",description:"Number of items, with not completed sum.",defaultMessage:"{sum, plural, one {# item} other {# items}}, {sum_not_completed} not completed"},groceryList_filter_by:{id:"groceryList.filter_by",description:"Filter items",defaultMessage:"Show items: {filter}"},filter_off:{id:"groceryList.filter_items.ALL",defaultMessage:"All"},filter_active:{id:"groceryList.filter_items.ACTIVE",defaultMessage:"Not completed"},filter_completed:{id:"groceryList.filter_items.COMPLETED",defaultMessage:"Completed"}}),G=function(e){var t,n,i,s,l,a=e.list,c=e.items,u=e.filter,d=e.onChangeFilter,f=(0,o.Z)(),m=f.formatMessage,p=null!==(t=null===c||void 0===c?void 0:c.length)&&void 0!==t?t:0,h=null!==(n=null===c||void 0===c?void 0:c.filter((function(e){return e.completed})).length)&&void 0!==n?n:0,v=null!==(i=null===c||void 0===c?void 0:c.filter((function(e){return!e.completed})).length)&&void 0!==i?i:0,g=(0,r.useCallback)((function(e,t){u===t?e.preventDefault():d(t)}),[u,d]),Z=Object.values(ce).map((function(e){return(0,k.jsx)(A.Z.Item,{active:u===e,onClick:function(t){return g(t,e)},children:(0,y.kT)(f,"groceryList.filter_items.",e)},e)}));return(0,k.jsxs)("div",{className:"grocery-list-summary",children:[(0,k.jsxs)(z.Z,{className:"summary",children:[0===p&&m(W.groceryList_items_summary_empty),p>0&&h===p&&m(W.groceryList_items_summary_completed,{sum:null!==(s=null===a||void 0===a?void 0:a.item_count)&&void 0!==s?s:0}),p>0&&v>0&&m(W.groceryList_items_summary_incompleted,{sum:null!==(l=null===a||void 0===a?void 0:a.item_count)&&void 0!==l?l:0,sum_not_completed:v})]}),(0,k.jsxs)(A.Z,{className:"filter-items-dropdown",children:[(0,k.jsx)(A.Z.Toggle,{variant:"outline-primary",id:"filter-items-button",disabled:null==a||0===a.item_count,children:m(W.groceryList_filter_by,{filter:(0,y.kT)(f,"groceryList.filter_items.",u)})}),(0,k.jsx)(A.Z.Menu,{children:Z})]})]})},V=(0,s.vU)({new_title_placeholder:{id:"grocery_list.header.title_placeholder",defaultMessage:"(Enter a new title)"},confirm_delete_message:{id:"grocery_list.header.confirm_delete",description:"Are you sure you want to delete this list?",defaultMessage:"Are you sure you want to delete this list?"},edit_list:{id:"grocery_list.header.edit_list_button",defaultMessage:"Edit"},delete_list:{id:"grocery_list.header.delete_list_button",defaultMessage:"Delete"},back_to_lists:{id:"grocery_list.header.back_to_lists",defaultMessage:"To my grocery lists"}}),Y=function(e){var t=e.list,n=e.isNew,s=e.onCreate,l=e.onUpdate,a=e.onRemove,c=e.items,f=e.filter,m=e.onChangeFilter,p=(0,o.Z)(),h=p.formatMessage,v=(0,i.TH)(),g=(0,i.s0)(),Z=v.pathname.substring(0,v.pathname.lastIndexOf("/create")),b=(0,r.useRef)(null),_=(0,r.useRef)(null),C=(0,r.useState)(n),j=(0,x.Z)(C,2),w=j[0],E=j[1],N=(0,r.useState)(!1),S=(0,x.Z)(N,2),M=S[0],z=S[1],W=(0,r.useCallback)((function(){z(!0)}),[]),Y=(0,r.useCallback)((function(){a()}),[a]),q=(0,r.useCallback)((function(){z(!1)}),[]),K=null===t||void 0===t?void 0:t.slug;(0,r.useEffect)((function(){w!==n&&E(n),M&&z(!1)}),[n,t]);var Q=(0,r.useCallback)((function(){E(!0),null!=_&&null!=_.current&&setTimeout((function(){_.current.focus()}),1)}),[null===_||void 0===_?void 0:_.current]),J=(0,r.useCallback)((function(){E(!1)}),[]),X=(0,r.useCallback)(function(){var e=(0,d.Z)((0,u.Z)().mark((function e(t){var r,i;return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n){e.next=5;break}return r={title:t.title},e.abrupt("return",s(r));case 5:return i={title:t.title},e.abrupt("return",l(i));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[n,s,l]),$=(0,r.useCallback)((function(){n&&g("".concat(Z,"/").concat(K)),E(!1),null!=b&&null!=b.current&&setTimeout((function(){b.current.focus()}),1)}),[n,Z,K,null===b||void 0===b?void 0:b.current]),ee=(0,r.useMemo)((function(){return t?{title:t.title}:{}}),[t]);return(0,k.jsxs)(k.Fragment,{children:[(0,k.jsxs)("div",{className:I()({editing:w,"list-header":!0}),children:[(0,k.jsxs)("div",{className:"grocery-list-title-bar",tabIndex:-1,ref:b,children:[t&&!n&&!w&&(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(B.Z,{id:"to-grocery-lists",variant:"transparent",to:(0,y.qC)("/grocery-lists"),className:"print-hidden",tooltip:h(V.back_to_lists),children:(0,k.jsx)(T.Z,{icon:"caret-left"})}),(0,k.jsx)("h2",{children:t.title})]}),w&&(0,k.jsx)(D.l0,{initialValues:ee,onSubmit:X,subscription:{},render:function(e){var t=e.form,r=e.handleSubmit;return(0,k.jsxs)(L.Z,{onSubmit:r,className:"change-grocery-list-title-form",children:[(0,k.jsx)(U.Z,{onSubmitSuccess:$}),(0,k.jsx)(O.Z,{form:t,initialValues:ee}),(0,k.jsxs)("div",{className:"title-group",children:[(0,k.jsx)(F.Z,{name:"title",placeholder:h(V.new_title_placeholder),maxLength:250,ref:_}),(0,k.jsx)(D.lP,{subscription:{values:!0,submitting:!0},children:function(e){var t=e.values,r=e.submitting;return(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(R.Z,{type:"submit",variant:"outline-primary",disabled:!t.title||r,children:(0,k.jsx)(T.Z,{icon:"check",variant:"light",size:"2x"})}),!n&&(0,k.jsx)(R.Z,{type:"button",variant:"outline-secondary",disabled:!t.title||r,onClick:J,children:(0,k.jsx)(T.Z,{icon:"x",variant:"light",size:"2x"})})]})}})]})]})}}),!w&&(0,k.jsxs)(A.Z,{children:[(0,k.jsx)(A.Z.Toggle,{id:"grocery-header-option-menu",variant:"transparent",className:"print-hidden",children:(0,k.jsx)(T.Z,{icon:"three-dots-vertical",variant:"light"})}),(0,k.jsxs)(A.Z.Menu,{id:"grocery-header-option-menu-dropdown",children:[(0,k.jsx)(A.Z.Item,{onClick:Q,children:h(V.edit_list)}),(0,k.jsx)(A.Z.Item,{onClick:W,children:h(V.delete_list)}),(0,k.jsx)(A.Z.Divider,{}),(0,k.jsx)(H.Z,{to:"".concat(Z,"/create"),active:!1,children:p.messages["nav.grocery_list_create"]})]})]})]}),!n&&(0,k.jsx)(G,{list:t,items:c,filter:f,onChangeFilter:m})]}),(0,k.jsx)(P.Z,{show:M,title:p.messages["recipe.confirm_delete_title"],acceptTitle:p.messages["recipe.confirm_delete_accept"],onAccept:Y,onClose:q,acceptButtonProps:{variant:"danger"},children:p.formatMessage(V.confirm_delete_message)})]})},q=n(6569),K=n(7538),Q=n(6699),J=(0,s.vU)({new_item_placeholder:{id:"groceryList.items.new_item_placeholder",description:"New item input, placeholder.",defaultMessage:"(New item)"}}),X=function(e){var t=e.onAddItem,n=(0,o.Z)(),i=n.formatMessage,s=(0,r.useState)(""),l=(0,x.Z)(s,2),a=l[0],c=l[1],f=(0,r.useState)(),m=(0,x.Z)(f,2),p=m[0],h=m[1],v=(0,r.useCallback)(function(){var e=(0,d.Z)((0,u.Z)().mark((function e(n){return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({title:n}).then((function(){c("")})).catch((function(e){h(e)}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[t]),g=(0,r.useCallback)((function(){v(a)}),[v,a]),Z=(0,r.useCallback)((function(e,t){t!==a&&c(t)}),[a]),b=(0,r.useCallback)((function(e){e.defaultPrevented||e.ctrlKey||e.shiftKey||"Enter"===e.key&&v(e.currentTarget.value)}),[v]);return(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(K.ZP,{name:"newItem",value:a,placeholder:i(J.new_item_placeholder),errors:(0,Q.fr)(n,null===p||void 0===p?void 0:p.newItem),className:"new-item-input grocery-list-item-margin",onChange:Z,onKeyDown:b}),(0,k.jsx)(R.Z,{variant:"primary",disabled:0===a.length,onClick:g,className:"grocery-list-item-margin",children:(0,k.jsx)(T.Z,{icon:"arrow-right",variant:"light"})})]})},$=n(9743),ee=n(2677),te=(0,s.vU)({edit_button:{id:"grocery_list.item.edit_button",defaultMessage:"Edit"},delete_button:{id:"grocery_list.item.delete_button",defaultMessage:"Delete"},old_title:{id:"grocery_list.item.old_title_label",defaultMessage:"Item"},new_title:{id:"grocery_list.item.new_title_label",defaultMessage:"New Title"}}),ne=(0,r.forwardRef)((function(e,t){var n=e.item,i=e.onSubmit,s=e.onSubmitSuccess,l=e.submitRef,a=(0,o.Z)().formatMessage,c=(0,r.useState)({oldTitle:n.title,newTitle:n.title}),f=(0,x.Z)(c,1)[0],m=(0,r.useCallback)(function(){var e=(0,d.Z)((0,u.Z)().mark((function e(t){var r;return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.title!==t.newTitle){e.next=2;break}return e.abrupt("return",null);case 2:return r={title:t.newTitle},e.abrupt("return",i(r));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[n.title,i]);return(0,k.jsx)(D.l0,{initialValues:f,onSubmit:m,subscription:{},render:function(e){var n=e.form,r=e.handleSubmit;return(0,k.jsxs)(L.Z,{onSubmit:r,ref:t,children:[(0,k.jsx)(U.Z,{onSubmitSuccess:s}),(0,k.jsx)(O.Z,{form:n,initialValues:f}),(0,k.jsx)($.Z,{children:(0,k.jsx)(ee.Z,{children:(0,k.jsx)(F.Z,{name:"oldTitle",label:a(te.old_title),readOnly:!0})})}),(0,k.jsx)($.Z,{children:(0,k.jsx)(ee.Z,{children:(0,k.jsx)(F.Z,{name:"newTitle",label:a(te.new_title),required:!0,autoFocus:!0})})}),(0,k.jsx)("button",{type:"submit",ref:l,className:"visibility-hidden",children:"Submit"})]})}})})),re=function(e){var t=e.item,n=e.className,i=e.onToggle,s=e.onUpdate,l=e.onDelete,a=(0,o.Z)().formatMessage,c=(0,r.useState)(!1),f=(0,x.Z)(c,2),m=f[0],p=f[1],h=(0,r.useRef)(null),v=(0,r.useCallback)((function(){i(t.id,!t.completed)}),[i,t]),g=(0,r.useCallback)((function(){p(!0)}),[]),Z=(0,r.useCallback)((function(e){e||p(!1)}),[]),b=(0,r.useCallback)((function(){var e;null===(e=h.current)||void 0===e||e.click()}),[h.current]),_=(0,r.useCallback)(function(){var e=(0,d.Z)((0,u.Z)().mark((function e(n){return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",s(t.id,n));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[s,t.id]),y=(0,r.useCallback)((function(){l(t.id)}),[l,t.id]);return(0,k.jsxs)("div",{className:I()("grocery-list-item",n),children:[(0,k.jsx)(q.Z,{name:"".concat(t.listId,"-").concat(t.id,"-toggle"),label:t.title,value:t.completed,onChange:v,className:"grocery-list-item-cb grocery-list-item-margin"}),(0,k.jsxs)(A.Z,{className:"options-dropdown print-hidden",children:[(0,k.jsx)(A.Z.Toggle,{variant:"transparent",children:(0,k.jsx)(T.Z,{icon:"three-dots-vertical",variant:"light"})}),(0,k.jsxs)(A.Z.Menu,{id:"grocery-header-option-menu-dropdown",children:[(0,k.jsx)(A.Z.Item,{onClick:g,children:a(te.edit_button)}),(0,k.jsx)(A.Z.Item,{onClick:y,children:a(te.delete_button)})]})]}),m&&(0,k.jsx)(P.Z,{show:!0,title:a(te.edit_button),onAccept:b,onClose:Z,size:"sm",children:(0,k.jsx)(ne,{item:t,onSubmit:_,onSubmitSuccess:Z,submitRef:h})})]})},ie=(0,s.vU)({toggle_all:{id:"grocery_list.items.toggle_all",defaultMessage:"Toggle all"},filtered_items_info:{id:"grocery_list.items.filtered_items_info",defaultMessage:"({sum, plural, one {# filtered item} other {# filtered items}})"}});function oe(e,t){switch(t){case ce.ALL:return e;case ce.ACTIVE:return e.filter((function(e){return!e.completed}));case ce.COMPLETED:return e.filter((function(e){return e.completed}));default:return e}}var se=function(e){var t=e.list,n=e.isNew,i=e.items,s=e.filter,l=e.onAddItem,a=e.onToggleItem,c=e.onToggleItems,u=e.onUpdateItem,d=e.onDeleteItem,f=(0,o.Z)().formatMessage,m=(0,r.useMemo)((function(){return oe(null!==i&&void 0!==i?i:[],s)}),[oe,i,s]),p=(0,r.useCallback)((function(){var e=null==m.find((function(e){return!e.completed}));c(m,!e)}),[c,m]);if(!t||n||null==i)return null;var h=m.map((function(e){return(0,k.jsx)("li",{children:(0,k.jsx)(re,{item:e,className:"grocery-list-flex-container",onToggle:a,onUpdate:u,onDelete:d})},"".concat(e.listId,"-").concat(e.id))})),v=null!=i.find((function(e){return!e.completed})),g=i.length-m.length;return(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(q.Z,{name:"toggle-all",label:f(ie.toggle_all),value:null!=i&&i.length>0&&!v,readOnly:null==i||0===m.length,errors:void 0,className:"toggle-all grocery-list-item-margin",onChange:p}),g>0&&(0,k.jsxs)("div",{className:"grocery-list-flex-container",children:[(0,k.jsx)(q.Z,{name:"hidden-placeholder-toggle",value:!1,disabled:!0,className:"dummy-checkbox visibility-hidden"}),(0,k.jsx)(z.Z,{className:"placeholder grocery-list-item-margin",children:f(ie.filtered_items_info,{sum:g})})]}),(0,k.jsxs)("ul",{className:"grocery-list-items",children:[h,(0,k.jsx)("li",{className:"print-hidden",children:(0,k.jsxs)("div",{className:"grocery-list-flex-container",children:[(0,k.jsx)(q.Z,{name:"new-item-toggle",value:!1,disabled:!0,className:"dummy-checkbox visibility-hidden"}),(0,k.jsx)(X,{onAddItem:l})]})})]})]})},le=function(e){var t=e.list,n=e.isNew,r=e.onCreate,i=e.onUpdate,o=e.onRemove,s=e.items,l=e.filter,a=e.onChangeFilter,c=e.onAddItem,u=e.onToggleItem,d=e.onToggleItems,f=e.onUpdateItem,m=e.onDeleteItem,p=e.isClearPending,h=e.onClearCompleted,v=e.onCopyToClipboard;return(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(Y,{list:t,isNew:n,onCreate:r,onUpdate:i,onRemove:o,items:s,filter:l,onChangeFilter:a}),(0,k.jsx)(se,{list:t,isNew:n,items:s,filter:l,onAddItem:c,onToggleItem:u,onToggleItems:d,onUpdateItem:f,onDeleteItem:m}),(0,k.jsx)(S,{list:t,isNew:n,items:s,isClearPending:p,onClearCompleted:h,onCopyToClipboard:v})]})},ae=n(2951),ce=function(e){return e.ALL="ALL",e.ACTIVE="ACTIVE",e.COMPLETED="COMPLETED",e}({});var ue=function(e){var t=e.isNew,n=(0,a.I0)(),o=(0,ae.Z)(),s=(0,i.s0)(),l=(0,a.v9)((function(e){return e.groceryList})).item,b=null===l||void 0===l?void 0:l.slug,_=(0,r.useRef)(),w=(0,a.v9)((function(e){return e.groceryListItems})).items,T=(0,r.useRef)(),E=(0,r.useState)(ce.ALL),N=(0,x.Z)(E,2),S=N[0],M=N[1],I=(0,r.useState)(!1),D=(0,x.Z)(I,2),L=D[0],R=D[1],A=(0,r.useState)(!1),P=(0,x.Z)(A,2),U=P[0],O=P[1],F=(0,r.useCallback)(function(){var e=(0,d.Z)((0,u.Z)().mark((function e(t){return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",c.Ue(n,t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[n]),H=(0,r.useCallback)(function(){var e=(0,d.Z)((0,u.Z)().mark((function e(t){return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",c.Vx(n,null!==b&&void 0!==b?b:"",t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[b,n]),B=(0,r.useCallback)((function(){null!=(null===l||void 0===l?void 0:l.id)?(R(!0),n(c.Od(l.id,null!==b&&void 0!==b?b:""))):o("Invalid state: list item may not be null")}),[null===l||void 0===l?void 0:l.id,b,n]),z=(0,r.useCallback)((function(){var e;if(null!=(null===l||void 0===l?void 0:l.id)){O(!0);var t=null!==(e=null===w||void 0===w?void 0:w.filter((function(e){return e.completed})))&&void 0!==e?e:[];Z(n,l.id,t).then((function(){O(!1)}))}else o("Invalid state: list item may not be null")}),[null===l||void 0===l?void 0:l.id,w,n]),W=(0,r.useCallback)(function(){var e=(0,d.Z)((0,u.Z)().mark((function e(t){var r;return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",C(n,null!==(r=null===l||void 0===l?void 0:l.id)&&void 0!==r?r:0,t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[null===l||void 0===l?void 0:l.id,n]),G=(0,r.useCallback)((function(e,t){null!=(null===l||void 0===l?void 0:l.id)?n(function(e,t,n){return function(r){r((0,f.Z)({},(0,a.s_)(g.Pl,h.o.UPDATE_START))),(0,m.WY)().patch("".concat(p.m.list_item).concat(t,"/")).send({completed:n}).then((function(){r((0,f.Z)((0,f.Z)({},(0,a.s_)(g.Pl,g.RZ.TOGGLE_ITEM)),{},{payload:{listId:e,id:t}}))})).catch((function(e){return r((0,m.S3)(e,g.Pl))}))}}(l.id,e,t)):o("Invalid state: list item may not be null")}),[null===l||void 0===l?void 0:l.id,n]),V=(0,r.useCallback)((function(e,t){null!=(null===l||void 0===l?void 0:l.id)&&null!=w?n(function(e,t,n){return function(e){e((0,f.Z)({},(0,a.s_)(v.H,h.o.GET_START)));var r=t.filter((function(e){return e.completed!==n})).map((function(e){return{id:e.id,completed:n}}));(0,m.WY)().patch(p.m.bulk_list_item).send(r).then((function(){e((0,f.Z)((0,f.Z)({},(0,a.s_)(v.H,v.e.TOGGLE_ITEMS)),{},{payload:r}))})).catch((function(t){return e((0,m.S3)(t,v.H))}))}}(l.id,e,t)):o("Invalid state: list item may not be null")}),[null===l||void 0===l?void 0:l.id,w,n]),Y=(0,r.useCallback)(function(){var e=(0,d.Z)((0,u.Z)().mark((function e(t,r){return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=(null===l||void 0===l?void 0:l.id)){e.next=3;break}return o("Invalid state: list item may not be null"),e.abrupt("return",void 0);case 3:return e.abrupt("return",j(n,l.id,t,r));case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),[null===l||void 0===l?void 0:l.id,n]),q=(0,r.useCallback)((function(e){var t,r;null!=l?n((t=l.id,r=e,function(e){e((0,f.Z)({},(0,a.s_)(g.Pl,h.o.DELETE_START))),(0,m.WY)().delete("".concat(p.m.list_item).concat(r,"/")).then((function(){e((0,f.Z)((0,f.Z)({},(0,a.s_)(g.Pl,h.o.DELETE_SUCCESS)),{},{payload:{listId:t,id:r}}))})).catch((function(t){return e((0,m.S3)(t,g.Pl))}))})):o("Invalid state: list item may not be null")}),[l,n]);(0,r.useEffect)((function(){null==_.current?_.current=l:L&&null!=_.current&&null==l&&s((0,y.qC)("/grocery-lists"))}),[l]),(0,r.useEffect)((function(){null==T.current?T.current=w:U&&O(!1)}),[w]);var K=(0,r.useCallback)((function(){if(null!=l){var e=function(e,t){var n="".concat(e.title,":"),r=t.map((function(e){return"".concat(e.completed?"[x]":"[ ]"," ").concat(e.title)})).join("\n");return"".concat(n,"\n").concat(r)}(l,null!==w&&void 0!==w?w:[]);(0,y.vQ)(e)}else o("Invalid state: list item may not be null")}),[l,w]);return(0,k.jsx)(le,{list:l,isNew:t,onCreate:F,onUpdate:H,onRemove:B,items:w,filter:S,onChangeFilter:M,onAddItem:W,onToggleItem:G,onToggleItems:V,onUpdateItem:Y,onDeleteItem:q,isClearPending:U,onClearCompleted:z,onCopyToClipboard:K})},de=function(){var e,t,n=(0,o.Z)().formatMessage,u=(0,s.vU)({new_grocery_list:{id:"grocery_list.new_grocery_list",description:"New GroceryList documentTitle",defaultMessage:"New grocery list"}}),d=(0,i.UO)(),Z=(0,i.s0)(),x=(0,a.I0)(),C=(0,a.v9)((function(e){return e.groceryList})),j=C.meta,w=(0,a.v9)((function(e){return e.groceryListItems})).meta,T=d.list,E="create"===T;return(0,r.useEffect)((function(){T&&(window.scrollTo(0,0),E?(x(c.mc()),x(b())):x(c.zD(T)))}),[T]),(0,r.useEffect)((function(){var e,t;null!==(e=C.item)&&void 0!==e&&e.id&&!E&&x((t=C.item.id,function(e){e((0,f.Z)({},(0,a.s_)(v.H,h.o.GET_START))),(0,m.WY)().get("".concat(p.m.list_item,"?list=").concat(t)).then((function(n){e((0,f.Z)((0,f.Z)({},(0,a.s_)(v.H,h.o.GET_SUCCESS)),{},{payload:n.body.results.map((function(e){return(0,g.g7)(t,e)}))}))})).catch((function(t){return e((0,m.S3)(t,v.H))}))}))}),[null===(e=C.item)||void 0===e?void 0:e.id,E]),(0,r.useEffect)((function(){404===l.Z(j.error,"status")&&Z((0,y.xb)("/grocery-lists"))}),[j.error]),(0,r.useEffect)((function(){404===l.Z(w.error,"status")&&Z((0,y.xb)("/grocery-lists"))}),[w.error]),(0,r.useEffect)((function(){return function(){x(c.mc()),x(b())}}),[]),(0,k.jsx)(_.Z,{title:E?n(u.new_grocery_list):null===(t=C.item)||void 0===t?void 0:t.title,children:(0,k.jsx)(ue,{isNew:E})})}},8393:function(e,t,n){n.d(t,{Ap:function(){return g},Od:function(){return h},Ue:function(){return m},Vx:function(){return p},mc:function(){return Z},zD:function(){return f}});var r=n(4165),i=n(5861),o=n(1413),s=n(7572),l=n(8263),a=n(2697),c=n(9656),u=n(7728),d=n(9492),f=function(e){return function(t){t((0,o.Z)({},(0,c.s_)(a.iD,u.o.GET_START))),(0,s.WY)().get("".concat(l.m.list).concat(e,"/")).then((function(e){var n;t((n=(0,a.m3)(e.body),(0,o.Z)((0,o.Z)({},(0,c.s_)(a.iD,u.o.GET_SUCCESS)),{},{payload:n})))})).catch((function(e){return t((0,s.S3)(e,a.iD))}))}},m=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(t,n){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t((0,o.Z)({},(0,c.s_)(a.iD,u.o.CREATE_START))),e.abrupt("return",(0,s.WY)().post(l.m.list).send(n).then((function(e){var n=(0,a.m3)(e.body);t((0,o.Z)((0,o.Z)({},(0,c.s_)(a.iD,u.o.CREATE_SUCCESS)),{},{payload:n}))})).catch((function(e){return(0,s.Hn)(t,e,a.iD)})));case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),p=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(t,n,i){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t((0,o.Z)({},(0,c.s_)(a.iD,u.o.UPDATE_START))),e.abrupt("return",(0,s.WY)().patch("".concat(l.m.list).concat(n,"/")).send(i).then((function(e){var n=(0,a.m3)(e.body);t((0,o.Z)((0,o.Z)({},(0,c.s_)(a.iD,u.o.UPDATE_SUCCESS)),{},{payload:n}))})).catch((function(e){return(0,s.Hn)(t,e,a.iD)})));case 2:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),h=function(e,t){return function(n){n((0,o.Z)({},(0,c.s_)(a.iD,u.o.DELETE_START))),(0,s.WY)().delete("".concat(l.m.list).concat(t,"/")).then((function(){n((0,o.Z)((0,o.Z)({},(0,c.s_)(a.iD,u.o.DELETE_SUCCESS)),{},{payload:{id:e}}))})).catch((function(e){return n((0,s.S3)(e,a.iD))}))}};function v(e,t){return[e.quantity&&"0"!==e.quantity?e.quantity:void 0,t(e.measurement,e.quantity),e.title].filter(Boolean).join(" ")}var g=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(t,n,i,f){var m,p,h;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(m=i.ingredientGroups.flatMap((function(e){return e.ingredients.map((function(e){return{list:n,title:v(e,f)}}))})),p=i.subrecipes.map((function(e){return{list:n,title:v(e,f)}})),!((h=m.concat(p)).length>0)){e.next=8;break}return t((0,o.Z)({},(0,c.s_)(a.iD,u.o.UPDATE_START))),e.abrupt("return",(0,s.WY)().post(l.m.bulk_list_item).send(h).then((function(e){t((0,o.Z)((0,o.Z)({},(0,c.s_)(a.iD,a.ri.BULK_ADD)),{},{payload:e.body.map((function(e){return(0,d.g7)(n,e)}))})),t((0,o.Z)({},(0,c.s_)(a.iD,u.o.UPDATE_SUCCESS)))})).catch((function(e){return t((0,s.S3)(e,a.iD))})));case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}(),Z=function(){return function(e){e((0,o.Z)({},(0,c.s_)(a.iD,u.o.RESET)))}}},5316:function(e,t,n){n.d(t,{Z:function(){return B}});var r,i=n(885),o=n(557),s=n(1413),l=n(1694),a=n.n(l),c=n(3070),u=n(7357),d=n(8376),f=n(6382);function m(e){if((!r&&0!==r||e)&&u.Z){var t=document.createElement("div");t.style.position="absolute",t.style.top="-9999px",t.style.width="50px",t.style.height="50px",t.style.overflow="scroll",document.body.appendChild(t),r=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return r}var p=n(7731),h=n(9007),v=n(3201),g=n(1683),Z=n(3690),b=n(2791),_=n(7246),y=n(729),x=n(2709),C=n(6543),j=(0,C.Z)("modal-body"),w=n(9820),T=n(162),E=n(184),k=["bsPrefix","className","contentClassName","centered","size","fullscreen","children","scrollable"],N=b.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=e.contentClassName,l=e.centered,c=e.size,u=e.fullscreen,d=e.children,f=e.scrollable,m=(0,o.Z)(e,k);n=(0,T.vE)(n,"modal");var p="".concat(n,"-dialog"),h="string"===typeof u?"".concat(n,"-fullscreen-").concat(u):"".concat(n,"-fullscreen");return(0,E.jsx)("div",(0,s.Z)((0,s.Z)({},m),{},{ref:t,className:a()(p,r,c&&"".concat(n,"-").concat(c),l&&"".concat(p,"-centered"),f&&"".concat(p,"-scrollable"),u&&h),children:(0,E.jsx)("div",{className:a()("".concat(n,"-content"),i),children:d})}))}));N.displayName="ModalDialog";var S=N,M=(0,C.Z)("modal-footer"),I=n(2086),D=["bsPrefix","className","closeLabel","closeButton"],L=b.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=e.closeLabel,l=void 0===i?"Close":i,c=e.closeButton,u=void 0!==c&&c,d=(0,o.Z)(e,D);return n=(0,T.vE)(n,"modal-header"),(0,E.jsx)(I.Z,(0,s.Z)((0,s.Z)({ref:t},d),{},{className:a()(r,n),closeLabel:l,closeButton:u}))}));L.displayName="ModalHeader";var R=L,A=(0,n(7472).Z)("h4"),P=(0,C.Z)("modal-title",{Component:A}),U=["bsPrefix","className","style","dialogClassName","contentClassName","children","dialogAs","aria-labelledby","aria-describedby","aria-label","show","animation","backdrop","keyboard","onEscapeKeyDown","onShow","onHide","container","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","onEntered","onExit","onExiting","onEnter","onEntering","onExited","backdropClassName","manager"];function O(e){return(0,E.jsx)(x.Z,(0,s.Z)((0,s.Z)({},e),{},{timeout:null}))}function F(e){return(0,E.jsx)(x.Z,(0,s.Z)((0,s.Z)({},e),{},{timeout:null}))}var H=b.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,l=e.style,x=e.dialogClassName,C=e.contentClassName,j=e.children,k=e.dialogAs,N=void 0===k?S:k,M=e["aria-labelledby"],I=e["aria-describedby"],D=e["aria-label"],L=e.show,R=void 0!==L&&L,A=e.animation,P=void 0===A||A,H=e.backdrop,B=void 0===H||H,z=e.keyboard,W=void 0===z||z,G=e.onEscapeKeyDown,V=e.onShow,Y=e.onHide,q=e.container,K=e.autoFocus,Q=void 0===K||K,J=e.enforceFocus,X=void 0===J||J,$=e.restoreFocus,ee=void 0===$||$,te=e.restoreFocusOptions,ne=e.onEntered,re=e.onExit,ie=e.onExiting,oe=e.onEnter,se=e.onEntering,le=e.onExited,ae=e.backdropClassName,ce=e.manager,ue=(0,o.Z)(e,U),de=(0,b.useState)({}),fe=(0,i.Z)(de,2),me=fe[0],pe=fe[1],he=(0,b.useState)(!1),ve=(0,i.Z)(he,2),ge=ve[0],Ze=ve[1],be=(0,b.useRef)(!1),_e=(0,b.useRef)(!1),ye=(0,b.useRef)(null),xe=(0,p.Z)(),Ce=(0,i.Z)(xe,2),je=Ce[0],we=Ce[1],Te=(0,v.Z)(t,we),Ee=(0,h.Z)(Y),ke=(0,T.SC)();n=(0,T.vE)(n,"modal");var Ne=(0,b.useMemo)((function(){return{onHide:Ee}}),[Ee]);function Se(){return ce||(0,y.t)({isRTL:ke})}function Me(e){if(u.Z){var t=Se().getScrollbarWidth()>0,n=e.scrollHeight>(0,d.Z)(e).documentElement.clientHeight;pe({paddingRight:t&&!n?m():void 0,paddingLeft:!t&&n?m():void 0})}}var Ie=(0,h.Z)((function(){je&&Me(je.dialog)}));(0,g.Z)((function(){(0,f.Z)(window,"resize",Ie),null==ye.current||ye.current()}));var De=function(){be.current=!0},Le=function(e){be.current&&je&&e.target===je.dialog&&(_e.current=!0),be.current=!1},Re=function(){Ze(!0),ye.current=(0,Z.Z)(je.dialog,(function(){Ze(!1)}))},Ae=function(e){"static"!==B?_e.current||e.target!==e.currentTarget?_e.current=!1:null==Y||Y():function(e){e.target===e.currentTarget&&Re()}(e)},Pe=(0,b.useCallback)((function(e){return(0,E.jsx)("div",(0,s.Z)((0,s.Z)({},e),{},{className:a()("".concat(n,"-backdrop"),ae,!P&&"show")}))}),[P,ae,n]),Ue=(0,s.Z)((0,s.Z)({},l),me);Ue.display="block";return(0,E.jsx)(w.Z.Provider,{value:Ne,children:(0,E.jsx)(_.Z,{show:R,ref:Te,backdrop:B,container:q,keyboard:!0,autoFocus:Q,enforceFocus:X,restoreFocus:ee,restoreFocusOptions:te,onEscapeKeyDown:function(e){W?null==G||G(e):(e.preventDefault(),"static"===B&&Re())},onShow:V,onHide:Y,onEnter:function(e,t){e&&Me(e),null==oe||oe(e,t)},onEntering:function(e,t){null==se||se(e,t),(0,c.ZP)(window,"resize",Ie)},onEntered:ne,onExit:function(e){null==ye.current||ye.current(),null==re||re(e)},onExiting:ie,onExited:function(e){e&&(e.style.display=""),null==le||le(e),(0,f.Z)(window,"resize",Ie)},manager:Se(),transition:P?O:void 0,backdropTransition:P?F:void 0,renderBackdrop:Pe,renderDialog:function(e){return(0,E.jsx)("div",(0,s.Z)((0,s.Z)({role:"dialog"},e),{},{style:Ue,className:a()(r,n,ge&&"".concat(n,"-static"),!P&&"show"),onClick:B?Ae:void 0,onMouseUp:Le,"aria-label":D,"aria-labelledby":M,"aria-describedby":I,children:(0,E.jsx)(N,(0,s.Z)((0,s.Z)({},ue),{},{onMouseDown:De,className:x,contentClassName:C,children:j}))}))}})})}));H.displayName="Modal";var B=Object.assign(H,{Body:j,Header:R,Title:P,Footer:M,Dialog:S,TRANSITION_DURATION:300,BACKDROP_TRANSITION_DURATION:150})},9743:function(e,t,n){var r=n(1413),i=n(557),o=n(1694),s=n.n(o),l=n(2791),a=n(162),c=n(184),u=["bsPrefix","className","as"],d=l.forwardRef((function(e,t){var n=e.bsPrefix,o=e.className,l=e.as,d=void 0===l?"div":l,f=(0,i.Z)(e,u),m=(0,a.vE)(n,"row"),p=(0,a.pi)(),h=(0,a.zG)(),v="".concat(m,"-cols"),g=[];return p.forEach((function(e){var t,n=f[e];delete f[e],t=null!=n&&"object"===typeof n?n.cols:n;var r=e!==h?"-".concat(e):"";null!=t&&g.push("".concat(v).concat(r,"-").concat(t))})),(0,c.jsx)(d,(0,r.Z)((0,r.Z)({ref:t},f),{},{className:s().apply(void 0,[o,m].concat(g))}))}));d.displayName="Row",t.Z=d},6657:function(e,t,n){n.d(t,{Z:function(){return E}});var r,i=n(1413),o=n(557),s=n(2791),l=n(1694),a=n.n(l),c=n(9726),u=n(4942),d=n(5090),f=n(2709),m=n(184),p=(r={},(0,u.Z)(r,d.d0,"showing"),(0,u.Z)(r,d.Ix,"showing show"),r),h=s.forwardRef((function(e,t){return(0,m.jsx)(f.Z,(0,i.Z)((0,i.Z)({},e),{},{ref:t,transitionClasses:p}))}));h.displayName="ToastFade";var v=h,g=n(9007),Z=n(162),b=n(473),_=s.createContext({onClose:function(){}}),y=["bsPrefix","closeLabel","closeVariant","closeButton","className","children"],x=s.forwardRef((function(e,t){var n=e.bsPrefix,r=e.closeLabel,l=void 0===r?"Close":r,c=e.closeVariant,u=e.closeButton,d=void 0===u||u,f=e.className,p=e.children,h=(0,o.Z)(e,y);n=(0,Z.vE)(n,"toast-header");var v=(0,s.useContext)(_),x=(0,g.Z)((function(e){null==v||null==v.onClose||v.onClose(e)}));return(0,m.jsxs)("div",(0,i.Z)((0,i.Z)({ref:t},h),{},{className:a()(n,f),children:[p,d&&(0,m.jsx)(b.Z,{"aria-label":l,variant:c,onClick:x,"data-dismiss":"toast"})]}))}));x.displayName="ToastHeader";var C=x,j=(0,n(6543).Z)("toast-body"),w=["bsPrefix","className","transition","show","animation","delay","autohide","onClose","bg"],T=s.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,l=e.transition,u=void 0===l?v:l,d=e.show,f=void 0===d||d,p=e.animation,h=void 0===p||p,g=e.delay,b=void 0===g?5e3:g,y=e.autohide,x=void 0!==y&&y,C=e.onClose,j=e.bg,T=(0,o.Z)(e,w);n=(0,Z.vE)(n,"toast");var E=(0,s.useRef)(b),k=(0,s.useRef)(C);(0,s.useEffect)((function(){E.current=b,k.current=C}),[b,C]);var N=(0,c.Z)(),S=!(!x||!f),M=(0,s.useCallback)((function(){S&&(null==k.current||k.current())}),[S]);(0,s.useEffect)((function(){N.set(M,E.current)}),[N,M]);var I=(0,s.useMemo)((function(){return{onClose:C}}),[C]),D=!(!u||!h),L=(0,m.jsx)("div",(0,i.Z)((0,i.Z)({},T),{},{ref:t,className:a()(n,r,j&&"bg-".concat(j),!D&&(f?"show":"hide")),role:"alert","aria-live":"assertive","aria-atomic":"true"}));return(0,m.jsx)(_.Provider,{value:I,children:D&&u?(0,m.jsx)(u,{in:f,unmountOnExit:!0,children:L}):L})}));T.displayName="Toast";var E=Object.assign(T,{Body:j,Header:C})},7493:function(){}}]);
//# sourceMappingURL=163.67556c0c.chunk.js.map