"use strict";(self.webpackChunkownrecipes_web=self.webpackChunkownrecipes_web||[]).push([[296],{1760:(e,t,s)=>{s.d(t,{c:()=>o});var n=s(9060),i=s(264),r=s.n(i),a=s(1112),l=s(5888),c=s(2496);const o=(0,n.forwardRef)(((e,t)=>{let{linkFor:s,className:n,...i}=e;return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(a.cH,{className:r()("headerlink",n),to:"#".concat(s),title:"Permalink to this headline",...i,ref:t,children:"\xb6"}),(0,c.jsx)(l.c,{uriFragmentId:s})]})}))},9448:(e,t,s)=>{s.d(t,{c:()=>r});var n=s(9060),i=s(2496);const r=(0,n.forwardRef)(((e,t)=>{let{src:s,placeholder:r,alt:a,onError:l,...c}=e;const[o,d]=(0,n.useState)(!1);(0,n.useEffect)((()=>{d(!1)}),[s]);const u=(0,n.useCallback)((()=>{d(!0),null===l||void 0===l||l()}),[l]);return(0,i.jsx)("img",{src:o?r:s,alt:a,onError:u,...c,ref:t})}))},5016:(e,t,s)=>{s.d(t,{u:()=>p,M:()=>u});var n=s(9060),i=s(880),r=s(8548),a=s(9160),l=s(5344),c=s(4748),o=s(6240),d=s(2496);class u extends l.c{constructor(){super(...arguments),this.ref=(0,n.createRef)(),this.handleChange=e=>{var t,s;this.setState({value:e}),null===(t=(s=this.props).onChange)||void 0===t||t.call(s,this.props.name,null===e||void 0===e?void 0:e.value)}}focus(){return!(null==this.ref||!this.ref.current)&&(this.ref.current.focus(),!0)}render(){const{value:e,data:t,onChange:s,name:n,style:a,tooltip:l,readOnly:u,disabled:h,label:g,className:p,helpText:m,errors:f,meta:v,...b}=this.props,x=null===t||void 0===t?void 0:t.find((t=>t.value===e));return(0,d.jsx)(i.c.Group,{...this.getGroupProps(),className:this.getFormGroupClassNames(),style:a,children:(0,d.jsxs)(c.c,{condition:null!=l,render:e=>(0,d.jsx)(o.c,{id:"".concat(n,"-tooltip"),tooltip:l,children:e}),children:[this.getLabel({htmlFor:"".concat(n,"-input")}),this.getHelpText(),this.getErrorMessage(),(0,d.jsx)(r.cp,{inputId:"".concat(n,"-input"),name:n,value:x,options:t,isDisabled:u||h,onChange:this.handleChange,className:"react-select-container",classNamePrefix:"creatable-select",placeholder:"",...b,ref:this.ref})]})})}}const h=e=>!!e;function g(e,t){return Array.isArray(t)?e.filter((e=>t.includes(e.value))):null!==(s=e.find((e=>e.value===t)))&&void 0!==s?s:"";var s}class p extends l.c{constructor(e){super(e),this.ref=(0,n.createRef)(),this.handleChange=e=>{if(this.props.onChange){const t=null!=e&&Array.isArray(e)?e.map((e=>e.value)):null===e||void 0===e?void 0:e.value;this.props.onChange(this.props.name,t)}},this.handleCreate=e=>{const t={value:e,label:e};this.setState((e=>({options:[...e.options,t]})),(()=>{if(this.props.isMulti){var s,n;const t=g((null!==(s=this.props.data)&&void 0!==s?s:[]).concat(this.state.options),[...null!==(n=this.props.value)&&void 0!==n?n:[],e]);this.handleChange(t)}else this.handleChange(t)}))},this.state={options:[]}}static getDerivedStateFromProps(e,t){if(null==e.data||0===e.data.length||0===t.options.length)return t;const s=e.data.map((e=>e.value)),n=[...t.options];for(let i=n.length-1;i>=0;--i)s.includes(n[i].value)&&n.splice(i,1);return t.options.length===n.length?t:{...t,options:n}}focus(){return!(null==this.ref||!this.ref.current)&&(this.ref.current.focus(),!0)}render(){const{value:e,data:t,onChange:s,name:n,style:r,tooltip:l,readOnly:u,disabled:p,label:m,className:f,helpText:v,errors:b,meta:x,...y}=this.props,j=(null!==t&&void 0!==t?t:[]).concat(this.state.options),E=g(j,e);return(0,d.jsx)(i.c.Group,{...this.getGroupProps(),className:this.getFormGroupClassNames(),style:r,children:(0,d.jsxs)(c.c,{condition:null!=l,render:e=>(0,d.jsx)(o.c,{id:"".concat(n,"-tooltip"),tooltip:l,children:e}),children:[this.getLabel({htmlFor:"".concat(n,"-input")}),this.getHelpText(),this.getErrorMessage(),(0,d.jsx)(a.c,{inputId:"".concat(n,"-input"),onChange:this.handleChange,isValidNewOption:h,onCreateOption:this.handleCreate,isClearable:!0,value:E,isDisabled:u||p,className:"react-select-container",classNamePrefix:"creatable-select",options:j,placeholder:"",...y,ref:this.ref})]})})}}},7173:(e,t,s)=>{s.d(t,{c:()=>u});var n=s(9060),i=s(544),r=s(6936),a=s(9352),l=s(8330),c=s(8684),o=s(2496);function d(e){var t,s;const n=e.startsWith(null!==(t=(0,l.W4)("PUBLIC_URL"))&&void 0!==t?t:"")?e.substring((null!==(s=(0,l.W4)("PUBLIC_URL"))&&void 0!==s?s:"").length):e,i=n.startsWith("/"),r=n.endsWith("/");return n.substring(i?1:0,r?n.length-1:void 0)}const u=e=>{let{title:t,id:s,state:u,children:h}=e;const g=(0,r.i6)(),p=(0,r.IT)(),m=null===u||void 0===u?void 0:u.meta.error,f=(0,n.useContext)(a.c);return(0,n.useEffect)((()=>{document.title="".concat(null!=t&&t.length>0?"".concat(t," | "):"","OwnRecipes")}),[t]),(0,n.useEffect)((()=>{if(m&&null==s){const e=(0,l.sL)("/NotFound");g(e)}}),[s,m]),(0,o.jsx)(i.c,{id:"main-container",as:"main",className:d(p.pathname),style:{marginTop:"".concat(f.toolbarHeight,"px")},children:(0,o.jsx)(c.c,{verbose:!0,printStack:!0,children:h})})}},7136:(e,t,s)=>{s.d(t,{c:()=>S});var n=s(3152),i=s(9060),r=s(8224),a=s(768),l=s(5640),c=s(7352),o=s(9740),d=s(9720),u=s(6936);function h(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const{navigator:s}=(0,i.useContext)(u.yo);(0,i.useEffect)((()=>{if(!t)return;const n=s.block((t=>{const s={...t,retry(){n(),t.retry()}};e(s)}));return n}),[s,e,t])}((0,i.useCallback)((t=>{window.confirm(e)&&t.retry()}),[e]),t)}var g=s(2496);const p=(0,r.Os)({navigation_warning:{id:"navigationprompt.warning",description:"Prompt displayed when navigating on a dirty page (unsaved changes).",defaultMessage:"You have unsaved changed. If you continue, those change may be lost."}}),m=e=>{let{isDirty:t}=e;const{formatMessage:s}=(0,a.c)(),n=(0,i.useMemo)((()=>s(p.navigation_warning)),[s]),r=h(n,t);return(0,g.jsxs)(g.Fragment,{children:[t&&(0,g.jsx)(d.o,{onBeforeunload:()=>n}),r]})};var f=s(1560),v=s(8162);const b=(0,r.Os)({form_errors_title:{id:"status.form_errors_title",description:"Title for the form error box.",defaultMessage:"The form contains an error."},form_errors_alert:{id:"status.form_errors_alert",description:"Alert text for the form error box.",defaultMessage:"Please fix the described error(s) and continue."},form_errors_table_heading_error:{id:"status.form_errors_table_heading_error",description:"The form-errors will be displayed as table, with an error column. This is the column's title.",defaultMessage:"Error"},form_errors_table_heading_message:{id:"status.form_errors_table_heading_message",description:"The form-errors will be displayed as table, with a message column. This is the column's title.",defaultMessage:"Message"},save_success:{id:"status.save_success",description:"Toast for successfully saved form.",defaultMessage:"Changes saved."}});function x(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"\n",s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:".";return e.map((e=>e.trim())).map((e=>e.endsWith(".")||e.endsWith("!")||e.endsWith("?")?e:"".concat(e).concat(s))).join(t)}const y=e=>{var t,s;let{name:n,err:i}=e;const r=(0,a.c)(),o=null!==(t=null===(s=document.querySelector('[data-api-field="'.concat(n,'"] > label')))||void 0===s?void 0:s.textContent)&&void 0!==t?t:n,d=l.c(i).map((e=>(0,c.MZ)(r,e)||e.message));return(0,g.jsxs)("tr",{children:[(0,g.jsx)("td",{children:o}),(0,g.jsx)("td",{children:x(d)})]})};const j=e=>{let{errors:t}=e;const{formatMessage:s}=(0,a.c)(),n=(0,i.useMemo)((()=>null!=t?function(e){const t=Object.entries(e).filter((e=>{let[t]=e;return!t.startsWith("_")}));return Object.fromEntries(t)}(t):void 0),[t]),r=(0,i.useMemo)((()=>{if(null==n||0===Object.keys(n).length)return[];const e=[];return Object.keys(n).forEach((t=>{const s=n[t];e.push((0,g.jsx)(y,{name:t,err:s},t))})),e}),[n]);if(null==n||0===Object.keys(n).length)return null;const l=(0,g.jsxs)("table",{children:[(0,g.jsx)("thead",{children:(0,g.jsxs)("tr",{children:[(0,g.jsx)("th",{children:s(b.form_errors_table_heading_error)}),(0,g.jsx)("th",{children:s(b.form_errors_table_heading_message)})]})}),(0,g.jsx)("tbody",{children:r})]});return(0,g.jsxs)(o.c,{severity:"danger",className:"form-errors",title:s(b.form_errors_title),children:[l,(0,g.jsx)(f.c,{className:"alert-post-message",children:s(b.form_errors_alert)})]})},E=e=>{let{dirty:t,submitting:s,errors:n,onSubmitSuccess:r}=e;const{formatMessage:l}=(0,a.c)(),c=(0,i.useRef)(!1),[o,d]=(0,i.useState)(!1);(0,i.useEffect)((()=>{!0===c.current&&!1===s&&null==n&&(d(!0),null===r||void 0===r||r()),c.current=s}),[s]),(0,i.useEffect)((()=>{t&&o&&d(!1)}),[t]);const u=(0,i.useCallback)((()=>{d(!1)}),[]);return(0,g.jsx)(v.c,{show:o,variant:"success",anchorOrigin:{horizontal:"center",vertical:"bottom"},onClose:u,children:l(b.save_success)})},_=e=>{let{dirty:t,submitting:s,errors:n,onSubmitSuccess:i}=e;return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(m,{isDirty:t}),(0,g.jsx)(j,{errors:n}),(0,g.jsx)(E,{dirty:t,submitting:s,onSubmitSuccess:i,errors:n})]})},S=e=>{let{onSubmitSuccess:t}=e;return(0,g.jsx)(n.Wu,{subscription:{dirty:!0,submitting:!0,submitErrors:!0},children:e=>{let{dirty:s,submitting:n,submitErrors:i}=e;return(0,g.jsx)(_,{dirty:s,submitting:n,errors:i,onSubmitSuccess:t})}})}},8162:(e,t,s)=>{s.d(t,{c:()=>d});var n=s(9060),i=s(4720),r=s(264),a=s.n(r),l=s(5404),c=s(2496);function o(e){return 0===e.length?"":1===e.length?e.toUpperCase():e.charAt(0).toUpperCase()+e.slice(1)}const d=(0,n.forwardRef)(((e,t)=>{let{show:s,autoHide:n=6e3,variant:r,anchorOrigin:d,onClose:u,children:h,className:g,...p}=e;const m=null!=d?"Toast-anchorOrigin".concat(o(d.vertical)).concat(o(d.horizontal)):void 0;return(0,c.jsx)(i.c,{show:s,delay:n,autohide:n>0,className:a()("simple-toast",g,m,{success:"success"===r}),onClose:u,...p,ref:t,children:(0,c.jsx)(i.c.Header,{closeButton:null!=u,children:(0,c.jsxs)(c.Fragment,{children:["success"===r&&(0,c.jsx)("div",{className:"toast-icon",children:(0,c.jsx)(l.c,{icon:"check",variant:"light",size:"2x"})}),(0,c.jsx)("span",{className:"toast-title",children:h})]})})})}))},1808:(e,t,s)=>{s.d(t,{Y:()=>l});var n=s(9060),i=s(264),r=s.n(i),a=s(2496);const l=(0,n.forwardRef)(((e,t)=>{let{position:s="start",children:n,className:i,...l}=e;return(0,a.jsx)("div",{className:r()("toolbar",i,{[s]:s}),...l,ref:t,children:n})}))},8680:(e,t,s)=>{s.d(t,{c:()=>l});var n=s(9060),i=s(264),r=s.n(i),a=s(2496);const l=(0,n.forwardRef)(((e,t)=>{let{height:s,width:n,children:i,className:l,style:c,...o}=e;return(0,a.jsx)("div",{style:{paddingTop:"".concat(s,"%"),width:"".concat(n,"%"),position:"relative",...c},className:r()("width-height-ratio",l),...o,ref:t,children:i})}))},3745:(e,t,s)=>{s.d(t,{c:()=>u});var n=s(9060),i=s(264),r=s.n(i),a=(s(6504),s(1760)),l=s(8436),c=s(8330),o=s(2496);function d(e,t,s,n){if(0===s.length)return;const i=function(e,t){const s=t.findIndex((t=>t.title===e));if(s>=0)return t.splice(s,1)[0]}(t,n);e.push({heading:t,directions:s,ingredients:i?[i]:void 0})}const u=e=>{let{directions:t,ingredients:s}=e;const i=(0,n.useMemo)((()=>function(e,t){const s=[...t],n=e.includes("\n"),i=[];let r=[],a="";return n?(e.split("\n").filter((e=>e.length>0)).forEach((e=>{e.endsWith(":")?(d(i,a,r,s),a=e.substring(0,e.length-1),r=[]):r.push(e)})),d(i,a,r,s)):d(i,"",[e],s),function(e,t){if(0===t.length)return;const s=e.find((e=>!e.heading));s?s.ingredients?s.ingredients.push(...t):s.ingredients=[...t]:e.unshift({directions:[],ingredients:[...t]}),t.splice(0,t.length)}(i,s),i}(t,s)),[t,s]),u=(0,n.useMemo)((()=>{return(e=i).filter((e=>e.directions.length>0||null!=e.ingredients&&e.ingredients.length>0)).map((t=>{var s;let n;1===t.directions.length?n=(0,o.jsx)("div",{className:"direction",children:t.directions[0]}):t.directions.length>1&&(n=(0,o.jsx)("ol",{className:"directions",children:t.directions.map((e=>(0,o.jsx)("li",{className:"direction",children:e},e)))}));const i=!t.heading,d=(0,c.sV)(null!==(s=t.heading)&&void 0!==s?s:"");return(0,o.jsxs)("div",{className:r()("subgroup",d),children:[t.heading&&(0,o.jsxs)("h3",{id:"direction-".concat(d),children:["".concat(t.heading,":"),(0,o.jsx)(a.c,{linkFor:"direction-".concat(d)})]}),t.ingredients&&t.ingredients.length>0&&(0,o.jsx)("div",{className:"ingredients",children:(0,o.jsx)(l.c,{groups:t.ingredients,hasSubrecipes:i&&e.length>1})}),n]},d)}));var e}),[i]);return(0,o.jsx)(o.Fragment,{children:u})}},8436:(e,t,s)=>{s.d(t,{c:()=>r});s(8944);var n=s(1772),i=s(2496);const r=e=>{let{groups:t,hasSubrecipes:s,withHeaderLink:r,selectable:a}=e;const l=s||null!=t&&t.length>1,c=null===t||void 0===t?void 0:t.filter((e=>e.title||e.ingredients.length>0)).map((e=>(0,i.jsx)("div",{className:"subgroup ingredient-group",children:(0,i.jsx)(n.c,{showCaptions:l,group:e,withHeaderLink:r,data:e.ingredients,selectable:a})},e.slug||e.title)));return(0,i.jsx)(i.Fragment,{children:c})}},1772:(e,t,s)=>{s.d(t,{c:()=>p,y:()=>g});var n=s(9060),i=s(1752),r=s(8224),a=s(768),l=s(2068),c=s(1760),o=s(8330),d=s(5292),u=s(2496);const h=(0,r.Os)({quantity:{id:"ingredients.table.quantity",description:"Ingredients table quantity header",defaultMessage:"Quantity"},ingredient:{id:"ingredients.table.ingredient",description:"Ingredients table ingredient header",defaultMessage:"Ingredient"}});function g(e,t,s,n){let i;if(null!=s){const r=t.formatter[t.parser[s]];i=null!=r?(0,o.$Q)(e,"measurement.",r,{itemCount:n}):s}else i="";return i}const p=e=>{let{showCaptions:t,group:s,data:r,withHeaderLink:p,selectable:m}=e;const f=(0,a.c)(),{formatMessage:v}=f,b=(0,n.useContext)(l.c),x=t&&s.title?s.title:void 0,y=(0,o.sV)(null!==x&&void 0!==x?x:""),j=r.map(((e,t)=>{var n;const i=e.quantity,r=g(f,b,e.measurement,e.quantity),a=e.title,l=[i,r,a].join(" "),c=Boolean(i)||Boolean(r);return(0,u.jsxs)("tr",{className:"ingredient",children:[m&&(0,u.jsx)("td",{className:"selection",children:(0,u.jsx)(d.c,{label:l,className:"label-sr-only",name:"ingredients.".concat(s.slug,".cb-").concat(e.id)})}),(0,u.jsx)("td",{className:"quantity",children:c&&(0,u.jsxs)("span",{children:[i,null!=i&&i.length>0&&r.length>0&&" ",r]})}),(0,u.jsx)("td",{className:"ingredient",children:(0,u.jsx)("span",{children:a})})]},(null!==(n=e.id)&&void 0!==n?n:t).toString())}));return(0,u.jsxs)(i.c,{striped:!0,size:"sm",className:"table ingredients-table",children:[x&&(0,u.jsxs)("caption",{id:p?"ingredients-".concat(y):void 0,className:"subheading h3",children:["".concat(x,":"),p&&(0,u.jsx)(c.c,{linkFor:"ingredients-".concat(y)})]}),(0,u.jsx)("thead",{className:"hideme",children:(0,u.jsxs)("tr",{children:[m&&(0,u.jsx)("th",{children:(0,u.jsx)("span",{children:"Selection"})}),(0,u.jsx)("th",{children:(0,u.jsx)("span",{children:v(h.quantity)})}),(0,u.jsx)("th",{children:(0,u.jsx)("span",{children:v(h.ingredient)})})]})}),(0,u.jsx)("tbody",{children:j})]})}},5388:(e,t,s)=>{s.d(t,{c:()=>p});var n=s(264),i=s.n(n),r=s(1752),a=s(8224),l=s(768),c=s(1112),o=s(1760),d=s(5292),u=s(8330),h=s(2496);const g=(0,a.Os)({subrecipes:{id:"subrecipes.subrecipes heading",description:"Subrecipes header",defaultMessage:"Subrecipes"},quantity:{id:"subrecipes.table.quantity",description:"Subrecipes table quantity header",defaultMessage:"Quantity"},subrecipe:{id:"subrecipes.table.subrecipe",description:"Subrecipes table ingredient header",defaultMessage:"Subrecipe"}}),p=e=>{let{subRecipes:t,withHeaderLink:s,selectable:n}=e;const a=(0,l.c)(),p=null==t||t.filter((e=>null!=e.quantity&&e.quantity.length>0&&"0"!==e.quantity||null!=e.measurement&&e.measurement.length>0)).length>0,m=null===t||void 0===t?void 0:t.map(((e,t)=>{var s;const r=null!=e.quantity&&e.quantity.length>0&&"0"!==e.quantity?e.quantity:"",l=null!=e.measurement?(0,u.$Q)(a,"measurement.",e.measurement,{itemCount:e.quantity}):"",o=e.title,g=[r,l,o].join(" ");return(0,h.jsxs)("tr",{className:"ingredient",children:[n&&(0,h.jsx)("td",{className:"selection",children:(0,h.jsx)(d.c,{label:g,className:"label-sr-only",name:"subrecipes.cb-".concat(e.child_recipe_id)})}),p&&(0,h.jsx)("td",{className:"quantity first-col",children:(0,h.jsxs)("span",{children:[r,null!=r&&r.length>0&&l.length>0&&" ",l]})}),(0,h.jsx)("td",{className:i()("ingredient last-col",{"first-col":p}),children:(0,h.jsx)("span",{children:(0,h.jsx)(c.cH,{to:(0,u.sL)("/recipe/".concat(e.slug)),className:"title",children:o})})})]},(null!==(s=e.child_recipe_id)&&void 0!==s?s:t).toString())}));return null==m||0===m.length?null:(0,h.jsx)("div",{className:"subgroup ingredient-group",children:(0,h.jsxs)(r.c,{striped:!0,size:"sm",className:"table ingredients-table",children:[(0,h.jsxs)("caption",{id:s?"subrecipes":void 0,className:"subheading h3",children:["".concat(a.formatMessage(g.subrecipes),":"),s&&(0,h.jsx)(o.c,{linkFor:"subrecipes"})]}),(0,h.jsx)("thead",{className:"hideme",children:(0,h.jsxs)("tr",{children:[n&&(0,h.jsx)("th",{children:(0,h.jsx)("span",{children:"Selection"})}),p&&(0,h.jsx)("th",{children:(0,h.jsx)("span",{children:a.formatMessage(g.quantity)})}),(0,h.jsx)("th",{children:(0,h.jsx)("span",{children:a.formatMessage(g.subrecipe)})})]})}),(0,h.jsx)("tbody",{children:m})]})})}},9340:(e,t,s)=>{s.d(t,{AJ:()=>d,Bh:()=>u,Se:()=>h,Wm:()=>g,Ws:()=>o,a_:()=>p});var n=s(1480),i=s(2672),r=s(6320),a=s(7804),l=s(3536),c=s(8936);const o=e=>({...(0,a.gB)(c.EV,r.y.GET_SUCCESS),payload:e}),d=e=>t=>{t({...(0,a.gB)(c.EV,r.y.GET_START)}),(0,n.cp)().get("".concat(i.Q.recipe).concat(e,"/")).then((e=>{t(o((0,c.yW)(e.body)))})).catch((e=>t((0,l.GW)(e,c.EV))))},u=(e,t)=>s=>{s({...(0,a.gB)(c.EV,r.y.DELETE_START)}),(0,n.cp)().delete("".concat(i.Q.recipe).concat(t,"/")).then((()=>{s({...(0,a.gB)(c.EV,c.Vw.RECIPE_DELETE),payload:{id:e}})})).catch((e=>s((0,l.GW)(e,c.EV))))},h=(e,t)=>s=>{s({...(0,a.gB)(c.EV,c.Vw.RECIPE_INGREDIENT_SERVINGS_UPDATE),payload:{recipeSlug:e,customServings:t}})},g=e=>t=>{t({...(0,a.gB)(c.EV,r.y.PRELOAD),payload:e})},p=()=>e=>{e({...(0,a.gB)(c.EV,r.y.RESET)})}},8836:(e,t,s)=>{s.d(t,{AJ:()=>h,Wm:()=>g,a_:()=>p,eI:()=>m,gB:()=>v});var n=s(1480),i=s(2672),r=s(6320),a=s(7804),l=s(3536),c=s(8936),o=s(6524),d=s(9340),u=s(8248);const h=e=>t=>{t({...(0,a.gB)(u.O,r.y.GET_START)}),(0,n.cp)().get("".concat(i.Q.recipe).concat(e,"/")).then((e=>{const s=(0,c.yW)(e.body);t({...(0,a.gB)(u.O,r.y.GET_SUCCESS),payload:s}),t((0,d.Ws)(s))})).catch((e=>t((0,l.GW)(e,u.O))))},g=e=>t=>{t({...(0,a.gB)(u.O,r.y.PRELOAD),payload:e})},p=()=>e=>{e({...(0,a.gB)(u.O,r.y.RESET)})},m=async(e,t)=>{const s="object"===typeof t.photo?t.photo:void 0,o=!t.id,h=o?(0,n.cp)().post(i.Q.recipe):(0,n.cp)().patch("".concat(i.Q.recipe).concat(t.slug,"/"));e({...(0,a.gB)(u.O,o?r.y.CREATE_START:r.y.UPDATE_START)});const g=(0,c.sF)(t);return h.send(g).then((h=>{if(s)return(0,n.cp)().patch("".concat(i.Q.recipe).concat(h.body.slug,"/")).attach("photo",s).then((s=>{const n=(0,c.yW)(s.body);e({...(0,a.gB)(u.O,o?r.y.CREATE_SUCCESS:r.y.UPDATE_SUCCESS),oldId:t.id,payload:n}),e((0,d.Ws)(n))})).catch((t=>(0,l.iu)(e,t,u.O)));{const s=(0,c.yW)(h.body);e({...(0,a.gB)(u.O,o?r.y.CREATE_SUCCESS:r.y.UPDATE_SUCCESS),oldId:o?null:t.id,payload:s}),e((0,d.Ws)(s))}return e(f(t,(0,c.yW)(h.body))),null})).catch((t=>(0,l.iu)(e,t,u.O)))},f=(e,t)=>s=>{var n,i,l,c,d,u;(null===(n=e.course)||void 0===n?void 0:n.id)!==(null===(i=t.course)||void 0===i?void 0:i.id)&&s({...(0,a.gB)(o.m2,r.y.RESET)}),(null===(l=e.cuisine)||void 0===l?void 0:l.id)!==(null===(c=t.cuisine)||void 0===c?void 0:c.id)&&s({...(0,a.gB)(o.ii,r.y.RESET)}),(null===(d=e.tags)||void 0===d?void 0:d.map((e=>e.id)).join("/"))!==(null===(u=t.tags)||void 0===u?void 0:u.map((e=>e.id)).join("/"))&&s({...(0,a.gB)(o.Uz,r.y.RESET)})},v=e=>(0,n.cp)().get("".concat(i.Q.recipe,"?fields=id,title,slug&limit=5&search=").concat(e)).then((e=>e.body.results.map((e=>({key:e.slug,name:e.slug,char:e.title}))))).catch((()=>[]))},6504:()=>{},8944:()=>{},3688:()=>{}}]);
//# sourceMappingURL=296.237bac8d.chunk.js.map