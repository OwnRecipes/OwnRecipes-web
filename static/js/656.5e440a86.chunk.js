"use strict";(self.webpackChunkownrecipes_web=self.webpackChunkownrecipes_web||[]).push([[656,685],{7412:(e,s,i)=>{i.d(s,{c:()=>a});var r=i(9060);function a(e,s){(0,r.useEffect)((()=>{null==s&&e()}),[e,s])}},1828:(e,s,i)=>{i.r(s),i.d(s,{default:()=>E});var r=i(9060),a=i(768),l=i(1112),n=i(9340),t=i(1996),o=i(7748),c=i(7804);const d={limit:6};var u=i(7173),h=i(9052),m=i(2136),_=i(8224),g=(i(5424),i(5404)),f=i(1560),p=i(2496);const v=(0,_.Os)({search_nothing_found_yet_heading:{id:"random.reload.heading",description:"Nothing found?",defaultMessage:"Not the right one?"},search_nothing_found_yet:{id:"random.reload.text",description:"Nothing found? Text",defaultMessage:"Just give it another try."},search_reload_button:{id:"random.reload.button",description:"Title/tooltip of the icon button to reload to recipes.",defaultMessage:"Reload recipes"}}),b=e=>{let{onReloadClick:s}=e;const{formatMessage:i}=(0,a.c)();return(0,p.jsx)("div",{className:"search-reload reload-container print-hidden",children:(0,p.jsxs)("div",{className:"search-reload modal-content",children:[(0,p.jsxs)("div",{className:"search-reload-box",children:[(0,p.jsx)("h2",{children:i(v.search_nothing_found_yet_heading)}),(0,p.jsx)(f.c,{children:i(v.search_nothing_found_yet)})]}),(0,p.jsx)("div",{className:"search-reload-button-box",children:(0,p.jsx)(m.c,{id:"reload-random-button",variant:"primary","aria-label":i(v.search_reload_button),onClick:s,children:(0,p.jsx)(g.c,{icon:"arrow-repeat",variant:"light"})})})]})})};var y=i(4120),x=i(2016),k=i(8330);const j=(0,_.Os)({filter_by_course:{id:"random.search.menu.filter_by_course_dropdown",description:"Filter by main/...",defaultMessage:"Course: {course}"},filter_by_cuisine:{id:"random.search.menu.filter_by_cuisine_dropdown",description:"Filter by indian/...",defaultMessage:"Cuisine: {cuisine}"},filter_all:{id:"random.search.menu.filter_all",description:"Item to not filter at all",defaultMessage:"(All)"}}),C=e=>{var s,i;let{search:n,qs:t,courses:o,cuisines:c,buildUrl:d}=e;const u=(0,a.c)(),{formatMessage:h}=u,m=h(j.filter_all),_=null!==(s=t.course__slug)&&void 0!==s?s:"",g=(0,r.useCallback)(((e,s)=>{_===s&&e.preventDefault()}),[_]),f=null===o||void 0===o?void 0:o.map((e=>({key:e.title,value:(0,k.$Q)(u,"course.",e.title)}))).sort(((e,s)=>e.value.localeCompare(s.value)));null===f||void 0===f||f.unshift({key:"",value:m});const v=null===f||void 0===f?void 0:f.map((e=>(0,p.jsx)(x.c.Item,{as:l.cH,to:d("course__slug",e.key),active:_===e.key,onClick:s=>g(s,e.key),children:e.value},e.key))),b=null!==(i=t.cuisine__slug)&&void 0!==i?i:"",C=(0,r.useCallback)(((e,s)=>{b===s&&e.preventDefault()}),[b]),S=null===c||void 0===c?void 0:c.map((e=>({key:e.title,value:(0,k.$Q)(u,"cuisine.",e.title)}))).sort(((e,s)=>e.value.localeCompare(s.value)));null===S||void 0===S||S.unshift({key:"",value:m});const w=null===S||void 0===S?void 0:S.map((e=>(0,p.jsx)(x.c.Item,{as:l.cH,to:d("cuisine__slug",e.key),active:b===e.key,onClick:s=>C(s,e.key),children:e.value},e.key)));return(0,p.jsxs)(y.c,{xs:1,xl:"auto",className:"search-menu",children:[(0,p.jsxs)(x.c,{className:"filter-course-dropdown",children:[(0,p.jsx)(x.c.Toggle,{variant:"outline-primary",id:"filter-course-button",disabled:null==n,children:h(j.filter_by_course,{course:_?(0,k.$Q)(u,"course.",_):m})}),(0,p.jsx)(x.c.Menu,{children:v})]}),(0,p.jsxs)(x.c,{className:"filter-cuisine-dropdown",children:[(0,p.jsx)(x.c.Toggle,{variant:"outline-primary",id:"filter-cuisine-button",disabled:null==n,children:h(j.filter_by_cuisine,{cuisine:b?(0,k.$Q)(u,"cuisine.",b):m})}),(0,p.jsx)(x.c.Menu,{children:w})]})]})},S=(0,_.Os)({random_heading:{id:"random.heading",description:"Heading of the random page.",defaultMessage:"Random recipe"},random_text:{id:"random.heading.text",description:"Some nice text above the random search results.",defaultMessage:"Looking for an awesome meal? There are plenty waiting for you!"}}),w=e=>{let{search:s,courses:i,cuisines:r,qs:l,qsString:n,buildUrl:t}=e;const{formatMessage:o}=(0,a.c)(),c=null===s||void 0===s?void 0:s[n];return(0,p.jsxs)(y.c,{xs:1,sm:2,className:"random-header-container",children:[(0,p.jsxs)("div",{children:[(0,p.jsx)("h2",{children:o(S.random_heading)}),(0,p.jsx)(f.c,{children:o(S.random_text)})]}),(0,p.jsx)(C,{qs:l,search:c,courses:i,cuisines:r,buildUrl:t})]})};var M=i(7412),T=i(5136);const E=()=>{const e=(0,a.c)(),s=(0,c.OY)(),[i]=(0,l.k5)(),m=(0,c.w1)((e=>e.browse.browserSearch.items)),_=(0,r.useMemo)((()=>Object.fromEntries(i)),[i]),g=(0,r.useMemo)((()=>(0,h.mergeDefaultFilters)(d,_)),[d,_]),f=(0,r.useMemo)((()=>(0,k.EZ)(g)),[g]),v=(0,r.useCallback)((()=>{s(o.WG())}),[]),y=(0,c.w1)((e=>e.recipeGroups.courses.items));(0,M.c)(v,y);const x=(0,r.useCallback)((()=>{s(o.uk())}),[]),j=(0,c.w1)((e=>e.recipeGroups.cuisines.items));(0,M.c)(x,j);const C=(0,r.useCallback)((()=>{s(t.Mx(g))}),[g]);(0,r.useEffect)((()=>{C()}),[i]);const S=(0,r.useCallback)((function(e,s){let i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return(0,h.buildSearchUrl)("random",_,e,s,i)}),[h.buildSearchUrl,_]),E=(0,r.useCallback)((e=>{s(n.Wm(e))}),[]);return(0,p.jsxs)(u.c,{title:e.messages["nav.recipes"],children:[(0,p.jsx)(w,{search:m,courses:y,cuisines:j,qs:_,qsString:f,buildUrl:S}),(0,p.jsx)(T.c,{qs:_,qsString:f,buildUrl:S,onOpenRecipe:E}),(0,p.jsx)(b,{onReloadClick:C})]})}},7748:(e,s,i)=>{i.d(s,{WG:()=>d,uk:()=>u,y8:()=>h});var r=i(1480),a=i(2672),l=i(6320),n=i(8936),t=i(7804),o=i(3536),c=i(6524);const d=()=>e=>{e({...(0,t.gB)(c.m2,l.y.GET_START)}),(0,r.cp)().get(a.Q.course).then((s=>{e({...(0,t.gB)(c.m2,l.y.GET_SUCCESS),payload:s.body.results.filter((e=>"-"!==e.title)).map(n.qQ)})})).catch((s=>e((0,o.GW)(s,c.m2))))},u=()=>e=>{e({...(0,t.gB)(c.ii,l.y.GET_START)}),(0,r.cp)().get(a.Q.cuisine).then((s=>{e({...(0,t.gB)(c.ii,l.y.GET_SUCCESS),payload:s.body.results.filter((e=>"-"!==e.title)).map(n._K)})})).catch((s=>e((0,o.GW)(s,c.ii))))},h=()=>e=>{e({...(0,t.gB)(c.Uz,l.y.GET_START)}),(0,r.cp)().get(a.Q.tag).then((s=>{e({...(0,t.gB)(c.Uz,l.y.GET_SUCCESS),payload:s.body.results.map(n.Yb)})})).catch((s=>e((0,o.GW)(s,c.Uz))))}}}]);
//# sourceMappingURL=656.5e440a86.chunk.js.map