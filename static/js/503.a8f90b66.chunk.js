"use strict";(self.webpackChunkownrecipes_web=self.webpackChunkownrecipes_web||[]).push([[503,194],{1418:function(e,n,r){r.d(n,{Z:function(){return t}});var i=r(2791);function t(e,n){(0,i.useEffect)((function(){null==n&&e()}),[e,n])}},5124:function(e,n,r){r.r(n),r.d(n,{default:function(){return U}});var i=r(885),t=r(2791),o=r(3539),s=r(3504),u=r(297),a=r(5404),c=r(63),l=r(9656),d={limit:4},f=r(3976),h=r(1219),m=r(3360),v=r(6221),_=(r(7493),r(78)),p=r(1127),g=r(184),b=(0,v.vU)({search_nothing_found_yet_heading:{id:"random.reload.heading",description:"Nothing found?",defaultMessage:"Not the right one?"},search_nothing_found_yet:{id:"random.reload.text",description:"Nothing found? Text",defaultMessage:"Just give it another try."},search_reload_button:{id:"random.reload.button",description:"Title/tooltip of the icon button to reload to recipes.",defaultMessage:"Reload recipes"}}),x=function(e){var n=e.onReloadClick,r=(0,o.Z)().formatMessage;return(0,g.jsx)("div",{className:"search-reload reload-container print-hidden",children:(0,g.jsxs)("div",{className:"search-reload modal-content",children:[(0,g.jsxs)("div",{className:"search-reload-box",children:[(0,g.jsx)("h2",{children:r(b.search_nothing_found_yet_heading)}),(0,g.jsx)(p.Z,{children:r(b.search_nothing_found_yet)})]}),(0,g.jsx)("div",{className:"search-reload-button-box",children:(0,g.jsx)(m.Z,{id:"reload-random-button",variant:"primary","aria-label":r(b.search_reload_button),onClick:n,children:(0,g.jsx)(_.Z,{icon:"arrow-repeat",variant:"light"})})})]})})},y=r(9743),k=r(9723),Z=r(1884),j=(0,v.vU)({filter_by_course:{id:"random.search.menu.filter_by_course_dropdown",description:"Filter by main/...",defaultMessage:"Course: {course}"},filter_by_cuisine:{id:"random.search.menu.filter_by_cuisine_dropdown",description:"Filter by indian/...",defaultMessage:"Cuisine: {cuisine}"},filter_all:{id:"random.search.menu.filter_all",description:"Item to not filter at all",defaultMessage:"(All)"}}),C=function(e){var n,r,i=e.search,u=e.qs,a=e.courses,c=e.cuisines,l=e.buildUrl,d=(0,o.Z)(),f=d.formatMessage,h=f(j.filter_all),m=null!==(n=u.course__slug)&&void 0!==n?n:"",v=(0,t.useCallback)((function(e,n){m===n&&e.preventDefault()}),[m]),_=null===a||void 0===a?void 0:a.map((function(e){return{key:e.title,value:(0,Z.kT)(d,"course.",e.title)}})).sort((function(e,n){return e.value.localeCompare(n.value)}));null===_||void 0===_||_.unshift({key:"",value:h});var p=null===_||void 0===_?void 0:_.map((function(e){return(0,g.jsx)(k.Z.Item,{as:s.rU,to:l("course__slug",e.key),active:m===e.key,onClick:function(n){return v(n,e.key)},children:e.value},e.key)})),b=null!==(r=u.cuisine__slug)&&void 0!==r?r:"",x=(0,t.useCallback)((function(e,n){b===n&&e.preventDefault()}),[b]),C=null===c||void 0===c?void 0:c.map((function(e){return{key:e.title,value:(0,Z.kT)(d,"cuisine.",e.title)}})).sort((function(e,n){return e.value.localeCompare(n.value)}));null===C||void 0===C||C.unshift({key:"",value:h});var S=null===C||void 0===C?void 0:C.map((function(e){return(0,g.jsx)(k.Z.Item,{as:s.rU,to:l("cuisine__slug",e.key),active:b===e.key,onClick:function(n){return x(n,e.key)},children:e.value},e.key)}));return(0,g.jsxs)(y.Z,{xs:1,xl:"auto",className:"search-menu",children:[(0,g.jsxs)(k.Z,{className:"filter-course-dropdown",children:[(0,g.jsx)(k.Z.Toggle,{variant:"outline-primary",id:"filter-course-button",disabled:null==i,children:f(j.filter_by_course,{course:m?(0,Z.kT)(d,"course.",m):h})}),(0,g.jsx)(k.Z.Menu,{children:p})]}),(0,g.jsxs)(k.Z,{className:"filter-cuisine-dropdown",children:[(0,g.jsx)(k.Z.Toggle,{variant:"outline-primary",id:"filter-cuisine-button",disabled:null==i,children:f(j.filter_by_cuisine,{cuisine:b?(0,Z.kT)(d,"cuisine.",b):h})}),(0,g.jsx)(k.Z.Menu,{children:S})]})]})},S=(0,v.vU)({random_heading:{id:"random.heading",description:"Heading of the random page.",defaultMessage:"Random recipe"},random_text:{id:"random.heading.text",description:"Some nice text above the random search results.",defaultMessage:"Looking for an awesome meal? There are plenty waiting for you!"}}),T=function(e){var n=e.search,r=e.courses,i=e.cuisines,t=e.qs,s=e.qsString,u=e.buildUrl,a=(0,o.Z)().formatMessage,c=null===n||void 0===n?void 0:n[s];return(0,g.jsxs)(y.Z,{xs:1,sm:2,className:"random-header-container",children:[(0,g.jsxs)("div",{children:[(0,g.jsx)("h2",{children:a(S.random_heading)}),(0,g.jsx)(p.Z,{children:a(S.random_text)})]}),(0,g.jsx)(C,{qs:t,search:c,courses:r,cuisines:i,buildUrl:u})]})},M=r(1418),w=r(2896),U=function(){var e=(0,o.Z)(),n=(0,l.I0)(),r=(0,s.lr)(),m=(0,i.Z)(r,1)[0],v=(0,l.v9)((function(e){return e.browse.browserSearch.items})),_=(0,t.useMemo)((function(){return Object.fromEntries(m)}),[m]),p=(0,t.useMemo)((function(){return(0,h.mergeDefaultFilters)(d,_)}),[d,_]),b=(0,t.useMemo)((function(){return(0,Z.pj)(p)}),[p]),y=(0,t.useCallback)((function(){n(c.fetchCourses())}),[n,c]),k=(0,l.v9)((function(e){return e.recipeGroups.courses.items}));(0,M.Z)(y,k);var j=(0,t.useCallback)((function(){n(c.fetchCuisines())}),[n,c]),C=(0,l.v9)((function(e){return e.recipeGroups.cuisines.items}));(0,M.Z)(j,C);var S=(0,t.useCallback)((function(){n(a.f(p))}),[n,p]);(0,t.useEffect)((function(){S()}),[m]);var U=(0,t.useCallback)((function(e,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return(0,h.buildSearchUrl)("random",_,e,n,r)}),[h.buildSearchUrl,_]),E=(0,t.useCallback)((function(e){n(u.MA(e))}),[n]);return(0,g.jsxs)(f.Z,{title:e.messages["nav.recipes"],children:[(0,g.jsx)(T,{search:v,courses:k,cuisines:C,qs:_,qsString:b,buildUrl:U}),(0,g.jsx)(w.Z,{qs:_,qsString:b,buildUrl:U,onOpenRecipe:E}),(0,g.jsx)(x,{onReloadClick:S})]})}},63:function(e,n,r){r.r(n),r.d(n,{fetchCourses:function(){return l},fetchCuisines:function(){return d},fetchTags:function(){return f}});var i=r(1413),t=r(7572),o=r(8263),s=r(7728),u=r(6879),a=r(1220),c=r(9656),l=function(){return function(e){e((0,i.Z)({},(0,c.s_)(a.pq,s.o.GET_START))),(0,t.WY)().get(o.m.course).then((function(n){e((0,i.Z)((0,i.Z)({},(0,c.s_)(a.pq,s.o.GET_SUCCESS)),{},{payload:n.body.results.filter((function(e){return"-"!==e.title})).map(u.Xi)}))})).catch((function(n){return e((0,t.S3)(n,a.pq))}))}},d=function(){return function(e){e((0,i.Z)({},(0,c.s_)(a.xv,s.o.GET_START))),(0,t.WY)().get(o.m.cuisine).then((function(n){e((0,i.Z)((0,i.Z)({},(0,c.s_)(a.xv,s.o.GET_SUCCESS)),{},{payload:n.body.results.filter((function(e){return"-"!==e.title})).map(u.dS)}))})).catch((function(n){return e((0,t.S3)(n,a.xv))}))}},f=function(){return function(e){e((0,i.Z)({},(0,c.s_)(a.ic,s.o.GET_START))),(0,t.WY)().get(o.m.tag).then((function(n){e((0,i.Z)((0,i.Z)({},(0,c.s_)(a.ic,s.o.GET_SUCCESS)),{},{payload:n.body.results.map(u.uk)}))})).catch((function(n){return e((0,t.S3)(n,a.ic))}))}}},7493:function(){}}]);
//# sourceMappingURL=503.a8f90b66.chunk.js.map