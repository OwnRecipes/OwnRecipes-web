"use strict";(self.webpackChunkownrecipes_web=self.webpackChunkownrecipes_web||[]).push([[791,946],{1418:function(e,n,r){r.d(n,{Z:function(){return t}});var i=r(2791);function t(e,n){(0,i.useEffect)((function(){null==n&&e()}),[e,n])}},5124:function(e,n,r){r.r(n),r.d(n,{default:function(){return S}});var i=r(885),t=r(2791),o=r(3539),s=r(297),u=r(5404),a=r(63),c=r(9656),l={limit:4},d=r(3976),f=r(1219),h=r(3360),m=r(6221),v=(r(7493),r(78)),_=r(1127),p=r(184),g=function(e){var n=e.onReloadClick,r=(0,o.Z)().formatMessage,i=(0,m.vU)({search_nothing_found_yet_heading:{id:"random.reload.heading",description:"Nothing found?",defaultMessage:"Not the right one?"},search_nothing_found_yet:{id:"random.reload.text",description:"Nothing found? Text",defaultMessage:"Just give it another try."},search_reload_button:{id:"random.reload.button",description:"Title/tooltip of the icon button to reload to recipes.",defaultMessage:"Reload recipes"}});return(0,p.jsx)("div",{className:"search-reload reload-container",children:(0,p.jsxs)("div",{className:"search-reload modal-content",children:[(0,p.jsxs)("div",{className:"search-reload-box",children:[(0,p.jsx)("h2",{children:r(i.search_nothing_found_yet_heading)}),(0,p.jsx)(_.Z,{children:r(i.search_nothing_found_yet)})]}),(0,p.jsx)("div",{className:"search-reload-button-box",children:(0,p.jsx)(h.Z,{id:"reload-random-button",variant:"primary","aria-label":r(i.search_reload_button),onClick:n,children:(0,p.jsx)(v.Z,{icon:"arrow-repeat",variant:"light"})})})]})})},b=r(9743),x=r(9723),y=r(3504),Z=r(1884),k=function(e){var n,r,i=e.search,t=e.qs,s=e.courses,u=e.cuisines,a=e.buildUrl,c=(0,o.Z)(),l=c.formatMessage,d=(0,m.vU)({filter_by_course:{id:"random.search.menu.filter_by_course_dropdown",description:"Filter by main/...",defaultMessage:"Course: {course}"},filter_by_cuisine:{id:"random.search.menu.filter_by_cuisine_dropdown",description:"Filter by indian/...",defaultMessage:"Cuisine: {cuisine}"},filter_all:{id:"random.search.menu.filter_all",description:"Item to not filter at all",defaultMessage:"(All)"}}),f=l(d.filter_all),h=null!==(n=t.course__slug)&&void 0!==n?n:"",v=null===s||void 0===s?void 0:s.map((function(e){return{key:e.title,value:(0,Z.kT)(c,"course.",e.title)}})).sort((function(e,n){return e.value.localeCompare(n.value)}));null===v||void 0===v||v.unshift({key:"",value:f});var _=null===v||void 0===v?void 0:v.map((function(e){return(0,p.jsx)(x.Z.Item,{as:y.rU,to:a("course__slug",e.key),active:h===e.key,onClick:function(n){return function(e,n){h===n&&e.preventDefault()}(n,e.key)},children:e.value},e.key)})),g=null!==(r=t.cuisine__slug)&&void 0!==r?r:"",k=null===u||void 0===u?void 0:u.map((function(e){return{key:e.title,value:(0,Z.kT)(c,"cuisine.",e.title)}})).sort((function(e,n){return e.value.localeCompare(n.value)}));null===k||void 0===k||k.unshift({key:"",value:f});var j=null===k||void 0===k?void 0:k.map((function(e){return(0,p.jsx)(x.Z.Item,{as:y.rU,to:a("cuisine__slug",e.key),active:g===e.key,onClick:function(n){return function(e,n){g===n&&e.preventDefault()}(n,e.key)},children:e.value},e.key)}));return(0,p.jsxs)(b.Z,{xs:1,xl:"auto",className:"search-menu",children:[(0,p.jsxs)(x.Z,{className:"filter-course-dropdown",children:[(0,p.jsx)(x.Z.Toggle,{variant:"outline-primary",id:"filter-course-button",disabled:null==i,children:l(d.filter_by_course,{course:h?(0,Z.kT)(c,"course.",h):f})}),(0,p.jsx)(x.Z.Menu,{children:_})]}),(0,p.jsxs)(x.Z,{className:"filter-cuisine-dropdown",children:[(0,p.jsx)(x.Z.Toggle,{variant:"outline-primary",id:"filter-cuisine-button",disabled:null==i,children:l(d.filter_by_cuisine,{cuisine:g?(0,Z.kT)(c,"cuisine.",g):f})}),(0,p.jsx)(x.Z.Menu,{children:j})]})]})},j=function(e){var n=e.search,r=e.courses,i=e.cuisines,t=e.qs,s=e.qsString,u=e.buildUrl,a=(0,o.Z)().formatMessage,c=(0,m.vU)({random_heading:{id:"random.heading",description:"Heading of the random page.",defaultMessage:"Random recipe"},random_text:{id:"random.heading.text",description:"Some nice text above the random search results.",defaultMessage:"Looking for an awesome meal? There are plenty waiting for you!"}}),l=null===n||void 0===n?void 0:n[s];return(0,p.jsxs)(b.Z,{xs:1,sm:2,className:"random-header-container",children:[(0,p.jsxs)("div",{children:[(0,p.jsx)("h2",{children:a(c.random_heading)}),(0,p.jsx)(_.Z,{children:a(c.random_text)})]}),(0,p.jsx)(k,{qs:t,search:l,courses:r,cuisines:i,buildUrl:u})]})},C=r(1418),T=r(2896),S=function(){var e=(0,c.I0)(),n=(0,o.Z)(),r=(0,y.lr)(),h=(0,i.Z)(r,1)[0],m=(0,c.v9)((function(e){return e.browse.search.items})),v=Object.fromEntries(h),_=(0,f.mergeDefaultFilters)(l,v),b=(0,Z.pj)(_),x=(0,t.useCallback)((function(){return e(a.fetchCourses())}),[e,a]),k=(0,c.v9)((function(e){return e.recipeGroups.courses.items}));(0,C.Z)(x,k);var S=(0,t.useCallback)((function(){return e(a.fetchCuisines())}),[e,a]),w=(0,c.v9)((function(e){return e.recipeGroups.cuisines.items}));(0,C.Z)(S,w);var M=function(){e(u.f(_))};(0,t.useEffect)((function(){M()}),[h]);var U=(0,t.useCallback)((function(e,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return(0,f.buildSearchUrl)("random",v,e,n,r)}),[v]),E=(0,t.useCallback)((function(n){e(s.MA(n))}),[e]);return(0,p.jsxs)(d.Z,{title:n.messages["nav.recipes"],children:[(0,p.jsx)(j,{search:m,courses:k,cuisines:w,qs:v,qsString:b,buildUrl:U}),(0,p.jsx)(T.Z,{qs:v,qsString:b,buildUrl:U,onOpenRecipe:E}),(0,p.jsx)(g,{onReloadClick:M})]})}},63:function(e,n,r){r.r(n),r.d(n,{fetchCourses:function(){return l},fetchCuisines:function(){return d},fetchTags:function(){return f}});var i=r(1413),t=r(7572),o=r(8263),s=r(7728),u=r(1818),a=r(1220),c=r(9656),l=function(){return function(e){e((0,i.Z)({},(0,c.s_)(a.pq,s.o.GET_START))),(0,t.WY)().get(o.m.course).then((function(n){e((0,i.Z)((0,i.Z)({},(0,c.s_)(a.pq,s.o.GET_SUCCESS)),{},{payload:n.body.results.filter((function(e){return"-"!==e.title})).map((function(e){return(0,u.Xi)(e)}))}))})).catch((function(n){return e((0,t.S3)(n,a.pq))}))}},d=function(){return function(e){e((0,i.Z)({},(0,c.s_)(a.xv,s.o.GET_START))),(0,t.WY)().get(o.m.cuisine).then((function(n){e((0,i.Z)((0,i.Z)({},(0,c.s_)(a.xv,s.o.GET_SUCCESS)),{},{payload:n.body.results.filter((function(e){return"-"!==e.title})).map((function(e){return(0,u.dS)(e)}))}))})).catch((function(n){return e((0,t.S3)(n,a.xv))}))}},f=function(){return function(e){e((0,i.Z)({},(0,c.s_)(a.ic,s.o.GET_START))),(0,t.WY)().get(o.m.tag).then((function(n){e((0,i.Z)((0,i.Z)({},(0,c.s_)(a.ic,s.o.GET_SUCCESS)),{},{payload:n.body.results.map((function(e){return(0,u.uk)(e)}))}))})).catch((function(n){return e((0,t.S3)(n,a.ic))}))}}},7493:function(){}}]);
//# sourceMappingURL=791.9e36fc3b.chunk.js.map