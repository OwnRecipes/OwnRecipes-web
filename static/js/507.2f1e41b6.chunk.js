"use strict";(self.webpackChunkownrecipes_web=self.webpackChunkownrecipes_web||[]).push([[507,671],{8722:(e,s,a)=>{a.d(s,{A:()=>l});var i=a(5043);function l(e,s){(0,i.useEffect)((()=>{null==s&&e()}),[e,s])}},7805:(e,s,a)=>{a.r(s),a.d(s,{default:()=>w});var i=a(5043),l=a(97),n=a(1318),r=a(3306),o=a(3839),t=a(6439),d=a(5386);const c={limit:6};var u=a(8591),h=a(594),m=a(4282),_=a(3626),v=(a(1493),a(6308)),f=a(2521),p=a(579);const y=(0,_.YK)({search_nothing_found_yet_heading:{id:"random.reload.heading",description:"Nothing found?",defaultMessage:"Not the right one?"},search_nothing_found_yet:{id:"random.reload.text",description:"Nothing found? Text",defaultMessage:"Just give it another try."},search_reload_button:{id:"random.reload.button",description:"Title/tooltip of the icon button to reload to recipes.",defaultMessage:"Reload recipes"}}),b=e=>{let{onReloadClick:s}=e;const{formatMessage:a}=(0,l.A)();return(0,p.jsx)("div",{className:"search-reload reload-container print-hidden",children:(0,p.jsxs)("div",{className:"search-reload modal-content",children:[(0,p.jsxs)("div",{className:"search-reload-box",children:[(0,p.jsx)("h2",{children:a(y.search_nothing_found_yet_heading)}),(0,p.jsx)(f.A,{children:a(y.search_nothing_found_yet)})]}),(0,p.jsx)("div",{className:"search-reload-button-box",children:(0,p.jsx)(m.A,{id:"reload-random-button",variant:"primary","aria-label":a(y.search_reload_button),onClick:s,children:(0,p.jsx)(v.A,{icon:"arrow-repeat",variant:"light"})})})]})})};var g=a(1072),x=a(5258),k=a(5838);const A=(0,_.YK)({filter_by_course:{id:"random.search.menu.filter_by_course_dropdown",description:"Filter by main/...",defaultMessage:"Course: {course}"},filter_by_cuisine:{id:"random.search.menu.filter_by_cuisine_dropdown",description:"Filter by indian/...",defaultMessage:"Cuisine: {cuisine}"},filter_by_season:{id:"random.search.menu.filter_by_season_dropdown",description:"Filter by spring/...",defaultMessage:"Season: {season}"},filter_all:{id:"random.search.menu.filter_all",description:"Item to not filter at all",defaultMessage:"(All)"}}),S=e=>{var s,a,r;let{search:o,qs:t,courses:d,cuisines:c,seasons:u,buildUrl:h}=e;const m=(0,l.A)(),{formatMessage:_}=m,v=_(A.filter_all),f=null!==(s=t.course__slug)&&void 0!==s?s:"",y=(0,i.useCallback)(((e,s)=>{f===s&&e.preventDefault()}),[f]),b=null===d||void 0===d?void 0:d.map((e=>({key:e.title,value:(0,k.yW)(m,"course.",e.title)}))).sort(((e,s)=>e.value.localeCompare(s.value)));null===b||void 0===b||b.unshift({key:"",value:v});const S=null===b||void 0===b?void 0:b.map((e=>(0,p.jsx)(x.A.Item,{as:n.N_,to:h("course__slug",e.key),active:f===e.key,onClick:s=>y(s,e.key),children:e.value},e.key))),j=null!==(a=t.cuisine__slug)&&void 0!==a?a:"",C=(0,i.useCallback)(((e,s)=>{j===s&&e.preventDefault()}),[j]),E=null===c||void 0===c?void 0:c.map((e=>({key:e.title,value:(0,k.yW)(m,"cuisine.",e.title)}))).sort(((e,s)=>e.value.localeCompare(s.value)));null===E||void 0===E||E.unshift({key:"",value:v});const T=null===E||void 0===E?void 0:E.map((e=>(0,p.jsx)(x.A.Item,{as:n.N_,to:h("cuisine__slug",e.key),active:j===e.key,onClick:s=>C(s,e.key),children:e.value},e.key))),w=null!==(r=t.season__slug)&&void 0!==r?r:"",M=(0,i.useCallback)(((e,s)=>{w===s&&e.preventDefault()}),[w]),N=null===u||void 0===u?void 0:u.map((e=>({key:e.title,value:(0,k.yW)(m,"season.",e.title)})));null===N||void 0===N||N.unshift({key:"",value:v});const U=null===N||void 0===N?void 0:N.map((e=>(0,p.jsx)(x.A.Item,{as:n.N_,to:h("season__slug",e.key),active:w===e.key,onClick:s=>M(s,e.key),children:e.value},e.key)));return(0,p.jsxs)(g.A,{xs:1,xl:"auto",className:"search-menu",children:[(0,p.jsxs)(x.A,{className:"filter-course-dropdown",children:[(0,p.jsx)(x.A.Toggle,{variant:"outline-primary",id:"filter-course-button",disabled:null==o,children:_(A.filter_by_course,{course:f?(0,k.yW)(m,"course.",f):v})}),(0,p.jsx)(x.A.Menu,{children:S})]}),(0,p.jsxs)(x.A,{className:"filter-cuisine-dropdown",children:[(0,p.jsx)(x.A.Toggle,{variant:"outline-primary",id:"filter-cuisine-button",disabled:null==o,children:_(A.filter_by_cuisine,{cuisine:j?(0,k.yW)(m,"cuisine.",j):v})}),(0,p.jsx)(x.A.Menu,{children:T})]}),(0,p.jsxs)(x.A,{className:"filter-season-dropdown",children:[(0,p.jsx)(x.A.Toggle,{variant:"outline-primary",id:"filter-season-button",disabled:null==o,children:_(A.filter_by_season,{season:w?(0,k.yW)(m,"season.",w):v})}),(0,p.jsx)(x.A.Menu,{children:U})]})]})},j=(0,_.YK)({random_heading:{id:"random.heading",description:"Heading of the random page.",defaultMessage:"Random recipe"},random_text:{id:"random.heading.text",description:"Some nice text above the random search results.",defaultMessage:"Looking for an awesome meal? There are plenty waiting for you!"}}),C=e=>{let{search:s,courses:a,cuisines:i,seasons:n,qs:r,qsString:o,buildUrl:t}=e;const{formatMessage:d}=(0,l.A)(),c=null===s||void 0===s?void 0:s[o];return(0,p.jsxs)(g.A,{xs:1,sm:2,className:"random-header-container",children:[(0,p.jsxs)("div",{children:[(0,p.jsx)("h1",{children:d(j.random_heading)}),(0,p.jsx)(f.A,{children:d(j.random_text)})]}),(0,p.jsx)(S,{qs:r,search:c,courses:a,cuisines:i,seasons:n,buildUrl:t})]})};var E=a(8722),T=a(2316);const w=()=>{const e=(0,l.A)(),s=(0,d.wA)(),[a]=(0,n.ok)(),m=(0,d.d4)((e=>e.browse.browserSearch.items)),_=(0,i.useMemo)((()=>Object.fromEntries(a)),[a]),v=(0,i.useMemo)((()=>(0,h.mergeDefaultFilters)(c,_)),[c,_]),f=(0,i.useMemo)((()=>(0,k.an)(v)),[v]),y=(0,i.useCallback)((()=>{s(t.D())}),[]),g=(0,d.d4)((e=>e.recipeGroups.courses.items));(0,E.A)(y,g);const x=(0,i.useCallback)((()=>{s(t.gH())}),[]),A=(0,d.d4)((e=>e.recipeGroups.cuisines.items));(0,E.A)(x,A);const S=(0,i.useCallback)((()=>{s(t.Nb())}),[]),j=(0,d.d4)((e=>e.recipeGroups.seasons.items));(0,E.A)(S,j);const w=(0,i.useCallback)((()=>{s(o.fN(v))}),[v]);(0,i.useEffect)((()=>{w()}),[a]);const M=(0,i.useCallback)((function(e,s){let a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return(0,h.buildSearchUrl)("random",_,e,s,a)}),[h.buildSearchUrl,_]),N=(0,i.useCallback)((e=>{s(r.uv(e))}),[]);return(0,p.jsxs)(u.A,{title:e.messages["nav.recipes"],children:[(0,p.jsx)(C,{search:m,courses:g,cuisines:A,seasons:j,qs:_,qsString:f,buildUrl:M}),(0,p.jsx)(T.A,{qs:_,qsString:f,buildUrl:M,onOpenRecipe:N}),(0,p.jsx)(b,{onReloadClick:w})]})}},6439:(e,s,a)=>{a.d(s,{D:()=>c,Nb:()=>h,gH:()=>u,un:()=>m});var i=a(1948),l=a(6746),n=a(6847),r=a(7473),o=a(5386),t=a(9140),d=a(7041);const c=()=>e=>{e({...(0,o.OS)(d.Hq,n.h.GET_START)}),(0,i.Ay)().get(l.U.course).then((s=>{e({...(0,o.OS)(d.Hq,n.h.GET_SUCCESS),payload:s.body.results.filter((e=>"-"!==e.title)).map(r.hA)})})).catch((s=>e((0,t.H4)(s,d.Hq))))},u=()=>e=>{e({...(0,o.OS)(d.Ev,n.h.GET_START)}),(0,i.Ay)().get(l.U.cuisine).then((s=>{e({...(0,o.OS)(d.Ev,n.h.GET_SUCCESS),payload:s.body.results.filter((e=>"-"!==e.title)).map(r.I4)})})).catch((s=>e((0,t.H4)(s,d.Ev))))},h=()=>e=>{e({...(0,o.OS)(d.lb,n.h.GET_START)}),(0,i.Ay)().get(l.U.season).then((s=>{e({...(0,o.OS)(d.lb,n.h.GET_SUCCESS),payload:s.body.results.map(r.TD)})})).catch((s=>e((0,t.H4)(s,d.Ev))))},m=()=>e=>{e({...(0,o.OS)(d.EE,n.h.GET_START)}),(0,i.Ay)().get(l.U.tag).then((s=>{e({...(0,o.OS)(d.EE,n.h.GET_SUCCESS),payload:s.body.results.map(r.yQ)})})).catch((s=>e((0,t.H4)(s,d.EE))))}}}]);
//# sourceMappingURL=507.2f1e41b6.chunk.js.map